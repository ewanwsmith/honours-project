using Base:String
using DataFrames, Query
using CategoricalArrays
using CSV
using StatsBase
using Dates

include("3_spatial_prep.jl")

S1_data = DataFrame(Postcode=[ "G1", "G2", "G3", "G4", "G5",
    "G11", "G12", "G13", "G14", "G15", "G20", "G21", "G22", 
    "G23", "G31", "G32", "G33", "G34", "G40", "G41", "G42",
    "G43", "G44", "G45", "G46", "G51", "G52", "G53", "G60",
    "G61", "G62", "G63", "G64", "G65", "G66", "G67", "G68",
    "G71", "G72", "G73", "G74", "G75", "G76", "G77", "G78",
    "G81", "G82", "G83", "G84" ])

week1 = data |> @filter(_.DaysSince < (Date("2020-03-16") - firstdate)) |> DataFrame
S1_data._2020_03_16 = [
        count(i -> (i > 0), subset(week1, :PostcodePart => x -> x .== "G1").S1_seropositive),
        count(i -> (i > 0), subset(week1, :PostcodePart => x -> x .== "G2").S1_seropositive),
        count(i -> (i > 0), subset(week1, :PostcodePart => x -> x .== "G3").S1_seropositive),
        count(i -> (i > 0), subset(week1, :PostcodePart => x -> x .== "G4").S1_seropositive),
        count(i -> (i > 0), subset(week1, :PostcodePart => x -> x .== "G5").S1_seropositive),
        count(i -> (i > 0), subset(week1, :PostcodePart => x -> x .== "G11").S1_seropositive),
        count(i -> (i > 0), subset(week1, :PostcodePart => x -> x .== "G12").S1_seropositive),
        count(i -> (i > 0), subset(week1, :PostcodePart => x -> x .== "G13").S1_seropositive),
        count(i -> (i > 0), subset(week1, :PostcodePart => x -> x .== "G14").S1_seropositive),
        count(i -> (i > 0), subset(week1, :PostcodePart => x -> x .== "G15").S1_seropositive),
        count(i -> (i > 0), subset(week1, :PostcodePart => x -> x .== "G20").S1_seropositive),
        count(i -> (i > 0), subset(week1, :PostcodePart => x -> x .== "G21").S1_seropositive),
        count(i -> (i > 0), subset(week1, :PostcodePart => x -> x .== "G22").S1_seropositive),
        count(i -> (i > 0), subset(week1, :PostcodePart => x -> x .== "G23").S1_seropositive),
        count(i -> (i > 0), subset(week1, :PostcodePart => x -> x .== "G31").S1_seropositive),
        count(i -> (i > 0), subset(week1, :PostcodePart => x -> x .== "G32").S1_seropositive),
        count(i -> (i > 0), subset(week1, :PostcodePart => x -> x .== "G33").S1_seropositive),
        count(i -> (i > 0), subset(week1, :PostcodePart => x -> x .== "G34").S1_seropositive),
        count(i -> (i > 0), subset(week1, :PostcodePart => x -> x .== "G40").S1_seropositive),
        count(i -> (i > 0), subset(week1, :PostcodePart => x -> x .== "G41").S1_seropositive),
        count(i -> (i > 0), subset(week1, :PostcodePart => x -> x .== "G42").S1_seropositive),
        count(i -> (i > 0), subset(week1, :PostcodePart => x -> x .== "G43").S1_seropositive),
        count(i -> (i > 0), subset(week1, :PostcodePart => x -> x .== "G44").S1_seropositive),
        count(i -> (i > 0), subset(week1, :PostcodePart => x -> x .== "G45").S1_seropositive),
        count(i -> (i > 0), subset(week1, :PostcodePart => x -> x .== "G46").S1_seropositive),
        count(i -> (i > 0), subset(week1, :PostcodePart => x -> x .== "G51").S1_seropositive),
        count(i -> (i > 0), subset(week1, :PostcodePart => x -> x .== "G52").S1_seropositive),
        count(i -> (i > 0), subset(week1, :PostcodePart => x -> x .== "G53").S1_seropositive),
        count(i -> (i > 0), subset(week1, :PostcodePart => x -> x .== "G60").S1_seropositive),
        count(i -> (i > 0), subset(week1, :PostcodePart => x -> x .== "G61").S1_seropositive),
        count(i -> (i > 0), subset(week1, :PostcodePart => x -> x .== "G62").S1_seropositive),
        count(i -> (i > 0), subset(week1, :PostcodePart => x -> x .== "G63").S1_seropositive),
        count(i -> (i > 0), subset(week1, :PostcodePart => x -> x .== "G64").S1_seropositive),
        count(i -> (i > 0), subset(week1, :PostcodePart => x -> x .== "G65").S1_seropositive),
        count(i -> (i > 0), subset(week1, :PostcodePart => x -> x .== "G66").S1_seropositive),
        count(i -> (i > 0), subset(week1, :PostcodePart => x -> x .== "G67").S1_seropositive),
        count(i -> (i > 0), subset(week1, :PostcodePart => x -> x .== "G68").S1_seropositive),
        count(i -> (i > 0), subset(week1, :PostcodePart => x -> x .== "G71").S1_seropositive),
        count(i -> (i > 0), subset(week1, :PostcodePart => x -> x .== "G72").S1_seropositive),
        count(i -> (i > 0), subset(week1, :PostcodePart => x -> x .== "G73").S1_seropositive),
        count(i -> (i > 0), subset(week1, :PostcodePart => x -> x .== "G74").S1_seropositive),
        count(i -> (i > 0), subset(week1, :PostcodePart => x -> x .== "G75").S1_seropositive),
        count(i -> (i > 0), subset(week1, :PostcodePart => x -> x .== "G76").S1_seropositive),
        count(i -> (i > 0), subset(week1, :PostcodePart => x -> x .== "G77").S1_seropositive),
        count(i -> (i > 0), subset(week1, :PostcodePart => x -> x .== "G78").S1_seropositive),
        count(i -> (i > 0), subset(week1, :PostcodePart => x -> x .== "G81").S1_seropositive),
        count(i -> (i > 0), subset(week1, :PostcodePart => x -> x .== "G82").S1_seropositive),
        count(i -> (i > 0), subset(week1, :PostcodePart => x -> x .== "G83").S1_seropositive),
        count(i -> (i > 0), subset(week1, :PostcodePart => x -> x .== "G84").S1_seropositive)]
week2 = data |> @filter(_.DaysSince < (Date("2020-03-23") - firstdate)) |> DataFrame
S1_data._2020_03_23 = [
            count(i -> (i > 0), subset(week2, :PostcodePart => x -> x .== "G1").S1_seropositive),
            count(i -> (i > 0), subset(week2, :PostcodePart => x -> x .== "G2").S1_seropositive),
            count(i -> (i > 0), subset(week2, :PostcodePart => x -> x .== "G3").S1_seropositive),
            count(i -> (i > 0), subset(week2, :PostcodePart => x -> x .== "G4").S1_seropositive),
            count(i -> (i > 0), subset(week2, :PostcodePart => x -> x .== "G5").S1_seropositive),
            count(i -> (i > 0), subset(week2, :PostcodePart => x -> x .== "G11").S1_seropositive),
            count(i -> (i > 0), subset(week2, :PostcodePart => x -> x .== "G12").S1_seropositive),
            count(i -> (i > 0), subset(week2, :PostcodePart => x -> x .== "G13").S1_seropositive),
            count(i -> (i > 0), subset(week2, :PostcodePart => x -> x .== "G14").S1_seropositive),
            count(i -> (i > 0), subset(week2, :PostcodePart => x -> x .== "G15").S1_seropositive),
            count(i -> (i > 0), subset(week2, :PostcodePart => x -> x .== "G20").S1_seropositive),
            count(i -> (i > 0), subset(week2, :PostcodePart => x -> x .== "G21").S1_seropositive),
            count(i -> (i > 0), subset(week2, :PostcodePart => x -> x .== "G22").S1_seropositive),
            count(i -> (i > 0), subset(week2, :PostcodePart => x -> x .== "G23").S1_seropositive),
            count(i -> (i > 0), subset(week2, :PostcodePart => x -> x .== "G31").S1_seropositive),
            count(i -> (i > 0), subset(week2, :PostcodePart => x -> x .== "G32").S1_seropositive),
            count(i -> (i > 0), subset(week2, :PostcodePart => x -> x .== "G33").S1_seropositive),
            count(i -> (i > 0), subset(week2, :PostcodePart => x -> x .== "G34").S1_seropositive),
            count(i -> (i > 0), subset(week2, :PostcodePart => x -> x .== "G40").S1_seropositive),
            count(i -> (i > 0), subset(week2, :PostcodePart => x -> x .== "G41").S1_seropositive),
            count(i -> (i > 0), subset(week2, :PostcodePart => x -> x .== "G42").S1_seropositive),
            count(i -> (i > 0), subset(week2, :PostcodePart => x -> x .== "G43").S1_seropositive),
            count(i -> (i > 0), subset(week2, :PostcodePart => x -> x .== "G44").S1_seropositive),
            count(i -> (i > 0), subset(week2, :PostcodePart => x -> x .== "G45").S1_seropositive),
            count(i -> (i > 0), subset(week2, :PostcodePart => x -> x .== "G46").S1_seropositive),
            count(i -> (i > 0), subset(week2, :PostcodePart => x -> x .== "G51").S1_seropositive),
            count(i -> (i > 0), subset(week2, :PostcodePart => x -> x .== "G52").S1_seropositive),
            count(i -> (i > 0), subset(week2, :PostcodePart => x -> x .== "G53").S1_seropositive),
            count(i -> (i > 0), subset(week2, :PostcodePart => x -> x .== "G60").S1_seropositive),
            count(i -> (i > 0), subset(week2, :PostcodePart => x -> x .== "G61").S1_seropositive),
            count(i -> (i > 0), subset(week2, :PostcodePart => x -> x .== "G62").S1_seropositive),
            count(i -> (i > 0), subset(week2, :PostcodePart => x -> x .== "G63").S1_seropositive),
            count(i -> (i > 0), subset(week2, :PostcodePart => x -> x .== "G64").S1_seropositive),
            count(i -> (i > 0), subset(week2, :PostcodePart => x -> x .== "G65").S1_seropositive),
            count(i -> (i > 0), subset(week2, :PostcodePart => x -> x .== "G66").S1_seropositive),
            count(i -> (i > 0), subset(week2, :PostcodePart => x -> x .== "G67").S1_seropositive),
            count(i -> (i > 0), subset(week2, :PostcodePart => x -> x .== "G68").S1_seropositive),
            count(i -> (i > 0), subset(week2, :PostcodePart => x -> x .== "G71").S1_seropositive),
            count(i -> (i > 0), subset(week2, :PostcodePart => x -> x .== "G72").S1_seropositive),
            count(i -> (i > 0), subset(week2, :PostcodePart => x -> x .== "G73").S1_seropositive),
            count(i -> (i > 0), subset(week2, :PostcodePart => x -> x .== "G74").S1_seropositive),
            count(i -> (i > 0), subset(week2, :PostcodePart => x -> x .== "G75").S1_seropositive),
            count(i -> (i > 0), subset(week2, :PostcodePart => x -> x .== "G76").S1_seropositive),
            count(i -> (i > 0), subset(week2, :PostcodePart => x -> x .== "G77").S1_seropositive),
            count(i -> (i > 0), subset(week2, :PostcodePart => x -> x .== "G78").S1_seropositive),
            count(i -> (i > 0), subset(week2, :PostcodePart => x -> x .== "G81").S1_seropositive),
            count(i -> (i > 0), subset(week2, :PostcodePart => x -> x .== "G82").S1_seropositive),
            count(i -> (i > 0), subset(week2, :PostcodePart => x -> x .== "G83").S1_seropositive),
            count(i -> (i > 0), subset(week2, :PostcodePart => x -> x .== "G84").S1_seropositive)]
week3 = data |> @filter(_.DaysSince < (Date("2020-03-30") - firstdate)) |> DataFrame
S1_data._2020_03_30 = [
        count(i -> (i > 0), subset(week3, :PostcodePart => x -> x .== "G1").S1_seropositive),
        count(i -> (i > 0), subset(week3, :PostcodePart => x -> x .== "G2").S1_seropositive),
        count(i -> (i > 0), subset(week3, :PostcodePart => x -> x .== "G3").S1_seropositive),
        count(i -> (i > 0), subset(week3, :PostcodePart => x -> x .== "G4").S1_seropositive),
        count(i -> (i > 0), subset(week3, :PostcodePart => x -> x .== "G5").S1_seropositive),
        count(i -> (i > 0), subset(week3, :PostcodePart => x -> x .== "G11").S1_seropositive),
        count(i -> (i > 0), subset(week3, :PostcodePart => x -> x .== "G12").S1_seropositive),
        count(i -> (i > 0), subset(week3, :PostcodePart => x -> x .== "G13").S1_seropositive),
        count(i -> (i > 0), subset(week3, :PostcodePart => x -> x .== "G14").S1_seropositive),
        count(i -> (i > 0), subset(week3, :PostcodePart => x -> x .== "G15").S1_seropositive),
        count(i -> (i > 0), subset(week3, :PostcodePart => x -> x .== "G20").S1_seropositive),
        count(i -> (i > 0), subset(week3, :PostcodePart => x -> x .== "G21").S1_seropositive),
        count(i -> (i > 0), subset(week3, :PostcodePart => x -> x .== "G22").S1_seropositive),
        count(i -> (i > 0), subset(week3, :PostcodePart => x -> x .== "G23").S1_seropositive),
        count(i -> (i > 0), subset(week3, :PostcodePart => x -> x .== "G31").S1_seropositive),
        count(i -> (i > 0), subset(week3, :PostcodePart => x -> x .== "G32").S1_seropositive),
        count(i -> (i > 0), subset(week3, :PostcodePart => x -> x .== "G33").S1_seropositive),
        count(i -> (i > 0), subset(week3, :PostcodePart => x -> x .== "G34").S1_seropositive),
        count(i -> (i > 0), subset(week3, :PostcodePart => x -> x .== "G40").S1_seropositive),
        count(i -> (i > 0), subset(week3, :PostcodePart => x -> x .== "G41").S1_seropositive),
        count(i -> (i > 0), subset(week3, :PostcodePart => x -> x .== "G42").S1_seropositive),
        count(i -> (i > 0), subset(week3, :PostcodePart => x -> x .== "G43").S1_seropositive),
        count(i -> (i > 0), subset(week3, :PostcodePart => x -> x .== "G44").S1_seropositive),
        count(i -> (i > 0), subset(week3, :PostcodePart => x -> x .== "G45").S1_seropositive),
        count(i -> (i > 0), subset(week3, :PostcodePart => x -> x .== "G46").S1_seropositive),
        count(i -> (i > 0), subset(week3, :PostcodePart => x -> x .== "G51").S1_seropositive),
        count(i -> (i > 0), subset(week3, :PostcodePart => x -> x .== "G52").S1_seropositive),
        count(i -> (i > 0), subset(week3, :PostcodePart => x -> x .== "G53").S1_seropositive),
        count(i -> (i > 0), subset(week3, :PostcodePart => x -> x .== "G60").S1_seropositive),
        count(i -> (i > 0), subset(week3, :PostcodePart => x -> x .== "G61").S1_seropositive),
        count(i -> (i > 0), subset(week3, :PostcodePart => x -> x .== "G62").S1_seropositive),
        count(i -> (i > 0), subset(week3, :PostcodePart => x -> x .== "G63").S1_seropositive),
        count(i -> (i > 0), subset(week3, :PostcodePart => x -> x .== "G64").S1_seropositive),
        count(i -> (i > 0), subset(week3, :PostcodePart => x -> x .== "G65").S1_seropositive),
        count(i -> (i > 0), subset(week3, :PostcodePart => x -> x .== "G66").S1_seropositive),
        count(i -> (i > 0), subset(week3, :PostcodePart => x -> x .== "G67").S1_seropositive),
        count(i -> (i > 0), subset(week3, :PostcodePart => x -> x .== "G68").S1_seropositive),
        count(i -> (i > 0), subset(week3, :PostcodePart => x -> x .== "G71").S1_seropositive),
        count(i -> (i > 0), subset(week3, :PostcodePart => x -> x .== "G72").S1_seropositive),
        count(i -> (i > 0), subset(week3, :PostcodePart => x -> x .== "G73").S1_seropositive),
        count(i -> (i > 0), subset(week3, :PostcodePart => x -> x .== "G74").S1_seropositive),
        count(i -> (i > 0), subset(week3, :PostcodePart => x -> x .== "G75").S1_seropositive),
        count(i -> (i > 0), subset(week3, :PostcodePart => x -> x .== "G76").S1_seropositive),
        count(i -> (i > 0), subset(week3, :PostcodePart => x -> x .== "G77").S1_seropositive),
        count(i -> (i > 0), subset(week3, :PostcodePart => x -> x .== "G78").S1_seropositive),
        count(i -> (i > 0), subset(week3, :PostcodePart => x -> x .== "G81").S1_seropositive),
        count(i -> (i > 0), subset(week3, :PostcodePart => x -> x .== "G82").S1_seropositive),
        count(i -> (i > 0), subset(week3, :PostcodePart => x -> x .== "G83").S1_seropositive),
        count(i -> (i > 0), subset(week3, :PostcodePart => x -> x .== "G84").S1_seropositive)]
week4 = data |> @filter(_.DaysSince < (Date("2020-04-06") - firstdate)) |> DataFrame
S1_data._2020_04_06 = [
        count(i -> (i > 0), subset(week4, :PostcodePart => x -> x .== "G1").S1_seropositive),
        count(i -> (i > 0), subset(week4, :PostcodePart => x -> x .== "G2").S1_seropositive),
        count(i -> (i > 0), subset(week4, :PostcodePart => x -> x .== "G3").S1_seropositive),
        count(i -> (i > 0), subset(week4, :PostcodePart => x -> x .== "G4").S1_seropositive),
        count(i -> (i > 0), subset(week4, :PostcodePart => x -> x .== "G5").S1_seropositive),
        count(i -> (i > 0), subset(week4, :PostcodePart => x -> x .== "G11").S1_seropositive),
        count(i -> (i > 0), subset(week4, :PostcodePart => x -> x .== "G12").S1_seropositive),
        count(i -> (i > 0), subset(week4, :PostcodePart => x -> x .== "G13").S1_seropositive),
        count(i -> (i > 0), subset(week4, :PostcodePart => x -> x .== "G14").S1_seropositive),
        count(i -> (i > 0), subset(week4, :PostcodePart => x -> x .== "G15").S1_seropositive),
        count(i -> (i > 0), subset(week4, :PostcodePart => x -> x .== "G20").S1_seropositive),
        count(i -> (i > 0), subset(week4, :PostcodePart => x -> x .== "G21").S1_seropositive),
        count(i -> (i > 0), subset(week4, :PostcodePart => x -> x .== "G22").S1_seropositive),
        count(i -> (i > 0), subset(week4, :PostcodePart => x -> x .== "G23").S1_seropositive),
        count(i -> (i > 0), subset(week4, :PostcodePart => x -> x .== "G31").S1_seropositive),
        count(i -> (i > 0), subset(week4, :PostcodePart => x -> x .== "G32").S1_seropositive),
        count(i -> (i > 0), subset(week4, :PostcodePart => x -> x .== "G33").S1_seropositive),
        count(i -> (i > 0), subset(week4, :PostcodePart => x -> x .== "G34").S1_seropositive),
        count(i -> (i > 0), subset(week4, :PostcodePart => x -> x .== "G40").S1_seropositive),
        count(i -> (i > 0), subset(week4, :PostcodePart => x -> x .== "G41").S1_seropositive),
        count(i -> (i > 0), subset(week4, :PostcodePart => x -> x .== "G42").S1_seropositive),
        count(i -> (i > 0), subset(week4, :PostcodePart => x -> x .== "G43").S1_seropositive),
        count(i -> (i > 0), subset(week4, :PostcodePart => x -> x .== "G44").S1_seropositive),
        count(i -> (i > 0), subset(week4, :PostcodePart => x -> x .== "G45").S1_seropositive),
        count(i -> (i > 0), subset(week4, :PostcodePart => x -> x .== "G46").S1_seropositive),
        count(i -> (i > 0), subset(week4, :PostcodePart => x -> x .== "G51").S1_seropositive),
        count(i -> (i > 0), subset(week4, :PostcodePart => x -> x .== "G52").S1_seropositive),
        count(i -> (i > 0), subset(week4, :PostcodePart => x -> x .== "G53").S1_seropositive),
        count(i -> (i > 0), subset(week4, :PostcodePart => x -> x .== "G60").S1_seropositive),
        count(i -> (i > 0), subset(week4, :PostcodePart => x -> x .== "G61").S1_seropositive),
        count(i -> (i > 0), subset(week4, :PostcodePart => x -> x .== "G62").S1_seropositive),
        count(i -> (i > 0), subset(week4, :PostcodePart => x -> x .== "G63").S1_seropositive),
        count(i -> (i > 0), subset(week4, :PostcodePart => x -> x .== "G64").S1_seropositive),
        count(i -> (i > 0), subset(week4, :PostcodePart => x -> x .== "G65").S1_seropositive),
        count(i -> (i > 0), subset(week4, :PostcodePart => x -> x .== "G66").S1_seropositive),
        count(i -> (i > 0), subset(week4, :PostcodePart => x -> x .== "G67").S1_seropositive),
        count(i -> (i > 0), subset(week4, :PostcodePart => x -> x .== "G68").S1_seropositive),
        count(i -> (i > 0), subset(week4, :PostcodePart => x -> x .== "G71").S1_seropositive),
        count(i -> (i > 0), subset(week4, :PostcodePart => x -> x .== "G72").S1_seropositive),
        count(i -> (i > 0), subset(week4, :PostcodePart => x -> x .== "G73").S1_seropositive),
        count(i -> (i > 0), subset(week4, :PostcodePart => x -> x .== "G74").S1_seropositive),
        count(i -> (i > 0), subset(week4, :PostcodePart => x -> x .== "G75").S1_seropositive),
        count(i -> (i > 0), subset(week4, :PostcodePart => x -> x .== "G76").S1_seropositive),
        count(i -> (i > 0), subset(week4, :PostcodePart => x -> x .== "G77").S1_seropositive),
        count(i -> (i > 0), subset(week4, :PostcodePart => x -> x .== "G78").S1_seropositive),
        count(i -> (i > 0), subset(week4, :PostcodePart => x -> x .== "G81").S1_seropositive),
        count(i -> (i > 0), subset(week4, :PostcodePart => x -> x .== "G82").S1_seropositive),
        count(i -> (i > 0), subset(week4, :PostcodePart => x -> x .== "G83").S1_seropositive),
        count(i -> (i > 0), subset(week4, :PostcodePart => x -> x .== "G84").S1_seropositive)]

week5 = data |> @filter(_.DaysSince < (Date("2020-04-13") - firstdate)) |> DataFrame
S1_data._2020_04_13 = [
        count(i -> (i > 0), subset(week5, :PostcodePart => x -> x .== "G1").S1_seropositive),
        count(i -> (i > 0), subset(week5, :PostcodePart => x -> x .== "G2").S1_seropositive),
        count(i -> (i > 0), subset(week5, :PostcodePart => x -> x .== "G3").S1_seropositive),
        count(i -> (i > 0), subset(week5, :PostcodePart => x -> x .== "G4").S1_seropositive),
        count(i -> (i > 0), subset(week5, :PostcodePart => x -> x .== "G5").S1_seropositive),
        count(i -> (i > 0), subset(week5, :PostcodePart => x -> x .== "G11").S1_seropositive),
        count(i -> (i > 0), subset(week5, :PostcodePart => x -> x .== "G12").S1_seropositive),
        count(i -> (i > 0), subset(week5, :PostcodePart => x -> x .== "G13").S1_seropositive),
        count(i -> (i > 0), subset(week5, :PostcodePart => x -> x .== "G14").S1_seropositive),
        count(i -> (i > 0), subset(week5, :PostcodePart => x -> x .== "G15").S1_seropositive),
        count(i -> (i > 0), subset(week5, :PostcodePart => x -> x .== "G20").S1_seropositive),
        count(i -> (i > 0), subset(week5, :PostcodePart => x -> x .== "G21").S1_seropositive),
        count(i -> (i > 0), subset(week5, :PostcodePart => x -> x .== "G22").S1_seropositive),
        count(i -> (i > 0), subset(week5, :PostcodePart => x -> x .== "G23").S1_seropositive),
        count(i -> (i > 0), subset(week5, :PostcodePart => x -> x .== "G31").S1_seropositive),
        count(i -> (i > 0), subset(week5, :PostcodePart => x -> x .== "G32").S1_seropositive),
        count(i -> (i > 0), subset(week5, :PostcodePart => x -> x .== "G33").S1_seropositive),
        count(i -> (i > 0), subset(week5, :PostcodePart => x -> x .== "G34").S1_seropositive),
        count(i -> (i > 0), subset(week5, :PostcodePart => x -> x .== "G40").S1_seropositive),
        count(i -> (i > 0), subset(week5, :PostcodePart => x -> x .== "G41").S1_seropositive),
        count(i -> (i > 0), subset(week5, :PostcodePart => x -> x .== "G42").S1_seropositive),
        count(i -> (i > 0), subset(week5, :PostcodePart => x -> x .== "G43").S1_seropositive),
        count(i -> (i > 0), subset(week5, :PostcodePart => x -> x .== "G44").S1_seropositive),
        count(i -> (i > 0), subset(week5, :PostcodePart => x -> x .== "G45").S1_seropositive),
        count(i -> (i > 0), subset(week5, :PostcodePart => x -> x .== "G46").S1_seropositive),
        count(i -> (i > 0), subset(week5, :PostcodePart => x -> x .== "G51").S1_seropositive),
        count(i -> (i > 0), subset(week5, :PostcodePart => x -> x .== "G52").S1_seropositive),
        count(i -> (i > 0), subset(week5, :PostcodePart => x -> x .== "G53").S1_seropositive),
        count(i -> (i > 0), subset(week5, :PostcodePart => x -> x .== "G60").S1_seropositive),
        count(i -> (i > 0), subset(week5, :PostcodePart => x -> x .== "G61").S1_seropositive),
        count(i -> (i > 0), subset(week5, :PostcodePart => x -> x .== "G62").S1_seropositive),
        count(i -> (i > 0), subset(week5, :PostcodePart => x -> x .== "G63").S1_seropositive),
        count(i -> (i > 0), subset(week5, :PostcodePart => x -> x .== "G64").S1_seropositive),
        count(i -> (i > 0), subset(week5, :PostcodePart => x -> x .== "G65").S1_seropositive),
        count(i -> (i > 0), subset(week5, :PostcodePart => x -> x .== "G66").S1_seropositive),
        count(i -> (i > 0), subset(week5, :PostcodePart => x -> x .== "G67").S1_seropositive),
        count(i -> (i > 0), subset(week5, :PostcodePart => x -> x .== "G68").S1_seropositive),
        count(i -> (i > 0), subset(week5, :PostcodePart => x -> x .== "G71").S1_seropositive),
        count(i -> (i > 0), subset(week5, :PostcodePart => x -> x .== "G72").S1_seropositive),
        count(i -> (i > 0), subset(week5, :PostcodePart => x -> x .== "G73").S1_seropositive),
        count(i -> (i > 0), subset(week5, :PostcodePart => x -> x .== "G74").S1_seropositive),
        count(i -> (i > 0), subset(week5, :PostcodePart => x -> x .== "G75").S1_seropositive),
        count(i -> (i > 0), subset(week5, :PostcodePart => x -> x .== "G76").S1_seropositive),
        count(i -> (i > 0), subset(week5, :PostcodePart => x -> x .== "G77").S1_seropositive),
        count(i -> (i > 0), subset(week5, :PostcodePart => x -> x .== "G78").S1_seropositive),
        count(i -> (i > 0), subset(week5, :PostcodePart => x -> x .== "G81").S1_seropositive),
        count(i -> (i > 0), subset(week5, :PostcodePart => x -> x .== "G82").S1_seropositive),
        count(i -> (i > 0), subset(week5, :PostcodePart => x -> x .== "G83").S1_seropositive),
        count(i -> (i > 0), subset(week5, :PostcodePart => x -> x .== "G84").S1_seropositive)]
week6 = data |> @filter(_.DaysSince < (Date("2020-04-20") - firstdate)) |> DataFrame
S1_data._2020_04_20 = [
        count(i -> (i > 0), subset(week6, :PostcodePart => x -> x .== "G1").S1_seropositive),
        count(i -> (i > 0), subset(week6, :PostcodePart => x -> x .== "G2").S1_seropositive),
        count(i -> (i > 0), subset(week6, :PostcodePart => x -> x .== "G3").S1_seropositive),
        count(i -> (i > 0), subset(week6, :PostcodePart => x -> x .== "G4").S1_seropositive),
        count(i -> (i > 0), subset(week6, :PostcodePart => x -> x .== "G5").S1_seropositive),
        count(i -> (i > 0), subset(week6, :PostcodePart => x -> x .== "G11").S1_seropositive),
        count(i -> (i > 0), subset(week6, :PostcodePart => x -> x .== "G12").S1_seropositive),
        count(i -> (i > 0), subset(week6, :PostcodePart => x -> x .== "G13").S1_seropositive),
        count(i -> (i > 0), subset(week6, :PostcodePart => x -> x .== "G14").S1_seropositive),
        count(i -> (i > 0), subset(week6, :PostcodePart => x -> x .== "G15").S1_seropositive),
        count(i -> (i > 0), subset(week6, :PostcodePart => x -> x .== "G20").S1_seropositive),
        count(i -> (i > 0), subset(week6, :PostcodePart => x -> x .== "G21").S1_seropositive),
        count(i -> (i > 0), subset(week6, :PostcodePart => x -> x .== "G22").S1_seropositive),
        count(i -> (i > 0), subset(week6, :PostcodePart => x -> x .== "G23").S1_seropositive),
        count(i -> (i > 0), subset(week6, :PostcodePart => x -> x .== "G31").S1_seropositive),
        count(i -> (i > 0), subset(week6, :PostcodePart => x -> x .== "G32").S1_seropositive),
        count(i -> (i > 0), subset(week6, :PostcodePart => x -> x .== "G33").S1_seropositive),
        count(i -> (i > 0), subset(week6, :PostcodePart => x -> x .== "G34").S1_seropositive),
        count(i -> (i > 0), subset(week6, :PostcodePart => x -> x .== "G40").S1_seropositive),
        count(i -> (i > 0), subset(week6, :PostcodePart => x -> x .== "G41").S1_seropositive),
        count(i -> (i > 0), subset(week6, :PostcodePart => x -> x .== "G42").S1_seropositive),
        count(i -> (i > 0), subset(week6, :PostcodePart => x -> x .== "G43").S1_seropositive),
        count(i -> (i > 0), subset(week6, :PostcodePart => x -> x .== "G44").S1_seropositive),
        count(i -> (i > 0), subset(week6, :PostcodePart => x -> x .== "G45").S1_seropositive),
        count(i -> (i > 0), subset(week6, :PostcodePart => x -> x .== "G46").S1_seropositive),
        count(i -> (i > 0), subset(week6, :PostcodePart => x -> x .== "G51").S1_seropositive),
        count(i -> (i > 0), subset(week6, :PostcodePart => x -> x .== "G52").S1_seropositive),
        count(i -> (i > 0), subset(week6, :PostcodePart => x -> x .== "G53").S1_seropositive),
        count(i -> (i > 0), subset(week6, :PostcodePart => x -> x .== "G60").S1_seropositive),
        count(i -> (i > 0), subset(week6, :PostcodePart => x -> x .== "G61").S1_seropositive),
        count(i -> (i > 0), subset(week6, :PostcodePart => x -> x .== "G62").S1_seropositive),
        count(i -> (i > 0), subset(week6, :PostcodePart => x -> x .== "G63").S1_seropositive),
        count(i -> (i > 0), subset(week6, :PostcodePart => x -> x .== "G64").S1_seropositive),
        count(i -> (i > 0), subset(week6, :PostcodePart => x -> x .== "G65").S1_seropositive),
        count(i -> (i > 0), subset(week6, :PostcodePart => x -> x .== "G66").S1_seropositive),
        count(i -> (i > 0), subset(week6, :PostcodePart => x -> x .== "G67").S1_seropositive),
        count(i -> (i > 0), subset(week6, :PostcodePart => x -> x .== "G68").S1_seropositive),
        count(i -> (i > 0), subset(week6, :PostcodePart => x -> x .== "G71").S1_seropositive),
        count(i -> (i > 0), subset(week6, :PostcodePart => x -> x .== "G72").S1_seropositive),
        count(i -> (i > 0), subset(week6, :PostcodePart => x -> x .== "G73").S1_seropositive),
        count(i -> (i > 0), subset(week6, :PostcodePart => x -> x .== "G74").S1_seropositive),
        count(i -> (i > 0), subset(week6, :PostcodePart => x -> x .== "G75").S1_seropositive),
        count(i -> (i > 0), subset(week6, :PostcodePart => x -> x .== "G76").S1_seropositive),
        count(i -> (i > 0), subset(week6, :PostcodePart => x -> x .== "G77").S1_seropositive),
        count(i -> (i > 0), subset(week6, :PostcodePart => x -> x .== "G78").S1_seropositive),
        count(i -> (i > 0), subset(week6, :PostcodePart => x -> x .== "G81").S1_seropositive),
        count(i -> (i > 0), subset(week6, :PostcodePart => x -> x .== "G82").S1_seropositive),
        count(i -> (i > 0), subset(week6, :PostcodePart => x -> x .== "G83").S1_seropositive),
        count(i -> (i > 0), subset(week6, :PostcodePart => x -> x .== "G84").S1_seropositive)]
week7 = data |> @filter(_.DaysSince < (Date("2020-04-27") - firstdate)) |> DataFrame
S1_data._2020_04_27 = [
            count(i -> (i > 0), subset(week7, :PostcodePart => x -> x .== "G1").S1_seropositive),
            count(i -> (i > 0), subset(week7, :PostcodePart => x -> x .== "G2").S1_seropositive),
            count(i -> (i > 0), subset(week7, :PostcodePart => x -> x .== "G3").S1_seropositive),
            count(i -> (i > 0), subset(week7, :PostcodePart => x -> x .== "G4").S1_seropositive),
            count(i -> (i > 0), subset(week7, :PostcodePart => x -> x .== "G5").S1_seropositive),
            count(i -> (i > 0), subset(week7, :PostcodePart => x -> x .== "G11").S1_seropositive),
            count(i -> (i > 0), subset(week7, :PostcodePart => x -> x .== "G12").S1_seropositive),
            count(i -> (i > 0), subset(week7, :PostcodePart => x -> x .== "G13").S1_seropositive),
            count(i -> (i > 0), subset(week7, :PostcodePart => x -> x .== "G14").S1_seropositive),
            count(i -> (i > 0), subset(week7, :PostcodePart => x -> x .== "G15").S1_seropositive),
            count(i -> (i > 0), subset(week7, :PostcodePart => x -> x .== "G20").S1_seropositive),
            count(i -> (i > 0), subset(week7, :PostcodePart => x -> x .== "G21").S1_seropositive),
            count(i -> (i > 0), subset(week7, :PostcodePart => x -> x .== "G22").S1_seropositive),
            count(i -> (i > 0), subset(week7, :PostcodePart => x -> x .== "G23").S1_seropositive),
            count(i -> (i > 0), subset(week7, :PostcodePart => x -> x .== "G31").S1_seropositive),
            count(i -> (i > 0), subset(week7, :PostcodePart => x -> x .== "G32").S1_seropositive),
            count(i -> (i > 0), subset(week7, :PostcodePart => x -> x .== "G33").S1_seropositive),
            count(i -> (i > 0), subset(week7, :PostcodePart => x -> x .== "G34").S1_seropositive),
            count(i -> (i > 0), subset(week7, :PostcodePart => x -> x .== "G40").S1_seropositive),
            count(i -> (i > 0), subset(week7, :PostcodePart => x -> x .== "G41").S1_seropositive),
            count(i -> (i > 0), subset(week7, :PostcodePart => x -> x .== "G42").S1_seropositive),
            count(i -> (i > 0), subset(week7, :PostcodePart => x -> x .== "G43").S1_seropositive),
            count(i -> (i > 0), subset(week7, :PostcodePart => x -> x .== "G44").S1_seropositive),
            count(i -> (i > 0), subset(week7, :PostcodePart => x -> x .== "G45").S1_seropositive),
            count(i -> (i > 0), subset(week7, :PostcodePart => x -> x .== "G46").S1_seropositive),
            count(i -> (i > 0), subset(week7, :PostcodePart => x -> x .== "G51").S1_seropositive),
            count(i -> (i > 0), subset(week7, :PostcodePart => x -> x .== "G52").S1_seropositive),
            count(i -> (i > 0), subset(week7, :PostcodePart => x -> x .== "G53").S1_seropositive),
            count(i -> (i > 0), subset(week7, :PostcodePart => x -> x .== "G60").S1_seropositive),
            count(i -> (i > 0), subset(week7, :PostcodePart => x -> x .== "G61").S1_seropositive),
            count(i -> (i > 0), subset(week7, :PostcodePart => x -> x .== "G62").S1_seropositive),
            count(i -> (i > 0), subset(week7, :PostcodePart => x -> x .== "G63").S1_seropositive),
            count(i -> (i > 0), subset(week7, :PostcodePart => x -> x .== "G64").S1_seropositive),
            count(i -> (i > 0), subset(week7, :PostcodePart => x -> x .== "G65").S1_seropositive),
            count(i -> (i > 0), subset(week7, :PostcodePart => x -> x .== "G66").S1_seropositive),
            count(i -> (i > 0), subset(week7, :PostcodePart => x -> x .== "G67").S1_seropositive),
            count(i -> (i > 0), subset(week7, :PostcodePart => x -> x .== "G68").S1_seropositive),
            count(i -> (i > 0), subset(week7, :PostcodePart => x -> x .== "G71").S1_seropositive),
            count(i -> (i > 0), subset(week7, :PostcodePart => x -> x .== "G72").S1_seropositive),
            count(i -> (i > 0), subset(week7, :PostcodePart => x -> x .== "G73").S1_seropositive),
            count(i -> (i > 0), subset(week7, :PostcodePart => x -> x .== "G74").S1_seropositive),
            count(i -> (i > 0), subset(week7, :PostcodePart => x -> x .== "G75").S1_seropositive),
            count(i -> (i > 0), subset(week7, :PostcodePart => x -> x .== "G76").S1_seropositive),
            count(i -> (i > 0), subset(week7, :PostcodePart => x -> x .== "G77").S1_seropositive),
            count(i -> (i > 0), subset(week7, :PostcodePart => x -> x .== "G78").S1_seropositive),
            count(i -> (i > 0), subset(week7, :PostcodePart => x -> x .== "G81").S1_seropositive),
            count(i -> (i > 0), subset(week7, :PostcodePart => x -> x .== "G82").S1_seropositive),
            count(i -> (i > 0), subset(week7, :PostcodePart => x -> x .== "G83").S1_seropositive),
            count(i -> (i > 0), subset(week7, :PostcodePart => x -> x .== "G84").S1_seropositive)]
week8 = data |> @filter(_.DaysSince < (Date("2020-05-04") - firstdate)) |> DataFrame
S1_data._2020_05_04 = [
                count(i -> (i > 0), subset(week8, :PostcodePart => x -> x .== "G1").S1_seropositive),
                count(i -> (i > 0), subset(week8, :PostcodePart => x -> x .== "G2").S1_seropositive),
                count(i -> (i > 0), subset(week8, :PostcodePart => x -> x .== "G3").S1_seropositive),
                count(i -> (i > 0), subset(week8, :PostcodePart => x -> x .== "G4").S1_seropositive),
                count(i -> (i > 0), subset(week8, :PostcodePart => x -> x .== "G5").S1_seropositive),
                count(i -> (i > 0), subset(week8, :PostcodePart => x -> x .== "G11").S1_seropositive),
                count(i -> (i > 0), subset(week8, :PostcodePart => x -> x .== "G12").S1_seropositive),
                count(i -> (i > 0), subset(week8, :PostcodePart => x -> x .== "G13").S1_seropositive),
                count(i -> (i > 0), subset(week8, :PostcodePart => x -> x .== "G14").S1_seropositive),
                count(i -> (i > 0), subset(week8, :PostcodePart => x -> x .== "G15").S1_seropositive),
                count(i -> (i > 0), subset(week8, :PostcodePart => x -> x .== "G20").S1_seropositive),
                count(i -> (i > 0), subset(week8, :PostcodePart => x -> x .== "G21").S1_seropositive),
                count(i -> (i > 0), subset(week8, :PostcodePart => x -> x .== "G22").S1_seropositive),
                count(i -> (i > 0), subset(week8, :PostcodePart => x -> x .== "G23").S1_seropositive),
                count(i -> (i > 0), subset(week8, :PostcodePart => x -> x .== "G31").S1_seropositive),
                count(i -> (i > 0), subset(week8, :PostcodePart => x -> x .== "G32").S1_seropositive),
                count(i -> (i > 0), subset(week8, :PostcodePart => x -> x .== "G33").S1_seropositive),
                count(i -> (i > 0), subset(week8, :PostcodePart => x -> x .== "G34").S1_seropositive),
                count(i -> (i > 0), subset(week8, :PostcodePart => x -> x .== "G40").S1_seropositive),
                count(i -> (i > 0), subset(week8, :PostcodePart => x -> x .== "G41").S1_seropositive),
                count(i -> (i > 0), subset(week8, :PostcodePart => x -> x .== "G42").S1_seropositive),
                count(i -> (i > 0), subset(week8, :PostcodePart => x -> x .== "G43").S1_seropositive),
                count(i -> (i > 0), subset(week8, :PostcodePart => x -> x .== "G44").S1_seropositive),
                count(i -> (i > 0), subset(week8, :PostcodePart => x -> x .== "G45").S1_seropositive),
                count(i -> (i > 0), subset(week8, :PostcodePart => x -> x .== "G46").S1_seropositive),
                count(i -> (i > 0), subset(week8, :PostcodePart => x -> x .== "G51").S1_seropositive),
                count(i -> (i > 0), subset(week8, :PostcodePart => x -> x .== "G52").S1_seropositive),
                count(i -> (i > 0), subset(week8, :PostcodePart => x -> x .== "G53").S1_seropositive),
                count(i -> (i > 0), subset(week8, :PostcodePart => x -> x .== "G60").S1_seropositive),
                count(i -> (i > 0), subset(week8, :PostcodePart => x -> x .== "G61").S1_seropositive),
                count(i -> (i > 0), subset(week8, :PostcodePart => x -> x .== "G62").S1_seropositive),
                count(i -> (i > 0), subset(week8, :PostcodePart => x -> x .== "G63").S1_seropositive),
                count(i -> (i > 0), subset(week8, :PostcodePart => x -> x .== "G64").S1_seropositive),
                count(i -> (i > 0), subset(week8, :PostcodePart => x -> x .== "G65").S1_seropositive),
                count(i -> (i > 0), subset(week8, :PostcodePart => x -> x .== "G66").S1_seropositive),
                count(i -> (i > 0), subset(week8, :PostcodePart => x -> x .== "G67").S1_seropositive),
                count(i -> (i > 0), subset(week8, :PostcodePart => x -> x .== "G68").S1_seropositive),
                count(i -> (i > 0), subset(week8, :PostcodePart => x -> x .== "G71").S1_seropositive),
                count(i -> (i > 0), subset(week8, :PostcodePart => x -> x .== "G72").S1_seropositive),
                count(i -> (i > 0), subset(week8, :PostcodePart => x -> x .== "G73").S1_seropositive),
                count(i -> (i > 0), subset(week8, :PostcodePart => x -> x .== "G74").S1_seropositive),
                count(i -> (i > 0), subset(week8, :PostcodePart => x -> x .== "G75").S1_seropositive),
                count(i -> (i > 0), subset(week8, :PostcodePart => x -> x .== "G76").S1_seropositive),
                count(i -> (i > 0), subset(week8, :PostcodePart => x -> x .== "G77").S1_seropositive),
                count(i -> (i > 0), subset(week8, :PostcodePart => x -> x .== "G78").S1_seropositive),
                count(i -> (i > 0), subset(week8, :PostcodePart => x -> x .== "G81").S1_seropositive),
                count(i -> (i > 0), subset(week8, :PostcodePart => x -> x .== "G82").S1_seropositive),
                count(i -> (i > 0), subset(week8, :PostcodePart => x -> x .== "G83").S1_seropositive),
                count(i -> (i > 0), subset(week8, :PostcodePart => x -> x .== "G84").S1_seropositive)]
week9 = data |> @filter(_.DaysSince < (Date("2020-05-11") - firstdate)) |> DataFrame
S1_data._2020_05_11 = [
                    count(i -> (i > 0), subset(week9, :PostcodePart => x -> x .== "G1").S1_seropositive),
                    count(i -> (i > 0), subset(week9, :PostcodePart => x -> x .== "G2").S1_seropositive),
                    count(i -> (i > 0), subset(week9, :PostcodePart => x -> x .== "G3").S1_seropositive),
                    count(i -> (i > 0), subset(week9, :PostcodePart => x -> x .== "G4").S1_seropositive),
                    count(i -> (i > 0), subset(week9, :PostcodePart => x -> x .== "G5").S1_seropositive),
                    count(i -> (i > 0), subset(week9, :PostcodePart => x -> x .== "G11").S1_seropositive),
                    count(i -> (i > 0), subset(week9, :PostcodePart => x -> x .== "G12").S1_seropositive),
                    count(i -> (i > 0), subset(week9, :PostcodePart => x -> x .== "G13").S1_seropositive),
                    count(i -> (i > 0), subset(week9, :PostcodePart => x -> x .== "G14").S1_seropositive),
                    count(i -> (i > 0), subset(week9, :PostcodePart => x -> x .== "G15").S1_seropositive),
                    count(i -> (i > 0), subset(week9, :PostcodePart => x -> x .== "G20").S1_seropositive),
                    count(i -> (i > 0), subset(week9, :PostcodePart => x -> x .== "G21").S1_seropositive),
                    count(i -> (i > 0), subset(week9, :PostcodePart => x -> x .== "G22").S1_seropositive),
                    count(i -> (i > 0), subset(week9, :PostcodePart => x -> x .== "G23").S1_seropositive),
                    count(i -> (i > 0), subset(week9, :PostcodePart => x -> x .== "G31").S1_seropositive),
                    count(i -> (i > 0), subset(week9, :PostcodePart => x -> x .== "G32").S1_seropositive),
                    count(i -> (i > 0), subset(week9, :PostcodePart => x -> x .== "G33").S1_seropositive),
                    count(i -> (i > 0), subset(week9, :PostcodePart => x -> x .== "G34").S1_seropositive),
                    count(i -> (i > 0), subset(week9, :PostcodePart => x -> x .== "G40").S1_seropositive),
                    count(i -> (i > 0), subset(week9, :PostcodePart => x -> x .== "G41").S1_seropositive),
                    count(i -> (i > 0), subset(week9, :PostcodePart => x -> x .== "G42").S1_seropositive),
                    count(i -> (i > 0), subset(week9, :PostcodePart => x -> x .== "G43").S1_seropositive),
                    count(i -> (i > 0), subset(week9, :PostcodePart => x -> x .== "G44").S1_seropositive),
                    count(i -> (i > 0), subset(week9, :PostcodePart => x -> x .== "G45").S1_seropositive),
                    count(i -> (i > 0), subset(week9, :PostcodePart => x -> x .== "G46").S1_seropositive),
                    count(i -> (i > 0), subset(week9, :PostcodePart => x -> x .== "G51").S1_seropositive),
                    count(i -> (i > 0), subset(week9, :PostcodePart => x -> x .== "G52").S1_seropositive),
                    count(i -> (i > 0), subset(week9, :PostcodePart => x -> x .== "G53").S1_seropositive),
                    count(i -> (i > 0), subset(week9, :PostcodePart => x -> x .== "G60").S1_seropositive),
                    count(i -> (i > 0), subset(week9, :PostcodePart => x -> x .== "G61").S1_seropositive),
                    count(i -> (i > 0), subset(week9, :PostcodePart => x -> x .== "G62").S1_seropositive),
                    count(i -> (i > 0), subset(week9, :PostcodePart => x -> x .== "G63").S1_seropositive),
                    count(i -> (i > 0), subset(week9, :PostcodePart => x -> x .== "G64").S1_seropositive),
                    count(i -> (i > 0), subset(week9, :PostcodePart => x -> x .== "G65").S1_seropositive),
                    count(i -> (i > 0), subset(week9, :PostcodePart => x -> x .== "G66").S1_seropositive),
                    count(i -> (i > 0), subset(week9, :PostcodePart => x -> x .== "G67").S1_seropositive),
                    count(i -> (i > 0), subset(week9, :PostcodePart => x -> x .== "G68").S1_seropositive),
                    count(i -> (i > 0), subset(week9, :PostcodePart => x -> x .== "G71").S1_seropositive),
                    count(i -> (i > 0), subset(week9, :PostcodePart => x -> x .== "G72").S1_seropositive),
                    count(i -> (i > 0), subset(week9, :PostcodePart => x -> x .== "G73").S1_seropositive),
                    count(i -> (i > 0), subset(week9, :PostcodePart => x -> x .== "G74").S1_seropositive),
                    count(i -> (i > 0), subset(week9, :PostcodePart => x -> x .== "G75").S1_seropositive),
                    count(i -> (i > 0), subset(week9, :PostcodePart => x -> x .== "G76").S1_seropositive),
                    count(i -> (i > 0), subset(week9, :PostcodePart => x -> x .== "G77").S1_seropositive),
                    count(i -> (i > 0), subset(week9, :PostcodePart => x -> x .== "G78").S1_seropositive),
                    count(i -> (i > 0), subset(week9, :PostcodePart => x -> x .== "G81").S1_seropositive),
                    count(i -> (i > 0), subset(week9, :PostcodePart => x -> x .== "G82").S1_seropositive),
                    count(i -> (i > 0), subset(week9, :PostcodePart => x -> x .== "G83").S1_seropositive),
                    count(i -> (i > 0), subset(week9, :PostcodePart => x -> x .== "G84").S1_seropositive)]
week10 = data |> @filter(_.DaysSince < (Date("2020-05-18") - firstdate)) |> DataFrame
S1_data._2020_05_18 = [
                        count(i -> (i > 0), subset(week10, :PostcodePart => x -> x .== "G1").S1_seropositive),
                        count(i -> (i > 0), subset(week10, :PostcodePart => x -> x .== "G2").S1_seropositive),
                        count(i -> (i > 0), subset(week10, :PostcodePart => x -> x .== "G3").S1_seropositive),
                        count(i -> (i > 0), subset(week10, :PostcodePart => x -> x .== "G4").S1_seropositive),
                        count(i -> (i > 0), subset(week10, :PostcodePart => x -> x .== "G5").S1_seropositive),
                        count(i -> (i > 0), subset(week10, :PostcodePart => x -> x .== "G11").S1_seropositive),
                        count(i -> (i > 0), subset(week10, :PostcodePart => x -> x .== "G12").S1_seropositive),
                        count(i -> (i > 0), subset(week10, :PostcodePart => x -> x .== "G13").S1_seropositive),
                        count(i -> (i > 0), subset(week10, :PostcodePart => x -> x .== "G14").S1_seropositive),
                        count(i -> (i > 0), subset(week10, :PostcodePart => x -> x .== "G15").S1_seropositive),
                        count(i -> (i > 0), subset(week10, :PostcodePart => x -> x .== "G20").S1_seropositive),
                        count(i -> (i > 0), subset(week10, :PostcodePart => x -> x .== "G21").S1_seropositive),
                        count(i -> (i > 0), subset(week10, :PostcodePart => x -> x .== "G22").S1_seropositive),
                        count(i -> (i > 0), subset(week10, :PostcodePart => x -> x .== "G23").S1_seropositive),
                        count(i -> (i > 0), subset(week10, :PostcodePart => x -> x .== "G31").S1_seropositive),
                        count(i -> (i > 0), subset(week10, :PostcodePart => x -> x .== "G32").S1_seropositive),
                        count(i -> (i > 0), subset(week10, :PostcodePart => x -> x .== "G33").S1_seropositive),
                        count(i -> (i > 0), subset(week10, :PostcodePart => x -> x .== "G34").S1_seropositive),
                        count(i -> (i > 0), subset(week10, :PostcodePart => x -> x .== "G40").S1_seropositive),
                        count(i -> (i > 0), subset(week10, :PostcodePart => x -> x .== "G41").S1_seropositive),
                        count(i -> (i > 0), subset(week10, :PostcodePart => x -> x .== "G42").S1_seropositive),
                        count(i -> (i > 0), subset(week10, :PostcodePart => x -> x .== "G43").S1_seropositive),
                        count(i -> (i > 0), subset(week10, :PostcodePart => x -> x .== "G44").S1_seropositive),
                        count(i -> (i > 0), subset(week10, :PostcodePart => x -> x .== "G45").S1_seropositive),
                        count(i -> (i > 0), subset(week10, :PostcodePart => x -> x .== "G46").S1_seropositive),
                        count(i -> (i > 0), subset(week10, :PostcodePart => x -> x .== "G51").S1_seropositive),
                        count(i -> (i > 0), subset(week10, :PostcodePart => x -> x .== "G52").S1_seropositive),
                        count(i -> (i > 0), subset(week10, :PostcodePart => x -> x .== "G53").S1_seropositive),
                        count(i -> (i > 0), subset(week10, :PostcodePart => x -> x .== "G60").S1_seropositive),
                        count(i -> (i > 0), subset(week10, :PostcodePart => x -> x .== "G61").S1_seropositive),
                        count(i -> (i > 0), subset(week10, :PostcodePart => x -> x .== "G62").S1_seropositive),
                        count(i -> (i > 0), subset(week10, :PostcodePart => x -> x .== "G63").S1_seropositive),
                        count(i -> (i > 0), subset(week10, :PostcodePart => x -> x .== "G64").S1_seropositive),
                        count(i -> (i > 0), subset(week10, :PostcodePart => x -> x .== "G65").S1_seropositive),
                        count(i -> (i > 0), subset(week10, :PostcodePart => x -> x .== "G66").S1_seropositive),
                        count(i -> (i > 0), subset(week10, :PostcodePart => x -> x .== "G67").S1_seropositive),
                        count(i -> (i > 0), subset(week10, :PostcodePart => x -> x .== "G68").S1_seropositive),
                        count(i -> (i > 0), subset(week10, :PostcodePart => x -> x .== "G71").S1_seropositive),
                        count(i -> (i > 0), subset(week10, :PostcodePart => x -> x .== "G72").S1_seropositive),
                        count(i -> (i > 0), subset(week10, :PostcodePart => x -> x .== "G73").S1_seropositive),
                        count(i -> (i > 0), subset(week10, :PostcodePart => x -> x .== "G74").S1_seropositive),
                        count(i -> (i > 0), subset(week10, :PostcodePart => x -> x .== "G75").S1_seropositive),
                        count(i -> (i > 0), subset(week10, :PostcodePart => x -> x .== "G76").S1_seropositive),
                        count(i -> (i > 0), subset(week10, :PostcodePart => x -> x .== "G77").S1_seropositive),
                        count(i -> (i > 0), subset(week10, :PostcodePart => x -> x .== "G78").S1_seropositive),
                        count(i -> (i > 0), subset(week10, :PostcodePart => x -> x .== "G81").S1_seropositive),
                        count(i -> (i > 0), subset(week10, :PostcodePart => x -> x .== "G82").S1_seropositive),
                        count(i -> (i > 0), subset(week10, :PostcodePart => x -> x .== "G83").S1_seropositive),
                        count(i -> (i > 0), subset(week10, :PostcodePart => x -> x .== "G84").S1_seropositive)]
week11 = data |> @filter(_.DaysSince < (Date("2020-05-25") - firstdate)) |> DataFrame
S1_data._2020_05_25 = [
                            count(i -> (i > 0), subset(week11, :PostcodePart => x -> x .== "G1").S1_seropositive),
                            count(i -> (i > 0), subset(week11, :PostcodePart => x -> x .== "G2").S1_seropositive),
                            count(i -> (i > 0), subset(week11, :PostcodePart => x -> x .== "G3").S1_seropositive),
                            count(i -> (i > 0), subset(week11, :PostcodePart => x -> x .== "G4").S1_seropositive),
                            count(i -> (i > 0), subset(week11, :PostcodePart => x -> x .== "G5").S1_seropositive),
                            count(i -> (i > 0), subset(week11, :PostcodePart => x -> x .== "G11").S1_seropositive),
                            count(i -> (i > 0), subset(week11, :PostcodePart => x -> x .== "G12").S1_seropositive),
                            count(i -> (i > 0), subset(week11, :PostcodePart => x -> x .== "G13").S1_seropositive),
                            count(i -> (i > 0), subset(week11, :PostcodePart => x -> x .== "G14").S1_seropositive),
                            count(i -> (i > 0), subset(week11, :PostcodePart => x -> x .== "G15").S1_seropositive),
                            count(i -> (i > 0), subset(week11, :PostcodePart => x -> x .== "G20").S1_seropositive),
                            count(i -> (i > 0), subset(week11, :PostcodePart => x -> x .== "G21").S1_seropositive),
                            count(i -> (i > 0), subset(week11, :PostcodePart => x -> x .== "G22").S1_seropositive),
                            count(i -> (i > 0), subset(week11, :PostcodePart => x -> x .== "G23").S1_seropositive),
                            count(i -> (i > 0), subset(week11, :PostcodePart => x -> x .== "G31").S1_seropositive),
                            count(i -> (i > 0), subset(week11, :PostcodePart => x -> x .== "G32").S1_seropositive),
                            count(i -> (i > 0), subset(week11, :PostcodePart => x -> x .== "G33").S1_seropositive),
                            count(i -> (i > 0), subset(week11, :PostcodePart => x -> x .== "G34").S1_seropositive),
                            count(i -> (i > 0), subset(week11, :PostcodePart => x -> x .== "G40").S1_seropositive),
                            count(i -> (i > 0), subset(week11, :PostcodePart => x -> x .== "G41").S1_seropositive),
                            count(i -> (i > 0), subset(week11, :PostcodePart => x -> x .== "G42").S1_seropositive),
                            count(i -> (i > 0), subset(week11, :PostcodePart => x -> x .== "G43").S1_seropositive),
                            count(i -> (i > 0), subset(week11, :PostcodePart => x -> x .== "G44").S1_seropositive),
                            count(i -> (i > 0), subset(week11, :PostcodePart => x -> x .== "G45").S1_seropositive),
                            count(i -> (i > 0), subset(week11, :PostcodePart => x -> x .== "G46").S1_seropositive),
                            count(i -> (i > 0), subset(week11, :PostcodePart => x -> x .== "G51").S1_seropositive),
                            count(i -> (i > 0), subset(week11, :PostcodePart => x -> x .== "G52").S1_seropositive),
                            count(i -> (i > 0), subset(week11, :PostcodePart => x -> x .== "G53").S1_seropositive),
                            count(i -> (i > 0), subset(week11, :PostcodePart => x -> x .== "G60").S1_seropositive),
                            count(i -> (i > 0), subset(week11, :PostcodePart => x -> x .== "G61").S1_seropositive),
                            count(i -> (i > 0), subset(week11, :PostcodePart => x -> x .== "G62").S1_seropositive),
                            count(i -> (i > 0), subset(week11, :PostcodePart => x -> x .== "G63").S1_seropositive),
                            count(i -> (i > 0), subset(week11, :PostcodePart => x -> x .== "G64").S1_seropositive),
                            count(i -> (i > 0), subset(week11, :PostcodePart => x -> x .== "G65").S1_seropositive),
                            count(i -> (i > 0), subset(week11, :PostcodePart => x -> x .== "G66").S1_seropositive),
                            count(i -> (i > 0), subset(week11, :PostcodePart => x -> x .== "G67").S1_seropositive),
                            count(i -> (i > 0), subset(week11, :PostcodePart => x -> x .== "G68").S1_seropositive),
                            count(i -> (i > 0), subset(week11, :PostcodePart => x -> x .== "G71").S1_seropositive),
                            count(i -> (i > 0), subset(week11, :PostcodePart => x -> x .== "G72").S1_seropositive),
                            count(i -> (i > 0), subset(week11, :PostcodePart => x -> x .== "G73").S1_seropositive),
                            count(i -> (i > 0), subset(week11, :PostcodePart => x -> x .== "G74").S1_seropositive),
                            count(i -> (i > 0), subset(week11, :PostcodePart => x -> x .== "G75").S1_seropositive),
                            count(i -> (i > 0), subset(week11, :PostcodePart => x -> x .== "G76").S1_seropositive),
                            count(i -> (i > 0), subset(week11, :PostcodePart => x -> x .== "G77").S1_seropositive),
                            count(i -> (i > 0), subset(week11, :PostcodePart => x -> x .== "G78").S1_seropositive),
                            count(i -> (i > 0), subset(week11, :PostcodePart => x -> x .== "G81").S1_seropositive),
                            count(i -> (i > 0), subset(week11, :PostcodePart => x -> x .== "G82").S1_seropositive),
                            count(i -> (i > 0), subset(week11, :PostcodePart => x -> x .== "G83").S1_seropositive),
                            count(i -> (i > 0), subset(week11, :PostcodePart => x -> x .== "G84").S1_seropositive)]
week12 = data |> @filter(_.DaysSince < (Date("2020-06-01") - firstdate)) |> DataFrame
S1_data._2020_06_01 = [
                                count(i -> (i > 0), subset(week12, :PostcodePart => x -> x .== "G1").S1_seropositive),
                                count(i -> (i > 0), subset(week12, :PostcodePart => x -> x .== "G2").S1_seropositive),
                                count(i -> (i > 0), subset(week12, :PostcodePart => x -> x .== "G3").S1_seropositive),
                                count(i -> (i > 0), subset(week12, :PostcodePart => x -> x .== "G4").S1_seropositive),
                                count(i -> (i > 0), subset(week12, :PostcodePart => x -> x .== "G5").S1_seropositive),
                                count(i -> (i > 0), subset(week12, :PostcodePart => x -> x .== "G11").S1_seropositive),
                                count(i -> (i > 0), subset(week12, :PostcodePart => x -> x .== "G12").S1_seropositive),
                                count(i -> (i > 0), subset(week12, :PostcodePart => x -> x .== "G13").S1_seropositive),
                                count(i -> (i > 0), subset(week12, :PostcodePart => x -> x .== "G14").S1_seropositive),
                                count(i -> (i > 0), subset(week12, :PostcodePart => x -> x .== "G15").S1_seropositive),
                                count(i -> (i > 0), subset(week12, :PostcodePart => x -> x .== "G20").S1_seropositive),
                                count(i -> (i > 0), subset(week12, :PostcodePart => x -> x .== "G21").S1_seropositive),
                                count(i -> (i > 0), subset(week12, :PostcodePart => x -> x .== "G22").S1_seropositive),
                                count(i -> (i > 0), subset(week12, :PostcodePart => x -> x .== "G23").S1_seropositive),
                                count(i -> (i > 0), subset(week12, :PostcodePart => x -> x .== "G31").S1_seropositive),
                                count(i -> (i > 0), subset(week12, :PostcodePart => x -> x .== "G32").S1_seropositive),
                                count(i -> (i > 0), subset(week12, :PostcodePart => x -> x .== "G33").S1_seropositive),
                                count(i -> (i > 0), subset(week12, :PostcodePart => x -> x .== "G34").S1_seropositive),
                                count(i -> (i > 0), subset(week12, :PostcodePart => x -> x .== "G40").S1_seropositive),
                                count(i -> (i > 0), subset(week12, :PostcodePart => x -> x .== "G41").S1_seropositive),
                                count(i -> (i > 0), subset(week12, :PostcodePart => x -> x .== "G42").S1_seropositive),
                                count(i -> (i > 0), subset(week12, :PostcodePart => x -> x .== "G43").S1_seropositive),
                                count(i -> (i > 0), subset(week12, :PostcodePart => x -> x .== "G44").S1_seropositive),
                                count(i -> (i > 0), subset(week12, :PostcodePart => x -> x .== "G45").S1_seropositive),
                                count(i -> (i > 0), subset(week12, :PostcodePart => x -> x .== "G46").S1_seropositive),
                                count(i -> (i > 0), subset(week12, :PostcodePart => x -> x .== "G51").S1_seropositive),
                                count(i -> (i > 0), subset(week12, :PostcodePart => x -> x .== "G52").S1_seropositive),
                                count(i -> (i > 0), subset(week12, :PostcodePart => x -> x .== "G53").S1_seropositive),
                                count(i -> (i > 0), subset(week12, :PostcodePart => x -> x .== "G60").S1_seropositive),
                                count(i -> (i > 0), subset(week12, :PostcodePart => x -> x .== "G61").S1_seropositive),
                                count(i -> (i > 0), subset(week12, :PostcodePart => x -> x .== "G62").S1_seropositive),
                                count(i -> (i > 0), subset(week12, :PostcodePart => x -> x .== "G63").S1_seropositive),
                                count(i -> (i > 0), subset(week12, :PostcodePart => x -> x .== "G64").S1_seropositive),
                                count(i -> (i > 0), subset(week12, :PostcodePart => x -> x .== "G65").S1_seropositive),
                                count(i -> (i > 0), subset(week12, :PostcodePart => x -> x .== "G66").S1_seropositive),
                                count(i -> (i > 0), subset(week12, :PostcodePart => x -> x .== "G67").S1_seropositive),
                                count(i -> (i > 0), subset(week12, :PostcodePart => x -> x .== "G68").S1_seropositive),
                                count(i -> (i > 0), subset(week12, :PostcodePart => x -> x .== "G71").S1_seropositive),
                                count(i -> (i > 0), subset(week12, :PostcodePart => x -> x .== "G72").S1_seropositive),
                                count(i -> (i > 0), subset(week12, :PostcodePart => x -> x .== "G73").S1_seropositive),
                                count(i -> (i > 0), subset(week12, :PostcodePart => x -> x .== "G74").S1_seropositive),
                                count(i -> (i > 0), subset(week12, :PostcodePart => x -> x .== "G75").S1_seropositive),
                                count(i -> (i > 0), subset(week12, :PostcodePart => x -> x .== "G76").S1_seropositive),
                                count(i -> (i > 0), subset(week12, :PostcodePart => x -> x .== "G77").S1_seropositive),
                                count(i -> (i > 0), subset(week12, :PostcodePart => x -> x .== "G78").S1_seropositive),
                                count(i -> (i > 0), subset(week12, :PostcodePart => x -> x .== "G81").S1_seropositive),
                                count(i -> (i > 0), subset(week12, :PostcodePart => x -> x .== "G82").S1_seropositive),
                                count(i -> (i > 0), subset(week12, :PostcodePart => x -> x .== "G83").S1_seropositive),
                                count(i -> (i > 0), subset(week12, :PostcodePart => x -> x .== "G84").S1_seropositive)]
week13 = data |> @filter(_.DaysSince < (Date("2020-06-08") - firstdate)) |> DataFrame
S1_data._2020_06_08 = [
                                    count(i -> (i > 0), subset(week13, :PostcodePart => x -> x .== "G1").S1_seropositive),
                                    count(i -> (i > 0), subset(week13, :PostcodePart => x -> x .== "G2").S1_seropositive),
                                    count(i -> (i > 0), subset(week13, :PostcodePart => x -> x .== "G3").S1_seropositive),
                                    count(i -> (i > 0), subset(week13, :PostcodePart => x -> x .== "G4").S1_seropositive),
                                    count(i -> (i > 0), subset(week13, :PostcodePart => x -> x .== "G5").S1_seropositive),
                                    count(i -> (i > 0), subset(week13, :PostcodePart => x -> x .== "G11").S1_seropositive),
                                    count(i -> (i > 0), subset(week13, :PostcodePart => x -> x .== "G12").S1_seropositive),
                                    count(i -> (i > 0), subset(week13, :PostcodePart => x -> x .== "G13").S1_seropositive),
                                    count(i -> (i > 0), subset(week13, :PostcodePart => x -> x .== "G14").S1_seropositive),
                                    count(i -> (i > 0), subset(week13, :PostcodePart => x -> x .== "G15").S1_seropositive),
                                    count(i -> (i > 0), subset(week13, :PostcodePart => x -> x .== "G20").S1_seropositive),
                                    count(i -> (i > 0), subset(week13, :PostcodePart => x -> x .== "G21").S1_seropositive),
                                    count(i -> (i > 0), subset(week13, :PostcodePart => x -> x .== "G22").S1_seropositive),
                                    count(i -> (i > 0), subset(week13, :PostcodePart => x -> x .== "G23").S1_seropositive),
                                    count(i -> (i > 0), subset(week13, :PostcodePart => x -> x .== "G31").S1_seropositive),
                                    count(i -> (i > 0), subset(week13, :PostcodePart => x -> x .== "G32").S1_seropositive),
                                    count(i -> (i > 0), subset(week13, :PostcodePart => x -> x .== "G33").S1_seropositive),
                                    count(i -> (i > 0), subset(week13, :PostcodePart => x -> x .== "G34").S1_seropositive),
                                    count(i -> (i > 0), subset(week13, :PostcodePart => x -> x .== "G40").S1_seropositive),
                                    count(i -> (i > 0), subset(week13, :PostcodePart => x -> x .== "G41").S1_seropositive),
                                    count(i -> (i > 0), subset(week13, :PostcodePart => x -> x .== "G42").S1_seropositive),
                                    count(i -> (i > 0), subset(week13, :PostcodePart => x -> x .== "G43").S1_seropositive),
                                    count(i -> (i > 0), subset(week13, :PostcodePart => x -> x .== "G44").S1_seropositive),
                                    count(i -> (i > 0), subset(week13, :PostcodePart => x -> x .== "G45").S1_seropositive),
                                    count(i -> (i > 0), subset(week13, :PostcodePart => x -> x .== "G46").S1_seropositive),
                                    count(i -> (i > 0), subset(week13, :PostcodePart => x -> x .== "G51").S1_seropositive),
                                    count(i -> (i > 0), subset(week13, :PostcodePart => x -> x .== "G52").S1_seropositive),
                                    count(i -> (i > 0), subset(week13, :PostcodePart => x -> x .== "G53").S1_seropositive),
                                    count(i -> (i > 0), subset(week13, :PostcodePart => x -> x .== "G60").S1_seropositive),
                                    count(i -> (i > 0), subset(week13, :PostcodePart => x -> x .== "G61").S1_seropositive),
                                    count(i -> (i > 0), subset(week13, :PostcodePart => x -> x .== "G62").S1_seropositive),
                                    count(i -> (i > 0), subset(week13, :PostcodePart => x -> x .== "G63").S1_seropositive),
                                    count(i -> (i > 0), subset(week13, :PostcodePart => x -> x .== "G64").S1_seropositive),
                                    count(i -> (i > 0), subset(week13, :PostcodePart => x -> x .== "G65").S1_seropositive),
                                    count(i -> (i > 0), subset(week13, :PostcodePart => x -> x .== "G66").S1_seropositive),
                                    count(i -> (i > 0), subset(week13, :PostcodePart => x -> x .== "G67").S1_seropositive),
                                    count(i -> (i > 0), subset(week13, :PostcodePart => x -> x .== "G68").S1_seropositive),
                                    count(i -> (i > 0), subset(week13, :PostcodePart => x -> x .== "G71").S1_seropositive),
                                    count(i -> (i > 0), subset(week13, :PostcodePart => x -> x .== "G72").S1_seropositive),
                                    count(i -> (i > 0), subset(week13, :PostcodePart => x -> x .== "G73").S1_seropositive),
                                    count(i -> (i > 0), subset(week13, :PostcodePart => x -> x .== "G74").S1_seropositive),
                                    count(i -> (i > 0), subset(week13, :PostcodePart => x -> x .== "G75").S1_seropositive),
                                    count(i -> (i > 0), subset(week13, :PostcodePart => x -> x .== "G76").S1_seropositive),
                                    count(i -> (i > 0), subset(week13, :PostcodePart => x -> x .== "G77").S1_seropositive),
                                    count(i -> (i > 0), subset(week13, :PostcodePart => x -> x .== "G78").S1_seropositive),
                                    count(i -> (i > 0), subset(week13, :PostcodePart => x -> x .== "G81").S1_seropositive),
                                    count(i -> (i > 0), subset(week13, :PostcodePart => x -> x .== "G82").S1_seropositive),
                                    count(i -> (i > 0), subset(week13, :PostcodePart => x -> x .== "G83").S1_seropositive),
                                    count(i -> (i > 0), subset(week13, :PostcodePart => x -> x .== "G84").S1_seropositive)]
week14 = data |> @filter(_.DaysSince < (Date("2020-06-15") - firstdate)) |> DataFrame
S1_data._2020_06_15 = [
        count(i -> (i > 0), subset(week14, :PostcodePart => x -> x .== "G1").S1_seropositive),
        count(i -> (i > 0), subset(week14, :PostcodePart => x -> x .== "G2").S1_seropositive),
        count(i -> (i > 0), subset(week14, :PostcodePart => x -> x .== "G3").S1_seropositive),
        count(i -> (i > 0), subset(week14, :PostcodePart => x -> x .== "G4").S1_seropositive),
        count(i -> (i > 0), subset(week14, :PostcodePart => x -> x .== "G5").S1_seropositive),
        count(i -> (i > 0), subset(week14, :PostcodePart => x -> x .== "G11").S1_seropositive),
        count(i -> (i > 0), subset(week14, :PostcodePart => x -> x .== "G12").S1_seropositive),
        count(i -> (i > 0), subset(week14, :PostcodePart => x -> x .== "G13").S1_seropositive),
        count(i -> (i > 0), subset(week14, :PostcodePart => x -> x .== "G14").S1_seropositive),
        count(i -> (i > 0), subset(week14, :PostcodePart => x -> x .== "G15").S1_seropositive),
        count(i -> (i > 0), subset(week14, :PostcodePart => x -> x .== "G20").S1_seropositive),
        count(i -> (i > 0), subset(week14, :PostcodePart => x -> x .== "G21").S1_seropositive),
        count(i -> (i > 0), subset(week14, :PostcodePart => x -> x .== "G22").S1_seropositive),
        count(i -> (i > 0), subset(week14, :PostcodePart => x -> x .== "G23").S1_seropositive),
        count(i -> (i > 0), subset(week14, :PostcodePart => x -> x .== "G31").S1_seropositive),
        count(i -> (i > 0), subset(week14, :PostcodePart => x -> x .== "G32").S1_seropositive),
        count(i -> (i > 0), subset(week14, :PostcodePart => x -> x .== "G33").S1_seropositive),
        count(i -> (i > 0), subset(week14, :PostcodePart => x -> x .== "G34").S1_seropositive),
        count(i -> (i > 0), subset(week14, :PostcodePart => x -> x .== "G40").S1_seropositive),
        count(i -> (i > 0), subset(week14, :PostcodePart => x -> x .== "G41").S1_seropositive),
        count(i -> (i > 0), subset(week14, :PostcodePart => x -> x .== "G42").S1_seropositive),
        count(i -> (i > 0), subset(week14, :PostcodePart => x -> x .== "G43").S1_seropositive),
        count(i -> (i > 0), subset(week14, :PostcodePart => x -> x .== "G44").S1_seropositive),
        count(i -> (i > 0), subset(week14, :PostcodePart => x -> x .== "G45").S1_seropositive),
        count(i -> (i > 0), subset(week14, :PostcodePart => x -> x .== "G46").S1_seropositive),
        count(i -> (i > 0), subset(week14, :PostcodePart => x -> x .== "G51").S1_seropositive),
        count(i -> (i > 0), subset(week14, :PostcodePart => x -> x .== "G52").S1_seropositive),
        count(i -> (i > 0), subset(week14, :PostcodePart => x -> x .== "G53").S1_seropositive),
        count(i -> (i > 0), subset(week14, :PostcodePart => x -> x .== "G60").S1_seropositive),
        count(i -> (i > 0), subset(week14, :PostcodePart => x -> x .== "G61").S1_seropositive),
        count(i -> (i > 0), subset(week14, :PostcodePart => x -> x .== "G62").S1_seropositive),
        count(i -> (i > 0), subset(week14, :PostcodePart => x -> x .== "G63").S1_seropositive),
        count(i -> (i > 0), subset(week14, :PostcodePart => x -> x .== "G64").S1_seropositive),
        count(i -> (i > 0), subset(week14, :PostcodePart => x -> x .== "G65").S1_seropositive),
        count(i -> (i > 0), subset(week14, :PostcodePart => x -> x .== "G66").S1_seropositive),
        count(i -> (i > 0), subset(week14, :PostcodePart => x -> x .== "G67").S1_seropositive),
        count(i -> (i > 0), subset(week14, :PostcodePart => x -> x .== "G68").S1_seropositive),
        count(i -> (i > 0), subset(week14, :PostcodePart => x -> x .== "G71").S1_seropositive),
        count(i -> (i > 0), subset(week14, :PostcodePart => x -> x .== "G72").S1_seropositive),
        count(i -> (i > 0), subset(week14, :PostcodePart => x -> x .== "G73").S1_seropositive),
        count(i -> (i > 0), subset(week14, :PostcodePart => x -> x .== "G74").S1_seropositive),
        count(i -> (i > 0), subset(week14, :PostcodePart => x -> x .== "G75").S1_seropositive),
        count(i -> (i > 0), subset(week14, :PostcodePart => x -> x .== "G76").S1_seropositive),
        count(i -> (i > 0), subset(week14, :PostcodePart => x -> x .== "G77").S1_seropositive),
        count(i -> (i > 0), subset(week14, :PostcodePart => x -> x .== "G78").S1_seropositive),
        count(i -> (i > 0), subset(week14, :PostcodePart => x -> x .== "G81").S1_seropositive),
        count(i -> (i > 0), subset(week14, :PostcodePart => x -> x .== "G82").S1_seropositive),
        count(i -> (i > 0), subset(week14, :PostcodePart => x -> x .== "G83").S1_seropositive),
        count(i -> (i > 0), subset(week14, :PostcodePart => x -> x .== "G84").S1_seropositive)]
week15 = data |> @filter(_.DaysSince < (Date("2020-06-22") - firstdate)) |> DataFrame
S1_data._2020_06_22 = [
            count(i -> (i > 0), subset(week15, :PostcodePart => x -> x .== "G1").S1_seropositive),
            count(i -> (i > 0), subset(week15, :PostcodePart => x -> x .== "G2").S1_seropositive),
            count(i -> (i > 0), subset(week15, :PostcodePart => x -> x .== "G3").S1_seropositive),
            count(i -> (i > 0), subset(week15, :PostcodePart => x -> x .== "G4").S1_seropositive),
            count(i -> (i > 0), subset(week15, :PostcodePart => x -> x .== "G5").S1_seropositive),
            count(i -> (i > 0), subset(week15, :PostcodePart => x -> x .== "G11").S1_seropositive),
            count(i -> (i > 0), subset(week15, :PostcodePart => x -> x .== "G12").S1_seropositive),
            count(i -> (i > 0), subset(week15, :PostcodePart => x -> x .== "G13").S1_seropositive),
            count(i -> (i > 0), subset(week15, :PostcodePart => x -> x .== "G14").S1_seropositive),
            count(i -> (i > 0), subset(week15, :PostcodePart => x -> x .== "G15").S1_seropositive),
            count(i -> (i > 0), subset(week15, :PostcodePart => x -> x .== "G20").S1_seropositive),
            count(i -> (i > 0), subset(week15, :PostcodePart => x -> x .== "G21").S1_seropositive),
            count(i -> (i > 0), subset(week15, :PostcodePart => x -> x .== "G22").S1_seropositive),
            count(i -> (i > 0), subset(week15, :PostcodePart => x -> x .== "G23").S1_seropositive),
            count(i -> (i > 0), subset(week15, :PostcodePart => x -> x .== "G31").S1_seropositive),
            count(i -> (i > 0), subset(week15, :PostcodePart => x -> x .== "G32").S1_seropositive),
            count(i -> (i > 0), subset(week15, :PostcodePart => x -> x .== "G33").S1_seropositive),
            count(i -> (i > 0), subset(week15, :PostcodePart => x -> x .== "G34").S1_seropositive),
            count(i -> (i > 0), subset(week15, :PostcodePart => x -> x .== "G40").S1_seropositive),
            count(i -> (i > 0), subset(week15, :PostcodePart => x -> x .== "G41").S1_seropositive),
            count(i -> (i > 0), subset(week15, :PostcodePart => x -> x .== "G42").S1_seropositive),
            count(i -> (i > 0), subset(week15, :PostcodePart => x -> x .== "G43").S1_seropositive),
            count(i -> (i > 0), subset(week15, :PostcodePart => x -> x .== "G44").S1_seropositive),
            count(i -> (i > 0), subset(week15, :PostcodePart => x -> x .== "G45").S1_seropositive),
            count(i -> (i > 0), subset(week15, :PostcodePart => x -> x .== "G46").S1_seropositive),
            count(i -> (i > 0), subset(week15, :PostcodePart => x -> x .== "G51").S1_seropositive),
            count(i -> (i > 0), subset(week15, :PostcodePart => x -> x .== "G52").S1_seropositive),
            count(i -> (i > 0), subset(week15, :PostcodePart => x -> x .== "G53").S1_seropositive),
            count(i -> (i > 0), subset(week15, :PostcodePart => x -> x .== "G60").S1_seropositive),
            count(i -> (i > 0), subset(week15, :PostcodePart => x -> x .== "G61").S1_seropositive),
            count(i -> (i > 0), subset(week15, :PostcodePart => x -> x .== "G62").S1_seropositive),
            count(i -> (i > 0), subset(week15, :PostcodePart => x -> x .== "G63").S1_seropositive),
            count(i -> (i > 0), subset(week15, :PostcodePart => x -> x .== "G64").S1_seropositive),
            count(i -> (i > 0), subset(week15, :PostcodePart => x -> x .== "G65").S1_seropositive),
            count(i -> (i > 0), subset(week15, :PostcodePart => x -> x .== "G66").S1_seropositive),
            count(i -> (i > 0), subset(week15, :PostcodePart => x -> x .== "G67").S1_seropositive),
            count(i -> (i > 0), subset(week15, :PostcodePart => x -> x .== "G68").S1_seropositive),
            count(i -> (i > 0), subset(week15, :PostcodePart => x -> x .== "G71").S1_seropositive),
            count(i -> (i > 0), subset(week15, :PostcodePart => x -> x .== "G72").S1_seropositive),
            count(i -> (i > 0), subset(week15, :PostcodePart => x -> x .== "G73").S1_seropositive),
            count(i -> (i > 0), subset(week15, :PostcodePart => x -> x .== "G74").S1_seropositive),
            count(i -> (i > 0), subset(week15, :PostcodePart => x -> x .== "G75").S1_seropositive),
            count(i -> (i > 0), subset(week15, :PostcodePart => x -> x .== "G76").S1_seropositive),
            count(i -> (i > 0), subset(week15, :PostcodePart => x -> x .== "G77").S1_seropositive),
            count(i -> (i > 0), subset(week15, :PostcodePart => x -> x .== "G78").S1_seropositive),
            count(i -> (i > 0), subset(week15, :PostcodePart => x -> x .== "G81").S1_seropositive),
            count(i -> (i > 0), subset(week15, :PostcodePart => x -> x .== "G82").S1_seropositive),
            count(i -> (i > 0), subset(week15, :PostcodePart => x -> x .== "G83").S1_seropositive),
            count(i -> (i > 0), subset(week15, :PostcodePart => x -> x .== "G84").S1_seropositive)]
week16 = data |> @filter(_.DaysSince < (Date("2020-06-29") - firstdate)) |> DataFrame
S1_data._2020_06_29 = [
                count(i -> (i > 0), subset(week16, :PostcodePart => x -> x .== "G1").S1_seropositive),
                count(i -> (i > 0), subset(week16, :PostcodePart => x -> x .== "G2").S1_seropositive),
                count(i -> (i > 0), subset(week16, :PostcodePart => x -> x .== "G3").S1_seropositive),
                count(i -> (i > 0), subset(week16, :PostcodePart => x -> x .== "G4").S1_seropositive),
                count(i -> (i > 0), subset(week16, :PostcodePart => x -> x .== "G5").S1_seropositive),
                count(i -> (i > 0), subset(week16, :PostcodePart => x -> x .== "G11").S1_seropositive),
                count(i -> (i > 0), subset(week16, :PostcodePart => x -> x .== "G12").S1_seropositive),
                count(i -> (i > 0), subset(week16, :PostcodePart => x -> x .== "G13").S1_seropositive),
                count(i -> (i > 0), subset(week16, :PostcodePart => x -> x .== "G14").S1_seropositive),
                count(i -> (i > 0), subset(week16, :PostcodePart => x -> x .== "G15").S1_seropositive),
                count(i -> (i > 0), subset(week16, :PostcodePart => x -> x .== "G20").S1_seropositive),
                count(i -> (i > 0), subset(week16, :PostcodePart => x -> x .== "G21").S1_seropositive),
                count(i -> (i > 0), subset(week16, :PostcodePart => x -> x .== "G22").S1_seropositive),
                count(i -> (i > 0), subset(week16, :PostcodePart => x -> x .== "G23").S1_seropositive),
                count(i -> (i > 0), subset(week16, :PostcodePart => x -> x .== "G31").S1_seropositive),
                count(i -> (i > 0), subset(week16, :PostcodePart => x -> x .== "G32").S1_seropositive),
                count(i -> (i > 0), subset(week16, :PostcodePart => x -> x .== "G33").S1_seropositive),
                count(i -> (i > 0), subset(week16, :PostcodePart => x -> x .== "G34").S1_seropositive),
                count(i -> (i > 0), subset(week16, :PostcodePart => x -> x .== "G40").S1_seropositive),
                count(i -> (i > 0), subset(week16, :PostcodePart => x -> x .== "G41").S1_seropositive),
                count(i -> (i > 0), subset(week16, :PostcodePart => x -> x .== "G42").S1_seropositive),
                count(i -> (i > 0), subset(week16, :PostcodePart => x -> x .== "G43").S1_seropositive),
                count(i -> (i > 0), subset(week16, :PostcodePart => x -> x .== "G44").S1_seropositive),
                count(i -> (i > 0), subset(week16, :PostcodePart => x -> x .== "G45").S1_seropositive),
                count(i -> (i > 0), subset(week16, :PostcodePart => x -> x .== "G46").S1_seropositive),
                count(i -> (i > 0), subset(week16, :PostcodePart => x -> x .== "G51").S1_seropositive),
                count(i -> (i > 0), subset(week16, :PostcodePart => x -> x .== "G52").S1_seropositive),
                count(i -> (i > 0), subset(week16, :PostcodePart => x -> x .== "G53").S1_seropositive),
                count(i -> (i > 0), subset(week16, :PostcodePart => x -> x .== "G60").S1_seropositive),
                count(i -> (i > 0), subset(week16, :PostcodePart => x -> x .== "G61").S1_seropositive),
                count(i -> (i > 0), subset(week16, :PostcodePart => x -> x .== "G62").S1_seropositive),
                count(i -> (i > 0), subset(week16, :PostcodePart => x -> x .== "G63").S1_seropositive),
                count(i -> (i > 0), subset(week16, :PostcodePart => x -> x .== "G64").S1_seropositive),
                count(i -> (i > 0), subset(week16, :PostcodePart => x -> x .== "G65").S1_seropositive),
                count(i -> (i > 0), subset(week16, :PostcodePart => x -> x .== "G66").S1_seropositive),
                count(i -> (i > 0), subset(week16, :PostcodePart => x -> x .== "G67").S1_seropositive),
                count(i -> (i > 0), subset(week16, :PostcodePart => x -> x .== "G68").S1_seropositive),
                count(i -> (i > 0), subset(week16, :PostcodePart => x -> x .== "G71").S1_seropositive),
                count(i -> (i > 0), subset(week16, :PostcodePart => x -> x .== "G72").S1_seropositive),
                count(i -> (i > 0), subset(week16, :PostcodePart => x -> x .== "G73").S1_seropositive),
                count(i -> (i > 0), subset(week16, :PostcodePart => x -> x .== "G74").S1_seropositive),
                count(i -> (i > 0), subset(week16, :PostcodePart => x -> x .== "G75").S1_seropositive),
                count(i -> (i > 0), subset(week16, :PostcodePart => x -> x .== "G76").S1_seropositive),
                count(i -> (i > 0), subset(week16, :PostcodePart => x -> x .== "G77").S1_seropositive),
                count(i -> (i > 0), subset(week16, :PostcodePart => x -> x .== "G78").S1_seropositive),
                count(i -> (i > 0), subset(week16, :PostcodePart => x -> x .== "G81").S1_seropositive),
                count(i -> (i > 0), subset(week16, :PostcodePart => x -> x .== "G82").S1_seropositive),
                count(i -> (i > 0), subset(week16, :PostcodePart => x -> x .== "G83").S1_seropositive),
                count(i -> (i > 0), subset(week16, :PostcodePart => x -> x .== "G84").S1_seropositive)]
week17 = data |> @filter(_.DaysSince < (Date("2020-07-06") - firstdate)) |> DataFrame
S1_data._2020_07_06 = [
                    count(i -> (i > 0), subset(week17, :PostcodePart => x -> x .== "G1").S1_seropositive),
                    count(i -> (i > 0), subset(week17, :PostcodePart => x -> x .== "G2").S1_seropositive),
                    count(i -> (i > 0), subset(week17, :PostcodePart => x -> x .== "G3").S1_seropositive),
                    count(i -> (i > 0), subset(week17, :PostcodePart => x -> x .== "G4").S1_seropositive),
                    count(i -> (i > 0), subset(week17, :PostcodePart => x -> x .== "G5").S1_seropositive),
                    count(i -> (i > 0), subset(week17, :PostcodePart => x -> x .== "G11").S1_seropositive),
                    count(i -> (i > 0), subset(week17, :PostcodePart => x -> x .== "G12").S1_seropositive),
                    count(i -> (i > 0), subset(week17, :PostcodePart => x -> x .== "G13").S1_seropositive),
                    count(i -> (i > 0), subset(week17, :PostcodePart => x -> x .== "G14").S1_seropositive),
                    count(i -> (i > 0), subset(week17, :PostcodePart => x -> x .== "G15").S1_seropositive),
                    count(i -> (i > 0), subset(week17, :PostcodePart => x -> x .== "G20").S1_seropositive),
                    count(i -> (i > 0), subset(week17, :PostcodePart => x -> x .== "G21").S1_seropositive),
                    count(i -> (i > 0), subset(week17, :PostcodePart => x -> x .== "G22").S1_seropositive),
                    count(i -> (i > 0), subset(week17, :PostcodePart => x -> x .== "G23").S1_seropositive),
                    count(i -> (i > 0), subset(week17, :PostcodePart => x -> x .== "G31").S1_seropositive),
                    count(i -> (i > 0), subset(week17, :PostcodePart => x -> x .== "G32").S1_seropositive),
                    count(i -> (i > 0), subset(week17, :PostcodePart => x -> x .== "G33").S1_seropositive),
                    count(i -> (i > 0), subset(week17, :PostcodePart => x -> x .== "G34").S1_seropositive),
                    count(i -> (i > 0), subset(week17, :PostcodePart => x -> x .== "G40").S1_seropositive),
                    count(i -> (i > 0), subset(week17, :PostcodePart => x -> x .== "G41").S1_seropositive),
                    count(i -> (i > 0), subset(week17, :PostcodePart => x -> x .== "G42").S1_seropositive),
                    count(i -> (i > 0), subset(week17, :PostcodePart => x -> x .== "G43").S1_seropositive),
                    count(i -> (i > 0), subset(week17, :PostcodePart => x -> x .== "G44").S1_seropositive),
                    count(i -> (i > 0), subset(week17, :PostcodePart => x -> x .== "G45").S1_seropositive),
                    count(i -> (i > 0), subset(week17, :PostcodePart => x -> x .== "G46").S1_seropositive),
                    count(i -> (i > 0), subset(week17, :PostcodePart => x -> x .== "G51").S1_seropositive),
                    count(i -> (i > 0), subset(week17, :PostcodePart => x -> x .== "G52").S1_seropositive),
                    count(i -> (i > 0), subset(week17, :PostcodePart => x -> x .== "G53").S1_seropositive),
                    count(i -> (i > 0), subset(week17, :PostcodePart => x -> x .== "G60").S1_seropositive),
                    count(i -> (i > 0), subset(week17, :PostcodePart => x -> x .== "G61").S1_seropositive),
                    count(i -> (i > 0), subset(week17, :PostcodePart => x -> x .== "G62").S1_seropositive),
                    count(i -> (i > 0), subset(week17, :PostcodePart => x -> x .== "G63").S1_seropositive),
                    count(i -> (i > 0), subset(week17, :PostcodePart => x -> x .== "G64").S1_seropositive),
                    count(i -> (i > 0), subset(week17, :PostcodePart => x -> x .== "G65").S1_seropositive),
                    count(i -> (i > 0), subset(week17, :PostcodePart => x -> x .== "G66").S1_seropositive),
                    count(i -> (i > 0), subset(week17, :PostcodePart => x -> x .== "G67").S1_seropositive),
                    count(i -> (i > 0), subset(week17, :PostcodePart => x -> x .== "G68").S1_seropositive),
                    count(i -> (i > 0), subset(week17, :PostcodePart => x -> x .== "G71").S1_seropositive),
                    count(i -> (i > 0), subset(week17, :PostcodePart => x -> x .== "G72").S1_seropositive),
                    count(i -> (i > 0), subset(week17, :PostcodePart => x -> x .== "G73").S1_seropositive),
                    count(i -> (i > 0), subset(week17, :PostcodePart => x -> x .== "G74").S1_seropositive),
                    count(i -> (i > 0), subset(week17, :PostcodePart => x -> x .== "G75").S1_seropositive),
                    count(i -> (i > 0), subset(week17, :PostcodePart => x -> x .== "G76").S1_seropositive),
                    count(i -> (i > 0), subset(week17, :PostcodePart => x -> x .== "G77").S1_seropositive),
                    count(i -> (i > 0), subset(week17, :PostcodePart => x -> x .== "G78").S1_seropositive),
                    count(i -> (i > 0), subset(week17, :PostcodePart => x -> x .== "G81").S1_seropositive),
                    count(i -> (i > 0), subset(week17, :PostcodePart => x -> x .== "G82").S1_seropositive),
                    count(i -> (i > 0), subset(week17, :PostcodePart => x -> x .== "G83").S1_seropositive),
                    count(i -> (i > 0), subset(week17, :PostcodePart => x -> x .== "G84").S1_seropositive)]
week18 = data |> @filter(_.DaysSince < (Date("2020-07-13") - firstdate)) |> DataFrame
S1_data._2020_07_13 = [
                            count(i -> (i > 0), subset(week18, :PostcodePart => x -> x .== "G1").S1_seropositive),
                            count(i -> (i > 0), subset(week18, :PostcodePart => x -> x .== "G2").S1_seropositive),
                            count(i -> (i > 0), subset(week18, :PostcodePart => x -> x .== "G3").S1_seropositive),
                            count(i -> (i > 0), subset(week18, :PostcodePart => x -> x .== "G4").S1_seropositive),
                            count(i -> (i > 0), subset(week18, :PostcodePart => x -> x .== "G5").S1_seropositive),
                            count(i -> (i > 0), subset(week18, :PostcodePart => x -> x .== "G11").S1_seropositive),
                            count(i -> (i > 0), subset(week18, :PostcodePart => x -> x .== "G12").S1_seropositive),
                            count(i -> (i > 0), subset(week18, :PostcodePart => x -> x .== "G13").S1_seropositive),
                            count(i -> (i > 0), subset(week18, :PostcodePart => x -> x .== "G14").S1_seropositive),
                            count(i -> (i > 0), subset(week18, :PostcodePart => x -> x .== "G15").S1_seropositive),
                            count(i -> (i > 0), subset(week18, :PostcodePart => x -> x .== "G20").S1_seropositive),
                            count(i -> (i > 0), subset(week18, :PostcodePart => x -> x .== "G21").S1_seropositive),
                            count(i -> (i > 0), subset(week18, :PostcodePart => x -> x .== "G22").S1_seropositive),
                            count(i -> (i > 0), subset(week18, :PostcodePart => x -> x .== "G23").S1_seropositive),
                            count(i -> (i > 0), subset(week18, :PostcodePart => x -> x .== "G31").S1_seropositive),
                            count(i -> (i > 0), subset(week18, :PostcodePart => x -> x .== "G32").S1_seropositive),
                            count(i -> (i > 0), subset(week18, :PostcodePart => x -> x .== "G33").S1_seropositive),
                            count(i -> (i > 0), subset(week18, :PostcodePart => x -> x .== "G34").S1_seropositive),
                            count(i -> (i > 0), subset(week18, :PostcodePart => x -> x .== "G40").S1_seropositive),
                            count(i -> (i > 0), subset(week18, :PostcodePart => x -> x .== "G41").S1_seropositive),
                            count(i -> (i > 0), subset(week18, :PostcodePart => x -> x .== "G42").S1_seropositive),
                            count(i -> (i > 0), subset(week18, :PostcodePart => x -> x .== "G43").S1_seropositive),
                            count(i -> (i > 0), subset(week18, :PostcodePart => x -> x .== "G44").S1_seropositive),
                            count(i -> (i > 0), subset(week18, :PostcodePart => x -> x .== "G45").S1_seropositive),
                            count(i -> (i > 0), subset(week18, :PostcodePart => x -> x .== "G46").S1_seropositive),
                            count(i -> (i > 0), subset(week18, :PostcodePart => x -> x .== "G51").S1_seropositive),
                            count(i -> (i > 0), subset(week18, :PostcodePart => x -> x .== "G52").S1_seropositive),
                            count(i -> (i > 0), subset(week18, :PostcodePart => x -> x .== "G53").S1_seropositive),
                            count(i -> (i > 0), subset(week18, :PostcodePart => x -> x .== "G60").S1_seropositive),
                            count(i -> (i > 0), subset(week18, :PostcodePart => x -> x .== "G61").S1_seropositive),
                            count(i -> (i > 0), subset(week18, :PostcodePart => x -> x .== "G62").S1_seropositive),
                            count(i -> (i > 0), subset(week18, :PostcodePart => x -> x .== "G63").S1_seropositive),
                            count(i -> (i > 0), subset(week18, :PostcodePart => x -> x .== "G64").S1_seropositive),
                            count(i -> (i > 0), subset(week18, :PostcodePart => x -> x .== "G65").S1_seropositive),
                            count(i -> (i > 0), subset(week18, :PostcodePart => x -> x .== "G66").S1_seropositive),
                            count(i -> (i > 0), subset(week18, :PostcodePart => x -> x .== "G67").S1_seropositive),
                            count(i -> (i > 0), subset(week18, :PostcodePart => x -> x .== "G68").S1_seropositive),
                            count(i -> (i > 0), subset(week18, :PostcodePart => x -> x .== "G71").S1_seropositive),
                            count(i -> (i > 0), subset(week18, :PostcodePart => x -> x .== "G72").S1_seropositive),
                            count(i -> (i > 0), subset(week18, :PostcodePart => x -> x .== "G73").S1_seropositive),
                            count(i -> (i > 0), subset(week18, :PostcodePart => x -> x .== "G74").S1_seropositive),
                            count(i -> (i > 0), subset(week18, :PostcodePart => x -> x .== "G75").S1_seropositive),
                            count(i -> (i > 0), subset(week18, :PostcodePart => x -> x .== "G76").S1_seropositive),
                            count(i -> (i > 0), subset(week18, :PostcodePart => x -> x .== "G77").S1_seropositive),
                            count(i -> (i > 0), subset(week18, :PostcodePart => x -> x .== "G78").S1_seropositive),
                            count(i -> (i > 0), subset(week18, :PostcodePart => x -> x .== "G81").S1_seropositive),
                            count(i -> (i > 0), subset(week18, :PostcodePart => x -> x .== "G82").S1_seropositive),
                            count(i -> (i > 0), subset(week18, :PostcodePart => x -> x .== "G83").S1_seropositive),
                            count(i -> (i > 0), subset(week18, :PostcodePart => x -> x .== "G84").S1_seropositive)]
week19 = data |> @filter(_.DaysSince < (Date("2020-07-20") - firstdate)) |> DataFrame
S1_data._2020_07_20 = [
        count(i -> (i > 0), subset(week19, :PostcodePart => x -> x .== "G1").S1_seropositive),
        count(i -> (i > 0), subset(week19, :PostcodePart => x -> x .== "G2").S1_seropositive),
        count(i -> (i > 0), subset(week19, :PostcodePart => x -> x .== "G3").S1_seropositive),
        count(i -> (i > 0), subset(week19, :PostcodePart => x -> x .== "G4").S1_seropositive),
        count(i -> (i > 0), subset(week19, :PostcodePart => x -> x .== "G5").S1_seropositive),
        count(i -> (i > 0), subset(week19, :PostcodePart => x -> x .== "G11").S1_seropositive),
        count(i -> (i > 0), subset(week19, :PostcodePart => x -> x .== "G12").S1_seropositive),
        count(i -> (i > 0), subset(week19, :PostcodePart => x -> x .== "G13").S1_seropositive),
        count(i -> (i > 0), subset(week19, :PostcodePart => x -> x .== "G14").S1_seropositive),
        count(i -> (i > 0), subset(week19, :PostcodePart => x -> x .== "G15").S1_seropositive),
        count(i -> (i > 0), subset(week19, :PostcodePart => x -> x .== "G20").S1_seropositive),
        count(i -> (i > 0), subset(week19, :PostcodePart => x -> x .== "G21").S1_seropositive),
        count(i -> (i > 0), subset(week19, :PostcodePart => x -> x .== "G22").S1_seropositive),
        count(i -> (i > 0), subset(week19, :PostcodePart => x -> x .== "G23").S1_seropositive),
        count(i -> (i > 0), subset(week19, :PostcodePart => x -> x .== "G31").S1_seropositive),
        count(i -> (i > 0), subset(week19, :PostcodePart => x -> x .== "G32").S1_seropositive),
        count(i -> (i > 0), subset(week19, :PostcodePart => x -> x .== "G33").S1_seropositive),
        count(i -> (i > 0), subset(week19, :PostcodePart => x -> x .== "G34").S1_seropositive),
        count(i -> (i > 0), subset(week19, :PostcodePart => x -> x .== "G40").S1_seropositive),
        count(i -> (i > 0), subset(week19, :PostcodePart => x -> x .== "G41").S1_seropositive),
        count(i -> (i > 0), subset(week19, :PostcodePart => x -> x .== "G42").S1_seropositive),
        count(i -> (i > 0), subset(week19, :PostcodePart => x -> x .== "G43").S1_seropositive),
        count(i -> (i > 0), subset(week19, :PostcodePart => x -> x .== "G44").S1_seropositive),
        count(i -> (i > 0), subset(week19, :PostcodePart => x -> x .== "G45").S1_seropositive),
        count(i -> (i > 0), subset(week19, :PostcodePart => x -> x .== "G46").S1_seropositive),
        count(i -> (i > 0), subset(week19, :PostcodePart => x -> x .== "G51").S1_seropositive),
        count(i -> (i > 0), subset(week19, :PostcodePart => x -> x .== "G52").S1_seropositive),
        count(i -> (i > 0), subset(week19, :PostcodePart => x -> x .== "G53").S1_seropositive),
        count(i -> (i > 0), subset(week19, :PostcodePart => x -> x .== "G60").S1_seropositive),
        count(i -> (i > 0), subset(week19, :PostcodePart => x -> x .== "G61").S1_seropositive),
        count(i -> (i > 0), subset(week19, :PostcodePart => x -> x .== "G62").S1_seropositive),
        count(i -> (i > 0), subset(week19, :PostcodePart => x -> x .== "G63").S1_seropositive),
        count(i -> (i > 0), subset(week19, :PostcodePart => x -> x .== "G64").S1_seropositive),
        count(i -> (i > 0), subset(week19, :PostcodePart => x -> x .== "G65").S1_seropositive),
        count(i -> (i > 0), subset(week19, :PostcodePart => x -> x .== "G66").S1_seropositive),
        count(i -> (i > 0), subset(week19, :PostcodePart => x -> x .== "G67").S1_seropositive),
        count(i -> (i > 0), subset(week19, :PostcodePart => x -> x .== "G68").S1_seropositive),
        count(i -> (i > 0), subset(week19, :PostcodePart => x -> x .== "G71").S1_seropositive),
        count(i -> (i > 0), subset(week19, :PostcodePart => x -> x .== "G72").S1_seropositive),
        count(i -> (i > 0), subset(week19, :PostcodePart => x -> x .== "G73").S1_seropositive),
        count(i -> (i > 0), subset(week19, :PostcodePart => x -> x .== "G74").S1_seropositive),
        count(i -> (i > 0), subset(week19, :PostcodePart => x -> x .== "G75").S1_seropositive),
        count(i -> (i > 0), subset(week19, :PostcodePart => x -> x .== "G76").S1_seropositive),
        count(i -> (i > 0), subset(week19, :PostcodePart => x -> x .== "G77").S1_seropositive),
        count(i -> (i > 0), subset(week19, :PostcodePart => x -> x .== "G78").S1_seropositive),
        count(i -> (i > 0), subset(week19, :PostcodePart => x -> x .== "G81").S1_seropositive),
        count(i -> (i > 0), subset(week19, :PostcodePart => x -> x .== "G82").S1_seropositive),
        count(i -> (i > 0), subset(week19, :PostcodePart => x -> x .== "G83").S1_seropositive),
        count(i -> (i > 0), subset(week19, :PostcodePart => x -> x .== "G84").S1_seropositive)]
week20 = data |> @filter(_.DaysSince < (Date("2020-07-27") - firstdate)) |> DataFrame
S1_data._2020_07_27 = [
                count(i -> (i > 0), subset(week20, :PostcodePart => x -> x .== "G1").S1_seropositive),
                count(i -> (i > 0), subset(week20, :PostcodePart => x -> x .== "G2").S1_seropositive),
                count(i -> (i > 0), subset(week20, :PostcodePart => x -> x .== "G3").S1_seropositive),
                count(i -> (i > 0), subset(week20, :PostcodePart => x -> x .== "G4").S1_seropositive),
                count(i -> (i > 0), subset(week20, :PostcodePart => x -> x .== "G5").S1_seropositive),
                count(i -> (i > 0), subset(week20, :PostcodePart => x -> x .== "G11").S1_seropositive),
                count(i -> (i > 0), subset(week20, :PostcodePart => x -> x .== "G12").S1_seropositive),
                count(i -> (i > 0), subset(week20, :PostcodePart => x -> x .== "G13").S1_seropositive),
                count(i -> (i > 0), subset(week20, :PostcodePart => x -> x .== "G14").S1_seropositive),
                count(i -> (i > 0), subset(week20, :PostcodePart => x -> x .== "G15").S1_seropositive),
                count(i -> (i > 0), subset(week20, :PostcodePart => x -> x .== "G20").S1_seropositive),
                count(i -> (i > 0), subset(week20, :PostcodePart => x -> x .== "G21").S1_seropositive),
                count(i -> (i > 0), subset(week20, :PostcodePart => x -> x .== "G22").S1_seropositive),
                count(i -> (i > 0), subset(week20, :PostcodePart => x -> x .== "G23").S1_seropositive),
                count(i -> (i > 0), subset(week20, :PostcodePart => x -> x .== "G31").S1_seropositive),
                count(i -> (i > 0), subset(week20, :PostcodePart => x -> x .== "G32").S1_seropositive),
                count(i -> (i > 0), subset(week20, :PostcodePart => x -> x .== "G33").S1_seropositive),
                count(i -> (i > 0), subset(week20, :PostcodePart => x -> x .== "G34").S1_seropositive),
                count(i -> (i > 0), subset(week20, :PostcodePart => x -> x .== "G40").S1_seropositive),
                count(i -> (i > 0), subset(week20, :PostcodePart => x -> x .== "G41").S1_seropositive),
                count(i -> (i > 0), subset(week20, :PostcodePart => x -> x .== "G42").S1_seropositive),
                count(i -> (i > 0), subset(week20, :PostcodePart => x -> x .== "G43").S1_seropositive),
                count(i -> (i > 0), subset(week20, :PostcodePart => x -> x .== "G44").S1_seropositive),
                count(i -> (i > 0), subset(week20, :PostcodePart => x -> x .== "G45").S1_seropositive),
                count(i -> (i > 0), subset(week20, :PostcodePart => x -> x .== "G46").S1_seropositive),
                count(i -> (i > 0), subset(week20, :PostcodePart => x -> x .== "G51").S1_seropositive),
                count(i -> (i > 0), subset(week20, :PostcodePart => x -> x .== "G52").S1_seropositive),
                count(i -> (i > 0), subset(week20, :PostcodePart => x -> x .== "G53").S1_seropositive),
                count(i -> (i > 0), subset(week20, :PostcodePart => x -> x .== "G60").S1_seropositive),
                count(i -> (i > 0), subset(week20, :PostcodePart => x -> x .== "G61").S1_seropositive),
                count(i -> (i > 0), subset(week20, :PostcodePart => x -> x .== "G62").S1_seropositive),
                count(i -> (i > 0), subset(week20, :PostcodePart => x -> x .== "G63").S1_seropositive),
                count(i -> (i > 0), subset(week20, :PostcodePart => x -> x .== "G64").S1_seropositive),
                count(i -> (i > 0), subset(week20, :PostcodePart => x -> x .== "G65").S1_seropositive),
                count(i -> (i > 0), subset(week20, :PostcodePart => x -> x .== "G66").S1_seropositive),
                count(i -> (i > 0), subset(week20, :PostcodePart => x -> x .== "G67").S1_seropositive),
                count(i -> (i > 0), subset(week20, :PostcodePart => x -> x .== "G68").S1_seropositive),
                count(i -> (i > 0), subset(week20, :PostcodePart => x -> x .== "G71").S1_seropositive),
                count(i -> (i > 0), subset(week20, :PostcodePart => x -> x .== "G72").S1_seropositive),
                count(i -> (i > 0), subset(week20, :PostcodePart => x -> x .== "G73").S1_seropositive),
                count(i -> (i > 0), subset(week20, :PostcodePart => x -> x .== "G74").S1_seropositive),
                count(i -> (i > 0), subset(week20, :PostcodePart => x -> x .== "G75").S1_seropositive),
                count(i -> (i > 0), subset(week20, :PostcodePart => x -> x .== "G76").S1_seropositive),
                count(i -> (i > 0), subset(week20, :PostcodePart => x -> x .== "G77").S1_seropositive),
                count(i -> (i > 0), subset(week20, :PostcodePart => x -> x .== "G78").S1_seropositive),
                count(i -> (i > 0), subset(week20, :PostcodePart => x -> x .== "G81").S1_seropositive),
                count(i -> (i > 0), subset(week20, :PostcodePart => x -> x .== "G82").S1_seropositive),
                count(i -> (i > 0), subset(week20, :PostcodePart => x -> x .== "G83").S1_seropositive),
                count(i -> (i > 0), subset(week20, :PostcodePart => x -> x .== "G84").S1_seropositive)]
week1 = data |> @filter(_.DaysSince < (Date("2020-08-03") - firstdate)) |> DataFrame
S1_data._2020_08_03 = [
        count(i -> (i > 0), subset(week21, :PostcodePart => x -> x .== "G1").S1_seropositive),
        count(i -> (i > 0), subset(week21, :PostcodePart => x -> x .== "G2").S1_seropositive),
        count(i -> (i > 0), subset(week21, :PostcodePart => x -> x .== "G3").S1_seropositive),
        count(i -> (i > 0), subset(week21, :PostcodePart => x -> x .== "G4").S1_seropositive),
        count(i -> (i > 0), subset(week21, :PostcodePart => x -> x .== "G5").S1_seropositive),
        count(i -> (i > 0), subset(week21, :PostcodePart => x -> x .== "G11").S1_seropositive),
        count(i -> (i > 0), subset(week21, :PostcodePart => x -> x .== "G12").S1_seropositive),
        count(i -> (i > 0), subset(week21, :PostcodePart => x -> x .== "G13").S1_seropositive),
        count(i -> (i > 0), subset(week21, :PostcodePart => x -> x .== "G14").S1_seropositive),
        count(i -> (i > 0), subset(week21, :PostcodePart => x -> x .== "G15").S1_seropositive),
        count(i -> (i > 0), subset(week21, :PostcodePart => x -> x .== "G20").S1_seropositive),
        count(i -> (i > 0), subset(week21, :PostcodePart => x -> x .== "G21").S1_seropositive),
        count(i -> (i > 0), subset(week21, :PostcodePart => x -> x .== "G22").S1_seropositive),
        count(i -> (i > 0), subset(week21, :PostcodePart => x -> x .== "G23").S1_seropositive),
        count(i -> (i > 0), subset(week21, :PostcodePart => x -> x .== "G31").S1_seropositive),
        count(i -> (i > 0), subset(week21, :PostcodePart => x -> x .== "G32").S1_seropositive),
        count(i -> (i > 0), subset(week21, :PostcodePart => x -> x .== "G33").S1_seropositive),
        count(i -> (i > 0), subset(week21, :PostcodePart => x -> x .== "G34").S1_seropositive),
        count(i -> (i > 0), subset(week21, :PostcodePart => x -> x .== "G40").S1_seropositive),
        count(i -> (i > 0), subset(week21, :PostcodePart => x -> x .== "G41").S1_seropositive),
        count(i -> (i > 0), subset(week21, :PostcodePart => x -> x .== "G42").S1_seropositive),
        count(i -> (i > 0), subset(week21, :PostcodePart => x -> x .== "G43").S1_seropositive),
        count(i -> (i > 0), subset(week21, :PostcodePart => x -> x .== "G44").S1_seropositive),
        count(i -> (i > 0), subset(week21, :PostcodePart => x -> x .== "G45").S1_seropositive),
        count(i -> (i > 0), subset(week21, :PostcodePart => x -> x .== "G46").S1_seropositive),
        count(i -> (i > 0), subset(week21, :PostcodePart => x -> x .== "G51").S1_seropositive),
        count(i -> (i > 0), subset(week21, :PostcodePart => x -> x .== "G52").S1_seropositive),
        count(i -> (i > 0), subset(week21, :PostcodePart => x -> x .== "G53").S1_seropositive),
        count(i -> (i > 0), subset(week21, :PostcodePart => x -> x .== "G60").S1_seropositive),
        count(i -> (i > 0), subset(week21, :PostcodePart => x -> x .== "G61").S1_seropositive),
        count(i -> (i > 0), subset(week21, :PostcodePart => x -> x .== "G62").S1_seropositive),
        count(i -> (i > 0), subset(week21, :PostcodePart => x -> x .== "G63").S1_seropositive),
        count(i -> (i > 0), subset(week21, :PostcodePart => x -> x .== "G64").S1_seropositive),
        count(i -> (i > 0), subset(week21, :PostcodePart => x -> x .== "G65").S1_seropositive),
        count(i -> (i > 0), subset(week21, :PostcodePart => x -> x .== "G66").S1_seropositive),
        count(i -> (i > 0), subset(week21, :PostcodePart => x -> x .== "G67").S1_seropositive),
        count(i -> (i > 0), subset(week21, :PostcodePart => x -> x .== "G68").S1_seropositive),
        count(i -> (i > 0), subset(week21, :PostcodePart => x -> x .== "G71").S1_seropositive),
        count(i -> (i > 0), subset(week21, :PostcodePart => x -> x .== "G72").S1_seropositive),
        count(i -> (i > 0), subset(week21, :PostcodePart => x -> x .== "G73").S1_seropositive),
        count(i -> (i > 0), subset(week21, :PostcodePart => x -> x .== "G74").S1_seropositive),
        count(i -> (i > 0), subset(week21, :PostcodePart => x -> x .== "G75").S1_seropositive),
        count(i -> (i > 0), subset(week21, :PostcodePart => x -> x .== "G76").S1_seropositive),
        count(i -> (i > 0), subset(week21, :PostcodePart => x -> x .== "G77").S1_seropositive),
        count(i -> (i > 0), subset(week21, :PostcodePart => x -> x .== "G78").S1_seropositive),
        count(i -> (i > 0), subset(week21, :PostcodePart => x -> x .== "G81").S1_seropositive),
        count(i -> (i > 0), subset(week21, :PostcodePart => x -> x .== "G82").S1_seropositive),
        count(i -> (i > 0), subset(week21, :PostcodePart => x -> x .== "G83").S1_seropositive),
        count(i -> (i > 0), subset(week21, :PostcodePart => x -> x .== "G84").S1_seropositive)]
week22 = data |> @filter(_.DaysSince < (Date("2020-08-10") - firstdate)) |> DataFrame
S1_data._2020_08_10 = [
        count(i -> (i > 0), subset(week22, :PostcodePart => x -> x .== "G1").S1_seropositive),
        count(i -> (i > 0), subset(week22, :PostcodePart => x -> x .== "G2").S1_seropositive),
        count(i -> (i > 0), subset(week22, :PostcodePart => x -> x .== "G3").S1_seropositive),
        count(i -> (i > 0), subset(week22, :PostcodePart => x -> x .== "G4").S1_seropositive),
        count(i -> (i > 0), subset(week22, :PostcodePart => x -> x .== "G5").S1_seropositive),
        count(i -> (i > 0), subset(week22, :PostcodePart => x -> x .== "G11").S1_seropositive),
        count(i -> (i > 0), subset(week22, :PostcodePart => x -> x .== "G12").S1_seropositive),
        count(i -> (i > 0), subset(week22, :PostcodePart => x -> x .== "G13").S1_seropositive),
        count(i -> (i > 0), subset(week22, :PostcodePart => x -> x .== "G14").S1_seropositive),
        count(i -> (i > 0), subset(week22, :PostcodePart => x -> x .== "G15").S1_seropositive),
        count(i -> (i > 0), subset(week22, :PostcodePart => x -> x .== "G20").S1_seropositive),
        count(i -> (i > 0), subset(week22, :PostcodePart => x -> x .== "G21").S1_seropositive),
        count(i -> (i > 0), subset(week22, :PostcodePart => x -> x .== "G22").S1_seropositive),
        count(i -> (i > 0), subset(week22, :PostcodePart => x -> x .== "G23").S1_seropositive),
        count(i -> (i > 0), subset(week22, :PostcodePart => x -> x .== "G31").S1_seropositive),
        count(i -> (i > 0), subset(week22, :PostcodePart => x -> x .== "G32").S1_seropositive),
        count(i -> (i > 0), subset(week22, :PostcodePart => x -> x .== "G33").S1_seropositive),
        count(i -> (i > 0), subset(week22, :PostcodePart => x -> x .== "G34").S1_seropositive),
        count(i -> (i > 0), subset(week22, :PostcodePart => x -> x .== "G40").S1_seropositive),
        count(i -> (i > 0), subset(week22, :PostcodePart => x -> x .== "G41").S1_seropositive),
        count(i -> (i > 0), subset(week22, :PostcodePart => x -> x .== "G42").S1_seropositive),
        count(i -> (i > 0), subset(week22, :PostcodePart => x -> x .== "G43").S1_seropositive),
        count(i -> (i > 0), subset(week22, :PostcodePart => x -> x .== "G44").S1_seropositive),
        count(i -> (i > 0), subset(week22, :PostcodePart => x -> x .== "G45").S1_seropositive),
        count(i -> (i > 0), subset(week22, :PostcodePart => x -> x .== "G46").S1_seropositive),
        count(i -> (i > 0), subset(week22, :PostcodePart => x -> x .== "G51").S1_seropositive),
        count(i -> (i > 0), subset(week22, :PostcodePart => x -> x .== "G52").S1_seropositive),
        count(i -> (i > 0), subset(week22, :PostcodePart => x -> x .== "G53").S1_seropositive),
        count(i -> (i > 0), subset(week22, :PostcodePart => x -> x .== "G60").S1_seropositive),
        count(i -> (i > 0), subset(week22, :PostcodePart => x -> x .== "G61").S1_seropositive),
        count(i -> (i > 0), subset(week22, :PostcodePart => x -> x .== "G62").S1_seropositive),
        count(i -> (i > 0), subset(week22, :PostcodePart => x -> x .== "G63").S1_seropositive),
        count(i -> (i > 0), subset(week22, :PostcodePart => x -> x .== "G64").S1_seropositive),
        count(i -> (i > 0), subset(week22, :PostcodePart => x -> x .== "G65").S1_seropositive),
        count(i -> (i > 0), subset(week22, :PostcodePart => x -> x .== "G66").S1_seropositive),
        count(i -> (i > 0), subset(week22, :PostcodePart => x -> x .== "G67").S1_seropositive),
        count(i -> (i > 0), subset(week22, :PostcodePart => x -> x .== "G68").S1_seropositive),
        count(i -> (i > 0), subset(week22, :PostcodePart => x -> x .== "G71").S1_seropositive),
        count(i -> (i > 0), subset(week22, :PostcodePart => x -> x .== "G72").S1_seropositive),
        count(i -> (i > 0), subset(week22, :PostcodePart => x -> x .== "G73").S1_seropositive),
        count(i -> (i > 0), subset(week22, :PostcodePart => x -> x .== "G74").S1_seropositive),
        count(i -> (i > 0), subset(week22, :PostcodePart => x -> x .== "G75").S1_seropositive),
        count(i -> (i > 0), subset(week22, :PostcodePart => x -> x .== "G76").S1_seropositive),
        count(i -> (i > 0), subset(week22, :PostcodePart => x -> x .== "G77").S1_seropositive),
        count(i -> (i > 0), subset(week22, :PostcodePart => x -> x .== "G78").S1_seropositive),
        count(i -> (i > 0), subset(week22, :PostcodePart => x -> x .== "G81").S1_seropositive),
        count(i -> (i > 0), subset(week22, :PostcodePart => x -> x .== "G82").S1_seropositive),
        count(i -> (i > 0), subset(week22, :PostcodePart => x -> x .== "G83").S1_seropositive),
        count(i -> (i > 0), subset(week22, :PostcodePart => x -> x .== "G84").S1_seropositive)]
week23 = data |> @filter(_.DaysSince < (Date("2020-08-17") - firstdate)) |> DataFrame
S1_data._2020_08_17 = [
        count(i -> (i > 0), subset(week23, :PostcodePart => x -> x .== "G1").S1_seropositive),
        count(i -> (i > 0), subset(week23, :PostcodePart => x -> x .== "G2").S1_seropositive),
        count(i -> (i > 0), subset(week23, :PostcodePart => x -> x .== "G3").S1_seropositive),
        count(i -> (i > 0), subset(week23, :PostcodePart => x -> x .== "G4").S1_seropositive),
        count(i -> (i > 0), subset(week23, :PostcodePart => x -> x .== "G5").S1_seropositive),
        count(i -> (i > 0), subset(week23, :PostcodePart => x -> x .== "G11").S1_seropositive),
        count(i -> (i > 0), subset(week23, :PostcodePart => x -> x .== "G12").S1_seropositive),
        count(i -> (i > 0), subset(week23, :PostcodePart => x -> x .== "G13").S1_seropositive),
        count(i -> (i > 0), subset(week23, :PostcodePart => x -> x .== "G14").S1_seropositive),
        count(i -> (i > 0), subset(week23, :PostcodePart => x -> x .== "G15").S1_seropositive),
        count(i -> (i > 0), subset(week23, :PostcodePart => x -> x .== "G20").S1_seropositive),
        count(i -> (i > 0), subset(week23, :PostcodePart => x -> x .== "G21").S1_seropositive),
        count(i -> (i > 0), subset(week23, :PostcodePart => x -> x .== "G22").S1_seropositive),
        count(i -> (i > 0), subset(week23, :PostcodePart => x -> x .== "G23").S1_seropositive),
        count(i -> (i > 0), subset(week23, :PostcodePart => x -> x .== "G31").S1_seropositive),
        count(i -> (i > 0), subset(week23, :PostcodePart => x -> x .== "G32").S1_seropositive),
        count(i -> (i > 0), subset(week23, :PostcodePart => x -> x .== "G33").S1_seropositive),
        count(i -> (i > 0), subset(week23, :PostcodePart => x -> x .== "G34").S1_seropositive),
        count(i -> (i > 0), subset(week23, :PostcodePart => x -> x .== "G40").S1_seropositive),
        count(i -> (i > 0), subset(week23, :PostcodePart => x -> x .== "G41").S1_seropositive),
        count(i -> (i > 0), subset(week23, :PostcodePart => x -> x .== "G42").S1_seropositive),
        count(i -> (i > 0), subset(week23, :PostcodePart => x -> x .== "G43").S1_seropositive),
        count(i -> (i > 0), subset(week23, :PostcodePart => x -> x .== "G44").S1_seropositive),
        count(i -> (i > 0), subset(week23, :PostcodePart => x -> x .== "G45").S1_seropositive),
        count(i -> (i > 0), subset(week23, :PostcodePart => x -> x .== "G46").S1_seropositive),
        count(i -> (i > 0), subset(week23, :PostcodePart => x -> x .== "G51").S1_seropositive),
        count(i -> (i > 0), subset(week23, :PostcodePart => x -> x .== "G52").S1_seropositive),
        count(i -> (i > 0), subset(week23, :PostcodePart => x -> x .== "G53").S1_seropositive),
        count(i -> (i > 0), subset(week23, :PostcodePart => x -> x .== "G60").S1_seropositive),
        count(i -> (i > 0), subset(week23, :PostcodePart => x -> x .== "G61").S1_seropositive),
        count(i -> (i > 0), subset(week23, :PostcodePart => x -> x .== "G62").S1_seropositive),
        count(i -> (i > 0), subset(week23, :PostcodePart => x -> x .== "G63").S1_seropositive),
        count(i -> (i > 0), subset(week23, :PostcodePart => x -> x .== "G64").S1_seropositive),
        count(i -> (i > 0), subset(week23, :PostcodePart => x -> x .== "G65").S1_seropositive),
        count(i -> (i > 0), subset(week23, :PostcodePart => x -> x .== "G66").S1_seropositive),
        count(i -> (i > 0), subset(week23, :PostcodePart => x -> x .== "G67").S1_seropositive),
        count(i -> (i > 0), subset(week23, :PostcodePart => x -> x .== "G68").S1_seropositive),
        count(i -> (i > 0), subset(week23, :PostcodePart => x -> x .== "G71").S1_seropositive),
        count(i -> (i > 0), subset(week23, :PostcodePart => x -> x .== "G72").S1_seropositive),
        count(i -> (i > 0), subset(week23, :PostcodePart => x -> x .== "G73").S1_seropositive),
        count(i -> (i > 0), subset(week23, :PostcodePart => x -> x .== "G74").S1_seropositive),
        count(i -> (i > 0), subset(week23, :PostcodePart => x -> x .== "G75").S1_seropositive),
        count(i -> (i > 0), subset(week23, :PostcodePart => x -> x .== "G76").S1_seropositive),
        count(i -> (i > 0), subset(week23, :PostcodePart => x -> x .== "G77").S1_seropositive),
        count(i -> (i > 0), subset(week23, :PostcodePart => x -> x .== "G78").S1_seropositive),
        count(i -> (i > 0), subset(week23, :PostcodePart => x -> x .== "G81").S1_seropositive),
        count(i -> (i > 0), subset(week23, :PostcodePart => x -> x .== "G82").S1_seropositive),
        count(i -> (i > 0), subset(week23, :PostcodePart => x -> x .== "G83").S1_seropositive),
        count(i -> (i > 0), subset(week23, :PostcodePart => x -> x .== "G84").S1_seropositive)]
week24 = data |> @filter(_.DaysSince < (Date("2020-08-24") - firstdate)) |> DataFrame
S1_data._2020_08_24 = [
        count(i -> (i > 0), subset(week24, :PostcodePart => x -> x .== "G1").S1_seropositive),
        count(i -> (i > 0), subset(week24, :PostcodePart => x -> x .== "G2").S1_seropositive),
        count(i -> (i > 0), subset(week24, :PostcodePart => x -> x .== "G3").S1_seropositive),
        count(i -> (i > 0), subset(week24, :PostcodePart => x -> x .== "G4").S1_seropositive),
        count(i -> (i > 0), subset(week24, :PostcodePart => x -> x .== "G5").S1_seropositive),
        count(i -> (i > 0), subset(week24, :PostcodePart => x -> x .== "G11").S1_seropositive),
        count(i -> (i > 0), subset(week24, :PostcodePart => x -> x .== "G12").S1_seropositive),
        count(i -> (i > 0), subset(week24, :PostcodePart => x -> x .== "G13").S1_seropositive),
        count(i -> (i > 0), subset(week24, :PostcodePart => x -> x .== "G14").S1_seropositive),
        count(i -> (i > 0), subset(week24, :PostcodePart => x -> x .== "G15").S1_seropositive),
        count(i -> (i > 0), subset(week24, :PostcodePart => x -> x .== "G20").S1_seropositive),
        count(i -> (i > 0), subset(week24, :PostcodePart => x -> x .== "G21").S1_seropositive),
        count(i -> (i > 0), subset(week24, :PostcodePart => x -> x .== "G22").S1_seropositive),
        count(i -> (i > 0), subset(week24, :PostcodePart => x -> x .== "G23").S1_seropositive),
        count(i -> (i > 0), subset(week24, :PostcodePart => x -> x .== "G31").S1_seropositive),
        count(i -> (i > 0), subset(week24, :PostcodePart => x -> x .== "G32").S1_seropositive),
        count(i -> (i > 0), subset(week24, :PostcodePart => x -> x .== "G33").S1_seropositive),
        count(i -> (i > 0), subset(week24, :PostcodePart => x -> x .== "G34").S1_seropositive),
        count(i -> (i > 0), subset(week24, :PostcodePart => x -> x .== "G40").S1_seropositive),
        count(i -> (i > 0), subset(week24, :PostcodePart => x -> x .== "G41").S1_seropositive),
        count(i -> (i > 0), subset(week24, :PostcodePart => x -> x .== "G42").S1_seropositive),
        count(i -> (i > 0), subset(week24, :PostcodePart => x -> x .== "G43").S1_seropositive),
        count(i -> (i > 0), subset(week24, :PostcodePart => x -> x .== "G44").S1_seropositive),
        count(i -> (i > 0), subset(week24, :PostcodePart => x -> x .== "G45").S1_seropositive),
        count(i -> (i > 0), subset(week24, :PostcodePart => x -> x .== "G46").S1_seropositive),
        count(i -> (i > 0), subset(week24, :PostcodePart => x -> x .== "G51").S1_seropositive),
        count(i -> (i > 0), subset(week24, :PostcodePart => x -> x .== "G52").S1_seropositive),
        count(i -> (i > 0), subset(week24, :PostcodePart => x -> x .== "G53").S1_seropositive),
        count(i -> (i > 0), subset(week24, :PostcodePart => x -> x .== "G60").S1_seropositive),
        count(i -> (i > 0), subset(week24, :PostcodePart => x -> x .== "G61").S1_seropositive),
        count(i -> (i > 0), subset(week24, :PostcodePart => x -> x .== "G62").S1_seropositive),
        count(i -> (i > 0), subset(week24, :PostcodePart => x -> x .== "G63").S1_seropositive),
        count(i -> (i > 0), subset(week24, :PostcodePart => x -> x .== "G64").S1_seropositive),
        count(i -> (i > 0), subset(week24, :PostcodePart => x -> x .== "G65").S1_seropositive),
        count(i -> (i > 0), subset(week24, :PostcodePart => x -> x .== "G66").S1_seropositive),
        count(i -> (i > 0), subset(week24, :PostcodePart => x -> x .== "G67").S1_seropositive),
        count(i -> (i > 0), subset(week24, :PostcodePart => x -> x .== "G68").S1_seropositive),
        count(i -> (i > 0), subset(week24, :PostcodePart => x -> x .== "G71").S1_seropositive),
        count(i -> (i > 0), subset(week24, :PostcodePart => x -> x .== "G72").S1_seropositive),
        count(i -> (i > 0), subset(week24, :PostcodePart => x -> x .== "G73").S1_seropositive),
        count(i -> (i > 0), subset(week24, :PostcodePart => x -> x .== "G74").S1_seropositive),
        count(i -> (i > 0), subset(week24, :PostcodePart => x -> x .== "G75").S1_seropositive),
        count(i -> (i > 0), subset(week24, :PostcodePart => x -> x .== "G76").S1_seropositive),
        count(i -> (i > 0), subset(week24, :PostcodePart => x -> x .== "G77").S1_seropositive),
        count(i -> (i > 0), subset(week24, :PostcodePart => x -> x .== "G78").S1_seropositive),
        count(i -> (i > 0), subset(week24, :PostcodePart => x -> x .== "G81").S1_seropositive),
        count(i -> (i > 0), subset(week24, :PostcodePart => x -> x .== "G82").S1_seropositive),
        count(i -> (i > 0), subset(week24, :PostcodePart => x -> x .== "G83").S1_seropositive),
        count(i -> (i > 0), subset(week24, :PostcodePart => x -> x .== "G84").S1_seropositive)]
week25 = data |> @filter(_.DaysSince < (Date("2020-08-31") - firstdate)) |> DataFrame
S1_data._2020_08_31 = [
        count(i -> (i > 0), subset(week25, :PostcodePart => x -> x .== "G1").S1_seropositive),
        count(i -> (i > 0), subset(week25, :PostcodePart => x -> x .== "G2").S1_seropositive),
        count(i -> (i > 0), subset(week25, :PostcodePart => x -> x .== "G3").S1_seropositive),
        count(i -> (i > 0), subset(week25, :PostcodePart => x -> x .== "G4").S1_seropositive),
        count(i -> (i > 0), subset(week25, :PostcodePart => x -> x .== "G5").S1_seropositive),
        count(i -> (i > 0), subset(week25, :PostcodePart => x -> x .== "G11").S1_seropositive),
        count(i -> (i > 0), subset(week25, :PostcodePart => x -> x .== "G12").S1_seropositive),
        count(i -> (i > 0), subset(week25, :PostcodePart => x -> x .== "G13").S1_seropositive),
        count(i -> (i > 0), subset(week25, :PostcodePart => x -> x .== "G14").S1_seropositive),
        count(i -> (i > 0), subset(week25, :PostcodePart => x -> x .== "G15").S1_seropositive),
        count(i -> (i > 0), subset(week25, :PostcodePart => x -> x .== "G20").S1_seropositive),
        count(i -> (i > 0), subset(week25, :PostcodePart => x -> x .== "G21").S1_seropositive),
        count(i -> (i > 0), subset(week25, :PostcodePart => x -> x .== "G22").S1_seropositive),
        count(i -> (i > 0), subset(week25, :PostcodePart => x -> x .== "G23").S1_seropositive),
        count(i -> (i > 0), subset(week25, :PostcodePart => x -> x .== "G31").S1_seropositive),
        count(i -> (i > 0), subset(week25, :PostcodePart => x -> x .== "G32").S1_seropositive),
        count(i -> (i > 0), subset(week25, :PostcodePart => x -> x .== "G33").S1_seropositive),
        count(i -> (i > 0), subset(week25, :PostcodePart => x -> x .== "G34").S1_seropositive),
        count(i -> (i > 0), subset(week25, :PostcodePart => x -> x .== "G40").S1_seropositive),
        count(i -> (i > 0), subset(week25, :PostcodePart => x -> x .== "G41").S1_seropositive),
        count(i -> (i > 0), subset(week25, :PostcodePart => x -> x .== "G42").S1_seropositive),
        count(i -> (i > 0), subset(week25, :PostcodePart => x -> x .== "G43").S1_seropositive),
        count(i -> (i > 0), subset(week25, :PostcodePart => x -> x .== "G44").S1_seropositive),
        count(i -> (i > 0), subset(week25, :PostcodePart => x -> x .== "G45").S1_seropositive),
        count(i -> (i > 0), subset(week25, :PostcodePart => x -> x .== "G46").S1_seropositive),
        count(i -> (i > 0), subset(week25, :PostcodePart => x -> x .== "G51").S1_seropositive),
        count(i -> (i > 0), subset(week25, :PostcodePart => x -> x .== "G52").S1_seropositive),
        count(i -> (i > 0), subset(week25, :PostcodePart => x -> x .== "G53").S1_seropositive),
        count(i -> (i > 0), subset(week25, :PostcodePart => x -> x .== "G60").S1_seropositive),
        count(i -> (i > 0), subset(week25, :PostcodePart => x -> x .== "G61").S1_seropositive),
        count(i -> (i > 0), subset(week25, :PostcodePart => x -> x .== "G62").S1_seropositive),
        count(i -> (i > 0), subset(week25, :PostcodePart => x -> x .== "G63").S1_seropositive),
        count(i -> (i > 0), subset(week25, :PostcodePart => x -> x .== "G64").S1_seropositive),
        count(i -> (i > 0), subset(week25, :PostcodePart => x -> x .== "G65").S1_seropositive),
        count(i -> (i > 0), subset(week25, :PostcodePart => x -> x .== "G66").S1_seropositive),
        count(i -> (i > 0), subset(week25, :PostcodePart => x -> x .== "G67").S1_seropositive),
        count(i -> (i > 0), subset(week25, :PostcodePart => x -> x .== "G68").S1_seropositive),
        count(i -> (i > 0), subset(week25, :PostcodePart => x -> x .== "G71").S1_seropositive),
        count(i -> (i > 0), subset(week25, :PostcodePart => x -> x .== "G72").S1_seropositive),
        count(i -> (i > 0), subset(week25, :PostcodePart => x -> x .== "G73").S1_seropositive),
        count(i -> (i > 0), subset(week25, :PostcodePart => x -> x .== "G74").S1_seropositive),
        count(i -> (i > 0), subset(week25, :PostcodePart => x -> x .== "G75").S1_seropositive),
        count(i -> (i > 0), subset(week25, :PostcodePart => x -> x .== "G76").S1_seropositive),
        count(i -> (i > 0), subset(week25, :PostcodePart => x -> x .== "G77").S1_seropositive),
        count(i -> (i > 0), subset(week25, :PostcodePart => x -> x .== "G78").S1_seropositive),
        count(i -> (i > 0), subset(week25, :PostcodePart => x -> x .== "G81").S1_seropositive),
        count(i -> (i > 0), subset(week25, :PostcodePart => x -> x .== "G82").S1_seropositive),
        count(i -> (i > 0), subset(week25, :PostcodePart => x -> x .== "G83").S1_seropositive),
        count(i -> (i > 0), subset(week25, :PostcodePart => x -> x .== "G84").S1_seropositive)]
week26 = data |> @filter(_.DaysSince < (Date("2020-09-07") - firstdate)) |> DataFrame
S1_data._2020_09_07 = [
        count(i -> (i > 0), subset(week26, :PostcodePart => x -> x .== "G1").S1_seropositive),
        count(i -> (i > 0), subset(week26, :PostcodePart => x -> x .== "G2").S1_seropositive),
        count(i -> (i > 0), subset(week26, :PostcodePart => x -> x .== "G3").S1_seropositive),
        count(i -> (i > 0), subset(week26, :PostcodePart => x -> x .== "G4").S1_seropositive),
        count(i -> (i > 0), subset(week26, :PostcodePart => x -> x .== "G5").S1_seropositive),
        count(i -> (i > 0), subset(week26, :PostcodePart => x -> x .== "G11").S1_seropositive),
        count(i -> (i > 0), subset(week26, :PostcodePart => x -> x .== "G12").S1_seropositive),
        count(i -> (i > 0), subset(week26, :PostcodePart => x -> x .== "G13").S1_seropositive),
        count(i -> (i > 0), subset(week26, :PostcodePart => x -> x .== "G14").S1_seropositive),
        count(i -> (i > 0), subset(week26, :PostcodePart => x -> x .== "G15").S1_seropositive),
        count(i -> (i > 0), subset(week26, :PostcodePart => x -> x .== "G20").S1_seropositive),
        count(i -> (i > 0), subset(week26, :PostcodePart => x -> x .== "G21").S1_seropositive),
        count(i -> (i > 0), subset(week26, :PostcodePart => x -> x .== "G22").S1_seropositive),
        count(i -> (i > 0), subset(week26, :PostcodePart => x -> x .== "G23").S1_seropositive),
        count(i -> (i > 0), subset(week26, :PostcodePart => x -> x .== "G31").S1_seropositive),
        count(i -> (i > 0), subset(week26, :PostcodePart => x -> x .== "G32").S1_seropositive),
        count(i -> (i > 0), subset(week26, :PostcodePart => x -> x .== "G33").S1_seropositive),
        count(i -> (i > 0), subset(week26, :PostcodePart => x -> x .== "G34").S1_seropositive),
        count(i -> (i > 0), subset(week26, :PostcodePart => x -> x .== "G40").S1_seropositive),
        count(i -> (i > 0), subset(week26, :PostcodePart => x -> x .== "G41").S1_seropositive),
        count(i -> (i > 0), subset(week26, :PostcodePart => x -> x .== "G42").S1_seropositive),
        count(i -> (i > 0), subset(week26, :PostcodePart => x -> x .== "G43").S1_seropositive),
        count(i -> (i > 0), subset(week26, :PostcodePart => x -> x .== "G44").S1_seropositive),
        count(i -> (i > 0), subset(week26, :PostcodePart => x -> x .== "G45").S1_seropositive),
        count(i -> (i > 0), subset(week26, :PostcodePart => x -> x .== "G46").S1_seropositive),
        count(i -> (i > 0), subset(week26, :PostcodePart => x -> x .== "G51").S1_seropositive),
        count(i -> (i > 0), subset(week26, :PostcodePart => x -> x .== "G52").S1_seropositive),
        count(i -> (i > 0), subset(week26, :PostcodePart => x -> x .== "G53").S1_seropositive),
        count(i -> (i > 0), subset(week26, :PostcodePart => x -> x .== "G60").S1_seropositive),
        count(i -> (i > 0), subset(week26, :PostcodePart => x -> x .== "G61").S1_seropositive),
        count(i -> (i > 0), subset(week26, :PostcodePart => x -> x .== "G62").S1_seropositive),
        count(i -> (i > 0), subset(week26, :PostcodePart => x -> x .== "G63").S1_seropositive),
        count(i -> (i > 0), subset(week26, :PostcodePart => x -> x .== "G64").S1_seropositive),
        count(i -> (i > 0), subset(week26, :PostcodePart => x -> x .== "G65").S1_seropositive),
        count(i -> (i > 0), subset(week26, :PostcodePart => x -> x .== "G66").S1_seropositive),
        count(i -> (i > 0), subset(week26, :PostcodePart => x -> x .== "G67").S1_seropositive),
        count(i -> (i > 0), subset(week26, :PostcodePart => x -> x .== "G68").S1_seropositive),
        count(i -> (i > 0), subset(week26, :PostcodePart => x -> x .== "G71").S1_seropositive),
        count(i -> (i > 0), subset(week26, :PostcodePart => x -> x .== "G72").S1_seropositive),
        count(i -> (i > 0), subset(week26, :PostcodePart => x -> x .== "G73").S1_seropositive),
        count(i -> (i > 0), subset(week26, :PostcodePart => x -> x .== "G74").S1_seropositive),
        count(i -> (i > 0), subset(week26, :PostcodePart => x -> x .== "G75").S1_seropositive),
        count(i -> (i > 0), subset(week26, :PostcodePart => x -> x .== "G76").S1_seropositive),
        count(i -> (i > 0), subset(week26, :PostcodePart => x -> x .== "G77").S1_seropositive),
        count(i -> (i > 0), subset(week26, :PostcodePart => x -> x .== "G78").S1_seropositive),
        count(i -> (i > 0), subset(week26, :PostcodePart => x -> x .== "G81").S1_seropositive),
        count(i -> (i > 0), subset(week26, :PostcodePart => x -> x .== "G82").S1_seropositive),
        count(i -> (i > 0), subset(week26, :PostcodePart => x -> x .== "G83").S1_seropositive),
        count(i -> (i > 0), subset(week26, :PostcodePart => x -> x .== "G84").S1_seropositive)]
week27 = data |> @filter(_.DaysSince < (Date("2020-09-14") - firstdate)) |> DataFrame
S1_data._2020_09_14 = [
        count(i -> (i > 0), subset(week27, :PostcodePart => x -> x .== "G1").S1_seropositive),
        count(i -> (i > 0), subset(week27, :PostcodePart => x -> x .== "G2").S1_seropositive),
        count(i -> (i > 0), subset(week27, :PostcodePart => x -> x .== "G3").S1_seropositive),
        count(i -> (i > 0), subset(week27, :PostcodePart => x -> x .== "G4").S1_seropositive),
        count(i -> (i > 0), subset(week27, :PostcodePart => x -> x .== "G5").S1_seropositive),
        count(i -> (i > 0), subset(week27, :PostcodePart => x -> x .== "G11").S1_seropositive),
        count(i -> (i > 0), subset(week27, :PostcodePart => x -> x .== "G12").S1_seropositive),
        count(i -> (i > 0), subset(week27, :PostcodePart => x -> x .== "G13").S1_seropositive),
        count(i -> (i > 0), subset(week27, :PostcodePart => x -> x .== "G14").S1_seropositive),
        count(i -> (i > 0), subset(week27, :PostcodePart => x -> x .== "G15").S1_seropositive),
        count(i -> (i > 0), subset(week27, :PostcodePart => x -> x .== "G20").S1_seropositive),
        count(i -> (i > 0), subset(week27, :PostcodePart => x -> x .== "G21").S1_seropositive),
        count(i -> (i > 0), subset(week27, :PostcodePart => x -> x .== "G22").S1_seropositive),
        count(i -> (i > 0), subset(week27, :PostcodePart => x -> x .== "G23").S1_seropositive),
        count(i -> (i > 0), subset(week27, :PostcodePart => x -> x .== "G31").S1_seropositive),
        count(i -> (i > 0), subset(week27, :PostcodePart => x -> x .== "G32").S1_seropositive),
        count(i -> (i > 0), subset(week27, :PostcodePart => x -> x .== "G33").S1_seropositive),
        count(i -> (i > 0), subset(week27, :PostcodePart => x -> x .== "G34").S1_seropositive),
        count(i -> (i > 0), subset(week27, :PostcodePart => x -> x .== "G40").S1_seropositive),
        count(i -> (i > 0), subset(week27, :PostcodePart => x -> x .== "G41").S1_seropositive),
        count(i -> (i > 0), subset(week27, :PostcodePart => x -> x .== "G42").S1_seropositive),
        count(i -> (i > 0), subset(week27, :PostcodePart => x -> x .== "G43").S1_seropositive),
        count(i -> (i > 0), subset(week27, :PostcodePart => x -> x .== "G44").S1_seropositive),
        count(i -> (i > 0), subset(week27, :PostcodePart => x -> x .== "G45").S1_seropositive),
        count(i -> (i > 0), subset(week27, :PostcodePart => x -> x .== "G46").S1_seropositive),
        count(i -> (i > 0), subset(week27, :PostcodePart => x -> x .== "G51").S1_seropositive),
        count(i -> (i > 0), subset(week27, :PostcodePart => x -> x .== "G52").S1_seropositive),
        count(i -> (i > 0), subset(week27, :PostcodePart => x -> x .== "G53").S1_seropositive),
        count(i -> (i > 0), subset(week27, :PostcodePart => x -> x .== "G60").S1_seropositive),
        count(i -> (i > 0), subset(week27, :PostcodePart => x -> x .== "G61").S1_seropositive),
        count(i -> (i > 0), subset(week27, :PostcodePart => x -> x .== "G62").S1_seropositive),
        count(i -> (i > 0), subset(week27, :PostcodePart => x -> x .== "G63").S1_seropositive),
        count(i -> (i > 0), subset(week27, :PostcodePart => x -> x .== "G64").S1_seropositive),
        count(i -> (i > 0), subset(week27, :PostcodePart => x -> x .== "G65").S1_seropositive),
        count(i -> (i > 0), subset(week27, :PostcodePart => x -> x .== "G66").S1_seropositive),
        count(i -> (i > 0), subset(week27, :PostcodePart => x -> x .== "G67").S1_seropositive),
        count(i -> (i > 0), subset(week27, :PostcodePart => x -> x .== "G68").S1_seropositive),
        count(i -> (i > 0), subset(week27, :PostcodePart => x -> x .== "G71").S1_seropositive),
        count(i -> (i > 0), subset(week27, :PostcodePart => x -> x .== "G72").S1_seropositive),
        count(i -> (i > 0), subset(week27, :PostcodePart => x -> x .== "G73").S1_seropositive),
        count(i -> (i > 0), subset(week27, :PostcodePart => x -> x .== "G74").S1_seropositive),
        count(i -> (i > 0), subset(week27, :PostcodePart => x -> x .== "G75").S1_seropositive),
        count(i -> (i > 0), subset(week27, :PostcodePart => x -> x .== "G76").S1_seropositive),
        count(i -> (i > 0), subset(week27, :PostcodePart => x -> x .== "G77").S1_seropositive),
        count(i -> (i > 0), subset(week27, :PostcodePart => x -> x .== "G78").S1_seropositive),
        count(i -> (i > 0), subset(week27, :PostcodePart => x -> x .== "G81").S1_seropositive),
        count(i -> (i > 0), subset(week27, :PostcodePart => x -> x .== "G82").S1_seropositive),
        count(i -> (i > 0), subset(week27, :PostcodePart => x -> x .== "G83").S1_seropositive),
        count(i -> (i > 0), subset(week27, :PostcodePart => x -> x .== "G84").S1_seropositive)]
week28 = data |> @filter(_.DaysSince < (Date("2020-09-21") - firstdate)) |> DataFrame
S1_data._2020_09_21 = [
        count(i -> (i > 0), subset(week28, :PostcodePart => x -> x .== "G1").S1_seropositive),
        count(i -> (i > 0), subset(week28, :PostcodePart => x -> x .== "G2").S1_seropositive),
        count(i -> (i > 0), subset(week28, :PostcodePart => x -> x .== "G3").S1_seropositive),
        count(i -> (i > 0), subset(week28, :PostcodePart => x -> x .== "G4").S1_seropositive),
        count(i -> (i > 0), subset(week28, :PostcodePart => x -> x .== "G5").S1_seropositive),
        count(i -> (i > 0), subset(week28, :PostcodePart => x -> x .== "G11").S1_seropositive),
        count(i -> (i > 0), subset(week28, :PostcodePart => x -> x .== "G12").S1_seropositive),
        count(i -> (i > 0), subset(week28, :PostcodePart => x -> x .== "G13").S1_seropositive),
        count(i -> (i > 0), subset(week28, :PostcodePart => x -> x .== "G14").S1_seropositive),
        count(i -> (i > 0), subset(week28, :PostcodePart => x -> x .== "G15").S1_seropositive),
        count(i -> (i > 0), subset(week28, :PostcodePart => x -> x .== "G20").S1_seropositive),
        count(i -> (i > 0), subset(week28, :PostcodePart => x -> x .== "G21").S1_seropositive),
        count(i -> (i > 0), subset(week28, :PostcodePart => x -> x .== "G22").S1_seropositive),
        count(i -> (i > 0), subset(week28, :PostcodePart => x -> x .== "G23").S1_seropositive),
        count(i -> (i > 0), subset(week28, :PostcodePart => x -> x .== "G31").S1_seropositive),
        count(i -> (i > 0), subset(week28, :PostcodePart => x -> x .== "G32").S1_seropositive),
        count(i -> (i > 0), subset(week28, :PostcodePart => x -> x .== "G33").S1_seropositive),
        count(i -> (i > 0), subset(week28, :PostcodePart => x -> x .== "G34").S1_seropositive),
        count(i -> (i > 0), subset(week28, :PostcodePart => x -> x .== "G40").S1_seropositive),
        count(i -> (i > 0), subset(week28, :PostcodePart => x -> x .== "G41").S1_seropositive),
        count(i -> (i > 0), subset(week28, :PostcodePart => x -> x .== "G42").S1_seropositive),
        count(i -> (i > 0), subset(week28, :PostcodePart => x -> x .== "G43").S1_seropositive),
        count(i -> (i > 0), subset(week28, :PostcodePart => x -> x .== "G44").S1_seropositive),
        count(i -> (i > 0), subset(week28, :PostcodePart => x -> x .== "G45").S1_seropositive),
        count(i -> (i > 0), subset(week28, :PostcodePart => x -> x .== "G46").S1_seropositive),
        count(i -> (i > 0), subset(week28, :PostcodePart => x -> x .== "G51").S1_seropositive),
        count(i -> (i > 0), subset(week28, :PostcodePart => x -> x .== "G52").S1_seropositive),
        count(i -> (i > 0), subset(week28, :PostcodePart => x -> x .== "G53").S1_seropositive),
        count(i -> (i > 0), subset(week28, :PostcodePart => x -> x .== "G60").S1_seropositive),
        count(i -> (i > 0), subset(week28, :PostcodePart => x -> x .== "G61").S1_seropositive),
        count(i -> (i > 0), subset(week28, :PostcodePart => x -> x .== "G62").S1_seropositive),
        count(i -> (i > 0), subset(week28, :PostcodePart => x -> x .== "G63").S1_seropositive),
        count(i -> (i > 0), subset(week28, :PostcodePart => x -> x .== "G64").S1_seropositive),
        count(i -> (i > 0), subset(week28, :PostcodePart => x -> x .== "G65").S1_seropositive),
        count(i -> (i > 0), subset(week28, :PostcodePart => x -> x .== "G66").S1_seropositive),
        count(i -> (i > 0), subset(week28, :PostcodePart => x -> x .== "G67").S1_seropositive),
        count(i -> (i > 0), subset(week28, :PostcodePart => x -> x .== "G68").S1_seropositive),
        count(i -> (i > 0), subset(week28, :PostcodePart => x -> x .== "G71").S1_seropositive),
        count(i -> (i > 0), subset(week28, :PostcodePart => x -> x .== "G72").S1_seropositive),
        count(i -> (i > 0), subset(week28, :PostcodePart => x -> x .== "G73").S1_seropositive),
        count(i -> (i > 0), subset(week28, :PostcodePart => x -> x .== "G74").S1_seropositive),
        count(i -> (i > 0), subset(week28, :PostcodePart => x -> x .== "G75").S1_seropositive),
        count(i -> (i > 0), subset(week28, :PostcodePart => x -> x .== "G76").S1_seropositive),
        count(i -> (i > 0), subset(week28, :PostcodePart => x -> x .== "G77").S1_seropositive),
        count(i -> (i > 0), subset(week28, :PostcodePart => x -> x .== "G78").S1_seropositive),
        count(i -> (i > 0), subset(week28, :PostcodePart => x -> x .== "G81").S1_seropositive),
        count(i -> (i > 0), subset(week28, :PostcodePart => x -> x .== "G82").S1_seropositive),
        count(i -> (i > 0), subset(week28, :PostcodePart => x -> x .== "G83").S1_seropositive),
        count(i -> (i > 0), subset(week28, :PostcodePart => x -> x .== "G84").S1_seropositive)]
week29 = data |> @filter(_.DaysSince < (Date("2020-09-28") - firstdate)) |> DataFrame
S1_data._2020_09_28 = [
        count(i -> (i > 0), subset(week29, :PostcodePart => x -> x .== "G1").S1_seropositive),
        count(i -> (i > 0), subset(week29, :PostcodePart => x -> x .== "G2").S1_seropositive),
        count(i -> (i > 0), subset(week29, :PostcodePart => x -> x .== "G3").S1_seropositive),
        count(i -> (i > 0), subset(week29, :PostcodePart => x -> x .== "G4").S1_seropositive),
        count(i -> (i > 0), subset(week29, :PostcodePart => x -> x .== "G5").S1_seropositive),
        count(i -> (i > 0), subset(week29, :PostcodePart => x -> x .== "G11").S1_seropositive),
        count(i -> (i > 0), subset(week29, :PostcodePart => x -> x .== "G12").S1_seropositive),
        count(i -> (i > 0), subset(week29, :PostcodePart => x -> x .== "G13").S1_seropositive),
        count(i -> (i > 0), subset(week29, :PostcodePart => x -> x .== "G14").S1_seropositive),
        count(i -> (i > 0), subset(week29, :PostcodePart => x -> x .== "G15").S1_seropositive),
        count(i -> (i > 0), subset(week29, :PostcodePart => x -> x .== "G20").S1_seropositive),
        count(i -> (i > 0), subset(week29, :PostcodePart => x -> x .== "G21").S1_seropositive),
        count(i -> (i > 0), subset(week29, :PostcodePart => x -> x .== "G22").S1_seropositive),
        count(i -> (i > 0), subset(week29, :PostcodePart => x -> x .== "G23").S1_seropositive),
        count(i -> (i > 0), subset(week29, :PostcodePart => x -> x .== "G31").S1_seropositive),
        count(i -> (i > 0), subset(week29, :PostcodePart => x -> x .== "G32").S1_seropositive),
        count(i -> (i > 0), subset(week29, :PostcodePart => x -> x .== "G33").S1_seropositive),
        count(i -> (i > 0), subset(week29, :PostcodePart => x -> x .== "G34").S1_seropositive),
        count(i -> (i > 0), subset(week29, :PostcodePart => x -> x .== "G40").S1_seropositive),
        count(i -> (i > 0), subset(week29, :PostcodePart => x -> x .== "G41").S1_seropositive),
        count(i -> (i > 0), subset(week29, :PostcodePart => x -> x .== "G42").S1_seropositive),
        count(i -> (i > 0), subset(week29, :PostcodePart => x -> x .== "G43").S1_seropositive),
        count(i -> (i > 0), subset(week29, :PostcodePart => x -> x .== "G44").S1_seropositive),
        count(i -> (i > 0), subset(week29, :PostcodePart => x -> x .== "G45").S1_seropositive),
        count(i -> (i > 0), subset(week29, :PostcodePart => x -> x .== "G46").S1_seropositive),
        count(i -> (i > 0), subset(week29, :PostcodePart => x -> x .== "G51").S1_seropositive),
        count(i -> (i > 0), subset(week29, :PostcodePart => x -> x .== "G52").S1_seropositive),
        count(i -> (i > 0), subset(week29, :PostcodePart => x -> x .== "G53").S1_seropositive),
        count(i -> (i > 0), subset(week29, :PostcodePart => x -> x .== "G60").S1_seropositive),
        count(i -> (i > 0), subset(week29, :PostcodePart => x -> x .== "G61").S1_seropositive),
        count(i -> (i > 0), subset(week29, :PostcodePart => x -> x .== "G62").S1_seropositive),
        count(i -> (i > 0), subset(week29, :PostcodePart => x -> x .== "G63").S1_seropositive),
        count(i -> (i > 0), subset(week29, :PostcodePart => x -> x .== "G64").S1_seropositive),
        count(i -> (i > 0), subset(week29, :PostcodePart => x -> x .== "G65").S1_seropositive),
        count(i -> (i > 0), subset(week29, :PostcodePart => x -> x .== "G66").S1_seropositive),
        count(i -> (i > 0), subset(week29, :PostcodePart => x -> x .== "G67").S1_seropositive),
        count(i -> (i > 0), subset(week29, :PostcodePart => x -> x .== "G68").S1_seropositive),
        count(i -> (i > 0), subset(week29, :PostcodePart => x -> x .== "G71").S1_seropositive),
        count(i -> (i > 0), subset(week29, :PostcodePart => x -> x .== "G72").S1_seropositive),
        count(i -> (i > 0), subset(week29, :PostcodePart => x -> x .== "G73").S1_seropositive),
        count(i -> (i > 0), subset(week29, :PostcodePart => x -> x .== "G74").S1_seropositive),
        count(i -> (i > 0), subset(week29, :PostcodePart => x -> x .== "G75").S1_seropositive),
        count(i -> (i > 0), subset(week29, :PostcodePart => x -> x .== "G76").S1_seropositive),
        count(i -> (i > 0), subset(week29, :PostcodePart => x -> x .== "G77").S1_seropositive),
        count(i -> (i > 0), subset(week29, :PostcodePart => x -> x .== "G78").S1_seropositive),
        count(i -> (i > 0), subset(week29, :PostcodePart => x -> x .== "G81").S1_seropositive),
        count(i -> (i > 0), subset(week29, :PostcodePart => x -> x .== "G82").S1_seropositive),
        count(i -> (i > 0), subset(week29, :PostcodePart => x -> x .== "G83").S1_seropositive),
        count(i -> (i > 0), subset(week29, :PostcodePart => x -> x .== "G84").S1_seropositive)]
week30 = data |> @filter(_.DaysSince < (Date("2020-10-05") - firstdate)) |> DataFrame
S1_data._2020_10_05 = [
        count(i -> (i > 0), subset(week30, :PostcodePart => x -> x .== "G1").S1_seropositive),
        count(i -> (i > 0), subset(week30, :PostcodePart => x -> x .== "G2").S1_seropositive),
        count(i -> (i > 0), subset(week30, :PostcodePart => x -> x .== "G3").S1_seropositive),
        count(i -> (i > 0), subset(week30, :PostcodePart => x -> x .== "G4").S1_seropositive),
        count(i -> (i > 0), subset(week30, :PostcodePart => x -> x .== "G5").S1_seropositive),
        count(i -> (i > 0), subset(week30, :PostcodePart => x -> x .== "G11").S1_seropositive),
        count(i -> (i > 0), subset(week30, :PostcodePart => x -> x .== "G12").S1_seropositive),
        count(i -> (i > 0), subset(week30, :PostcodePart => x -> x .== "G13").S1_seropositive),
        count(i -> (i > 0), subset(week30, :PostcodePart => x -> x .== "G14").S1_seropositive),
        count(i -> (i > 0), subset(week30, :PostcodePart => x -> x .== "G15").S1_seropositive),
        count(i -> (i > 0), subset(week30, :PostcodePart => x -> x .== "G20").S1_seropositive),
        count(i -> (i > 0), subset(week30, :PostcodePart => x -> x .== "G21").S1_seropositive),
        count(i -> (i > 0), subset(week30, :PostcodePart => x -> x .== "G22").S1_seropositive),
        count(i -> (i > 0), subset(week30, :PostcodePart => x -> x .== "G23").S1_seropositive),
        count(i -> (i > 0), subset(week30, :PostcodePart => x -> x .== "G31").S1_seropositive),
        count(i -> (i > 0), subset(week30, :PostcodePart => x -> x .== "G32").S1_seropositive),
        count(i -> (i > 0), subset(week30, :PostcodePart => x -> x .== "G33").S1_seropositive),
        count(i -> (i > 0), subset(week30, :PostcodePart => x -> x .== "G34").S1_seropositive),
        count(i -> (i > 0), subset(week30, :PostcodePart => x -> x .== "G40").S1_seropositive),
        count(i -> (i > 0), subset(week30, :PostcodePart => x -> x .== "G41").S1_seropositive),
        count(i -> (i > 0), subset(week30, :PostcodePart => x -> x .== "G42").S1_seropositive),
        count(i -> (i > 0), subset(week30, :PostcodePart => x -> x .== "G43").S1_seropositive),
        count(i -> (i > 0), subset(week30, :PostcodePart => x -> x .== "G44").S1_seropositive),
        count(i -> (i > 0), subset(week30, :PostcodePart => x -> x .== "G45").S1_seropositive),
        count(i -> (i > 0), subset(week30, :PostcodePart => x -> x .== "G46").S1_seropositive),
        count(i -> (i > 0), subset(week30, :PostcodePart => x -> x .== "G51").S1_seropositive),
        count(i -> (i > 0), subset(week30, :PostcodePart => x -> x .== "G52").S1_seropositive),
        count(i -> (i > 0), subset(week30, :PostcodePart => x -> x .== "G53").S1_seropositive),
        count(i -> (i > 0), subset(week30, :PostcodePart => x -> x .== "G60").S1_seropositive),
        count(i -> (i > 0), subset(week30, :PostcodePart => x -> x .== "G61").S1_seropositive),
        count(i -> (i > 0), subset(week30, :PostcodePart => x -> x .== "G62").S1_seropositive),
        count(i -> (i > 0), subset(week30, :PostcodePart => x -> x .== "G63").S1_seropositive),
        count(i -> (i > 0), subset(week30, :PostcodePart => x -> x .== "G64").S1_seropositive),
        count(i -> (i > 0), subset(week30, :PostcodePart => x -> x .== "G65").S1_seropositive),
        count(i -> (i > 0), subset(week30, :PostcodePart => x -> x .== "G66").S1_seropositive),
        count(i -> (i > 0), subset(week30, :PostcodePart => x -> x .== "G67").S1_seropositive),
        count(i -> (i > 0), subset(week30, :PostcodePart => x -> x .== "G68").S1_seropositive),
        count(i -> (i > 0), subset(week30, :PostcodePart => x -> x .== "G71").S1_seropositive),
        count(i -> (i > 0), subset(week30, :PostcodePart => x -> x .== "G72").S1_seropositive),
        count(i -> (i > 0), subset(week30, :PostcodePart => x -> x .== "G73").S1_seropositive),
        count(i -> (i > 0), subset(week30, :PostcodePart => x -> x .== "G74").S1_seropositive),
        count(i -> (i > 0), subset(week30, :PostcodePart => x -> x .== "G75").S1_seropositive),
        count(i -> (i > 0), subset(week30, :PostcodePart => x -> x .== "G76").S1_seropositive),
        count(i -> (i > 0), subset(week30, :PostcodePart => x -> x .== "G77").S1_seropositive),
        count(i -> (i > 0), subset(week30, :PostcodePart => x -> x .== "G78").S1_seropositive),
        count(i -> (i > 0), subset(week30, :PostcodePart => x -> x .== "G81").S1_seropositive),
        count(i -> (i > 0), subset(week30, :PostcodePart => x -> x .== "G82").S1_seropositive),
        count(i -> (i > 0), subset(week30, :PostcodePart => x -> x .== "G83").S1_seropositive),
        count(i -> (i > 0), subset(week30, :PostcodePart => x -> x .== "G84").S1_seropositive)]
week31 = data |> @filter(_.DaysSince < (Date("2020-10-12") - firstdate)) |> DataFrame
S1_data._2020_10_12 = [
        count(i -> (i > 0), subset(week31, :PostcodePart => x -> x .== "G1").S1_seropositive),
        count(i -> (i > 0), subset(week31, :PostcodePart => x -> x .== "G2").S1_seropositive),
        count(i -> (i > 0), subset(week31, :PostcodePart => x -> x .== "G3").S1_seropositive),
        count(i -> (i > 0), subset(week31, :PostcodePart => x -> x .== "G4").S1_seropositive),
        count(i -> (i > 0), subset(week31, :PostcodePart => x -> x .== "G5").S1_seropositive),
        count(i -> (i > 0), subset(week31, :PostcodePart => x -> x .== "G11").S1_seropositive),
        count(i -> (i > 0), subset(week31, :PostcodePart => x -> x .== "G12").S1_seropositive),
        count(i -> (i > 0), subset(week31, :PostcodePart => x -> x .== "G13").S1_seropositive),
        count(i -> (i > 0), subset(week31, :PostcodePart => x -> x .== "G14").S1_seropositive),
        count(i -> (i > 0), subset(week31, :PostcodePart => x -> x .== "G15").S1_seropositive),
        count(i -> (i > 0), subset(week31, :PostcodePart => x -> x .== "G20").S1_seropositive),
        count(i -> (i > 0), subset(week31, :PostcodePart => x -> x .== "G21").S1_seropositive),
        count(i -> (i > 0), subset(week31, :PostcodePart => x -> x .== "G22").S1_seropositive),
        count(i -> (i > 0), subset(week31, :PostcodePart => x -> x .== "G23").S1_seropositive),
        count(i -> (i > 0), subset(week31, :PostcodePart => x -> x .== "G31").S1_seropositive),
        count(i -> (i > 0), subset(week31, :PostcodePart => x -> x .== "G32").S1_seropositive),
        count(i -> (i > 0), subset(week31, :PostcodePart => x -> x .== "G33").S1_seropositive),
        count(i -> (i > 0), subset(week31, :PostcodePart => x -> x .== "G34").S1_seropositive),
        count(i -> (i > 0), subset(week31, :PostcodePart => x -> x .== "G40").S1_seropositive),
        count(i -> (i > 0), subset(week31, :PostcodePart => x -> x .== "G41").S1_seropositive),
        count(i -> (i > 0), subset(week31, :PostcodePart => x -> x .== "G42").S1_seropositive),
        count(i -> (i > 0), subset(week31, :PostcodePart => x -> x .== "G43").S1_seropositive),
        count(i -> (i > 0), subset(week31, :PostcodePart => x -> x .== "G44").S1_seropositive),
        count(i -> (i > 0), subset(week31, :PostcodePart => x -> x .== "G45").S1_seropositive),
        count(i -> (i > 0), subset(week31, :PostcodePart => x -> x .== "G46").S1_seropositive),
        count(i -> (i > 0), subset(week31, :PostcodePart => x -> x .== "G51").S1_seropositive),
        count(i -> (i > 0), subset(week31, :PostcodePart => x -> x .== "G52").S1_seropositive),
        count(i -> (i > 0), subset(week31, :PostcodePart => x -> x .== "G53").S1_seropositive),
        count(i -> (i > 0), subset(week31, :PostcodePart => x -> x .== "G60").S1_seropositive),
        count(i -> (i > 0), subset(week31, :PostcodePart => x -> x .== "G61").S1_seropositive),
        count(i -> (i > 0), subset(week31, :PostcodePart => x -> x .== "G62").S1_seropositive),
        count(i -> (i > 0), subset(week31, :PostcodePart => x -> x .== "G63").S1_seropositive),
        count(i -> (i > 0), subset(week31, :PostcodePart => x -> x .== "G64").S1_seropositive),
        count(i -> (i > 0), subset(week31, :PostcodePart => x -> x .== "G65").S1_seropositive),
        count(i -> (i > 0), subset(week31, :PostcodePart => x -> x .== "G66").S1_seropositive),
        count(i -> (i > 0), subset(week31, :PostcodePart => x -> x .== "G67").S1_seropositive),
        count(i -> (i > 0), subset(week31, :PostcodePart => x -> x .== "G68").S1_seropositive),
        count(i -> (i > 0), subset(week31, :PostcodePart => x -> x .== "G71").S1_seropositive),
        count(i -> (i > 0), subset(week31, :PostcodePart => x -> x .== "G72").S1_seropositive),
        count(i -> (i > 0), subset(week31, :PostcodePart => x -> x .== "G73").S1_seropositive),
        count(i -> (i > 0), subset(week31, :PostcodePart => x -> x .== "G74").S1_seropositive),
        count(i -> (i > 0), subset(week31, :PostcodePart => x -> x .== "G75").S1_seropositive),
        count(i -> (i > 0), subset(week31, :PostcodePart => x -> x .== "G76").S1_seropositive),
        count(i -> (i > 0), subset(week31, :PostcodePart => x -> x .== "G77").S1_seropositive),
        count(i -> (i > 0), subset(week31, :PostcodePart => x -> x .== "G78").S1_seropositive),
        count(i -> (i > 0), subset(week31, :PostcodePart => x -> x .== "G81").S1_seropositive),
        count(i -> (i > 0), subset(week31, :PostcodePart => x -> x .== "G82").S1_seropositive),
        count(i -> (i > 0), subset(week31, :PostcodePart => x -> x .== "G83").S1_seropositive),
        count(i -> (i > 0), subset(week31, :PostcodePart => x -> x .== "G84").S1_seropositive)]
week32 = data |> @filter(_.DaysSince < (Date("2020-10-19") - firstdate)) |> DataFrame
S1_data._2020_10_19 = [
        count(i -> (i > 0), subset(week32, :PostcodePart => x -> x .== "G1").S1_seropositive),
        count(i -> (i > 0), subset(week32, :PostcodePart => x -> x .== "G2").S1_seropositive),
        count(i -> (i > 0), subset(week32, :PostcodePart => x -> x .== "G3").S1_seropositive),
        count(i -> (i > 0), subset(week32, :PostcodePart => x -> x .== "G4").S1_seropositive),
        count(i -> (i > 0), subset(week32, :PostcodePart => x -> x .== "G5").S1_seropositive),
        count(i -> (i > 0), subset(week32, :PostcodePart => x -> x .== "G11").S1_seropositive),
        count(i -> (i > 0), subset(week32, :PostcodePart => x -> x .== "G12").S1_seropositive),
        count(i -> (i > 0), subset(week32, :PostcodePart => x -> x .== "G13").S1_seropositive),
        count(i -> (i > 0), subset(week32, :PostcodePart => x -> x .== "G14").S1_seropositive),
        count(i -> (i > 0), subset(week32, :PostcodePart => x -> x .== "G15").S1_seropositive),
        count(i -> (i > 0), subset(week32, :PostcodePart => x -> x .== "G20").S1_seropositive),
        count(i -> (i > 0), subset(week32, :PostcodePart => x -> x .== "G21").S1_seropositive),
        count(i -> (i > 0), subset(week32, :PostcodePart => x -> x .== "G22").S1_seropositive),
        count(i -> (i > 0), subset(week32, :PostcodePart => x -> x .== "G23").S1_seropositive),
        count(i -> (i > 0), subset(week32, :PostcodePart => x -> x .== "G31").S1_seropositive),
        count(i -> (i > 0), subset(week32, :PostcodePart => x -> x .== "G32").S1_seropositive),
        count(i -> (i > 0), subset(week32, :PostcodePart => x -> x .== "G33").S1_seropositive),
        count(i -> (i > 0), subset(week32, :PostcodePart => x -> x .== "G34").S1_seropositive),
        count(i -> (i > 0), subset(week32, :PostcodePart => x -> x .== "G40").S1_seropositive),
        count(i -> (i > 0), subset(week32, :PostcodePart => x -> x .== "G41").S1_seropositive),
        count(i -> (i > 0), subset(week32, :PostcodePart => x -> x .== "G42").S1_seropositive),
        count(i -> (i > 0), subset(week32, :PostcodePart => x -> x .== "G43").S1_seropositive),
        count(i -> (i > 0), subset(week32, :PostcodePart => x -> x .== "G44").S1_seropositive),
        count(i -> (i > 0), subset(week32, :PostcodePart => x -> x .== "G45").S1_seropositive),
        count(i -> (i > 0), subset(week32, :PostcodePart => x -> x .== "G46").S1_seropositive),
        count(i -> (i > 0), subset(week32, :PostcodePart => x -> x .== "G51").S1_seropositive),
        count(i -> (i > 0), subset(week32, :PostcodePart => x -> x .== "G52").S1_seropositive),
        count(i -> (i > 0), subset(week32, :PostcodePart => x -> x .== "G53").S1_seropositive),
        count(i -> (i > 0), subset(week32, :PostcodePart => x -> x .== "G60").S1_seropositive),
        count(i -> (i > 0), subset(week32, :PostcodePart => x -> x .== "G61").S1_seropositive),
        count(i -> (i > 0), subset(week32, :PostcodePart => x -> x .== "G62").S1_seropositive),
        count(i -> (i > 0), subset(week32, :PostcodePart => x -> x .== "G63").S1_seropositive),
        count(i -> (i > 0), subset(week32, :PostcodePart => x -> x .== "G64").S1_seropositive),
        count(i -> (i > 0), subset(week32, :PostcodePart => x -> x .== "G65").S1_seropositive),
        count(i -> (i > 0), subset(week32, :PostcodePart => x -> x .== "G66").S1_seropositive),
        count(i -> (i > 0), subset(week32, :PostcodePart => x -> x .== "G67").S1_seropositive),
        count(i -> (i > 0), subset(week32, :PostcodePart => x -> x .== "G68").S1_seropositive),
        count(i -> (i > 0), subset(week32, :PostcodePart => x -> x .== "G71").S1_seropositive),
        count(i -> (i > 0), subset(week32, :PostcodePart => x -> x .== "G72").S1_seropositive),
        count(i -> (i > 0), subset(week32, :PostcodePart => x -> x .== "G73").S1_seropositive),
        count(i -> (i > 0), subset(week32, :PostcodePart => x -> x .== "G74").S1_seropositive),
        count(i -> (i > 0), subset(week32, :PostcodePart => x -> x .== "G75").S1_seropositive),
        count(i -> (i > 0), subset(week32, :PostcodePart => x -> x .== "G76").S1_seropositive),
        count(i -> (i > 0), subset(week32, :PostcodePart => x -> x .== "G77").S1_seropositive),
        count(i -> (i > 0), subset(week32, :PostcodePart => x -> x .== "G78").S1_seropositive),
        count(i -> (i > 0), subset(week32, :PostcodePart => x -> x .== "G81").S1_seropositive),
        count(i -> (i > 0), subset(week32, :PostcodePart => x -> x .== "G82").S1_seropositive),
        count(i -> (i > 0), subset(week32, :PostcodePart => x -> x .== "G83").S1_seropositive),
        count(i -> (i > 0), subset(week32, :PostcodePart => x -> x .== "G84").S1_seropositive)]
week33 = data |> @filter(_.DaysSince < (Date("2020-10-26") - firstdate)) |> DataFrame
S1_data._2020_10_26 = [
        count(i -> (i > 0), subset(week33, :PostcodePart => x -> x .== "G1").S1_seropositive),
        count(i -> (i > 0), subset(week33, :PostcodePart => x -> x .== "G2").S1_seropositive),
        count(i -> (i > 0), subset(week33, :PostcodePart => x -> x .== "G3").S1_seropositive),
        count(i -> (i > 0), subset(week33, :PostcodePart => x -> x .== "G4").S1_seropositive),
        count(i -> (i > 0), subset(week33, :PostcodePart => x -> x .== "G5").S1_seropositive),
        count(i -> (i > 0), subset(week33, :PostcodePart => x -> x .== "G11").S1_seropositive),
        count(i -> (i > 0), subset(week33, :PostcodePart => x -> x .== "G12").S1_seropositive),
        count(i -> (i > 0), subset(week33, :PostcodePart => x -> x .== "G13").S1_seropositive),
        count(i -> (i > 0), subset(week33, :PostcodePart => x -> x .== "G14").S1_seropositive),
        count(i -> (i > 0), subset(week33, :PostcodePart => x -> x .== "G15").S1_seropositive),
        count(i -> (i > 0), subset(week33, :PostcodePart => x -> x .== "G20").S1_seropositive),
        count(i -> (i > 0), subset(week33, :PostcodePart => x -> x .== "G21").S1_seropositive),
        count(i -> (i > 0), subset(week33, :PostcodePart => x -> x .== "G22").S1_seropositive),
        count(i -> (i > 0), subset(week33, :PostcodePart => x -> x .== "G23").S1_seropositive),
        count(i -> (i > 0), subset(week33, :PostcodePart => x -> x .== "G31").S1_seropositive),
        count(i -> (i > 0), subset(week33, :PostcodePart => x -> x .== "G32").S1_seropositive),
        count(i -> (i > 0), subset(week33, :PostcodePart => x -> x .== "G33").S1_seropositive),
        count(i -> (i > 0), subset(week33, :PostcodePart => x -> x .== "G34").S1_seropositive),
        count(i -> (i > 0), subset(week33, :PostcodePart => x -> x .== "G40").S1_seropositive),
        count(i -> (i > 0), subset(week33, :PostcodePart => x -> x .== "G41").S1_seropositive),
        count(i -> (i > 0), subset(week33, :PostcodePart => x -> x .== "G42").S1_seropositive),
        count(i -> (i > 0), subset(week33, :PostcodePart => x -> x .== "G43").S1_seropositive),
        count(i -> (i > 0), subset(week33, :PostcodePart => x -> x .== "G44").S1_seropositive),
        count(i -> (i > 0), subset(week33, :PostcodePart => x -> x .== "G45").S1_seropositive),
        count(i -> (i > 0), subset(week33, :PostcodePart => x -> x .== "G46").S1_seropositive),
        count(i -> (i > 0), subset(week33, :PostcodePart => x -> x .== "G51").S1_seropositive),
        count(i -> (i > 0), subset(week33, :PostcodePart => x -> x .== "G52").S1_seropositive),
        count(i -> (i > 0), subset(week33, :PostcodePart => x -> x .== "G53").S1_seropositive),
        count(i -> (i > 0), subset(week33, :PostcodePart => x -> x .== "G60").S1_seropositive),
        count(i -> (i > 0), subset(week33, :PostcodePart => x -> x .== "G61").S1_seropositive),
        count(i -> (i > 0), subset(week33, :PostcodePart => x -> x .== "G62").S1_seropositive),
        count(i -> (i > 0), subset(week33, :PostcodePart => x -> x .== "G63").S1_seropositive),
        count(i -> (i > 0), subset(week33, :PostcodePart => x -> x .== "G64").S1_seropositive),
        count(i -> (i > 0), subset(week33, :PostcodePart => x -> x .== "G65").S1_seropositive),
        count(i -> (i > 0), subset(week33, :PostcodePart => x -> x .== "G66").S1_seropositive),
        count(i -> (i > 0), subset(week33, :PostcodePart => x -> x .== "G67").S1_seropositive),
        count(i -> (i > 0), subset(week33, :PostcodePart => x -> x .== "G68").S1_seropositive),
        count(i -> (i > 0), subset(week33, :PostcodePart => x -> x .== "G71").S1_seropositive),
        count(i -> (i > 0), subset(week33, :PostcodePart => x -> x .== "G72").S1_seropositive),
        count(i -> (i > 0), subset(week33, :PostcodePart => x -> x .== "G73").S1_seropositive),
        count(i -> (i > 0), subset(week33, :PostcodePart => x -> x .== "G74").S1_seropositive),
        count(i -> (i > 0), subset(week33, :PostcodePart => x -> x .== "G75").S1_seropositive),
        count(i -> (i > 0), subset(week33, :PostcodePart => x -> x .== "G76").S1_seropositive),
        count(i -> (i > 0), subset(week33, :PostcodePart => x -> x .== "G77").S1_seropositive),
        count(i -> (i > 0), subset(week33, :PostcodePart => x -> x .== "G78").S1_seropositive),
        count(i -> (i > 0), subset(week33, :PostcodePart => x -> x .== "G81").S1_seropositive),
        count(i -> (i > 0), subset(week33, :PostcodePart => x -> x .== "G82").S1_seropositive),
        count(i -> (i > 0), subset(week33, :PostcodePart => x -> x .== "G83").S1_seropositive),
        count(i -> (i > 0), subset(week33, :PostcodePart => x -> x .== "G84").S1_seropositive)]
week34 = data |> @filter(_.DaysSince < (Date("2020-11-02") - firstdate)) |> DataFrame
S1_data._2020_10_02 = [
        count(i -> (i > 0), subset(week34, :PostcodePart => x -> x .== "G1").S1_seropositive),
        count(i -> (i > 0), subset(week34, :PostcodePart => x -> x .== "G2").S1_seropositive),
        count(i -> (i > 0), subset(week34, :PostcodePart => x -> x .== "G3").S1_seropositive),
        count(i -> (i > 0), subset(week34, :PostcodePart => x -> x .== "G4").S1_seropositive),
        count(i -> (i > 0), subset(week34, :PostcodePart => x -> x .== "G5").S1_seropositive),
        count(i -> (i > 0), subset(week34, :PostcodePart => x -> x .== "G11").S1_seropositive),
        count(i -> (i > 0), subset(week34, :PostcodePart => x -> x .== "G12").S1_seropositive),
        count(i -> (i > 0), subset(week34, :PostcodePart => x -> x .== "G13").S1_seropositive),
        count(i -> (i > 0), subset(week34, :PostcodePart => x -> x .== "G14").S1_seropositive),
        count(i -> (i > 0), subset(week34, :PostcodePart => x -> x .== "G15").S1_seropositive),
        count(i -> (i > 0), subset(week34, :PostcodePart => x -> x .== "G20").S1_seropositive),
        count(i -> (i > 0), subset(week34, :PostcodePart => x -> x .== "G21").S1_seropositive),
        count(i -> (i > 0), subset(week34, :PostcodePart => x -> x .== "G22").S1_seropositive),
        count(i -> (i > 0), subset(week34, :PostcodePart => x -> x .== "G23").S1_seropositive),
        count(i -> (i > 0), subset(week34, :PostcodePart => x -> x .== "G31").S1_seropositive),
        count(i -> (i > 0), subset(week34, :PostcodePart => x -> x .== "G32").S1_seropositive),
        count(i -> (i > 0), subset(week34, :PostcodePart => x -> x .== "G33").S1_seropositive),
        count(i -> (i > 0), subset(week34, :PostcodePart => x -> x .== "G34").S1_seropositive),
        count(i -> (i > 0), subset(week34, :PostcodePart => x -> x .== "G40").S1_seropositive),
        count(i -> (i > 0), subset(week34, :PostcodePart => x -> x .== "G41").S1_seropositive),
        count(i -> (i > 0), subset(week34, :PostcodePart => x -> x .== "G42").S1_seropositive),
        count(i -> (i > 0), subset(week34, :PostcodePart => x -> x .== "G43").S1_seropositive),
        count(i -> (i > 0), subset(week34, :PostcodePart => x -> x .== "G44").S1_seropositive),
        count(i -> (i > 0), subset(week34, :PostcodePart => x -> x .== "G45").S1_seropositive),
        count(i -> (i > 0), subset(week34, :PostcodePart => x -> x .== "G46").S1_seropositive),
        count(i -> (i > 0), subset(week34, :PostcodePart => x -> x .== "G51").S1_seropositive),
        count(i -> (i > 0), subset(week34, :PostcodePart => x -> x .== "G52").S1_seropositive),
        count(i -> (i > 0), subset(week34, :PostcodePart => x -> x .== "G53").S1_seropositive),
        count(i -> (i > 0), subset(week34, :PostcodePart => x -> x .== "G60").S1_seropositive),
        count(i -> (i > 0), subset(week34, :PostcodePart => x -> x .== "G61").S1_seropositive),
        count(i -> (i > 0), subset(week34, :PostcodePart => x -> x .== "G62").S1_seropositive),
        count(i -> (i > 0), subset(week34, :PostcodePart => x -> x .== "G63").S1_seropositive),
        count(i -> (i > 0), subset(week34, :PostcodePart => x -> x .== "G64").S1_seropositive),
        count(i -> (i > 0), subset(week34, :PostcodePart => x -> x .== "G65").S1_seropositive),
        count(i -> (i > 0), subset(week34, :PostcodePart => x -> x .== "G66").S1_seropositive),
        count(i -> (i > 0), subset(week34, :PostcodePart => x -> x .== "G67").S1_seropositive),
        count(i -> (i > 0), subset(week34, :PostcodePart => x -> x .== "G68").S1_seropositive),
        count(i -> (i > 0), subset(week34, :PostcodePart => x -> x .== "G71").S1_seropositive),
        count(i -> (i > 0), subset(week34, :PostcodePart => x -> x .== "G72").S1_seropositive),
        count(i -> (i > 0), subset(week34, :PostcodePart => x -> x .== "G73").S1_seropositive),
        count(i -> (i > 0), subset(week34, :PostcodePart => x -> x .== "G74").S1_seropositive),
        count(i -> (i > 0), subset(week34, :PostcodePart => x -> x .== "G75").S1_seropositive),
        count(i -> (i > 0), subset(week34, :PostcodePart => x -> x .== "G76").S1_seropositive),
        count(i -> (i > 0), subset(week34, :PostcodePart => x -> x .== "G77").S1_seropositive),
        count(i -> (i > 0), subset(week34, :PostcodePart => x -> x .== "G78").S1_seropositive),
        count(i -> (i > 0), subset(week34, :PostcodePart => x -> x .== "G81").S1_seropositive),
        count(i -> (i > 0), subset(week34, :PostcodePart => x -> x .== "G82").S1_seropositive),
        count(i -> (i > 0), subset(week34, :PostcodePart => x -> x .== "G83").S1_seropositive),
        count(i -> (i > 0), subset(week34, :PostcodePart => x -> x .== "G84").S1_seropositive)]
week35 = data |> @filter(_.DaysSince < (Date("2020-11-09") - firstdate)) |> DataFrame
S1_data._2020_11_09 = [
        count(i -> (i > 0), subset(week35, :PostcodePart => x -> x .== "G1").S1_seropositive),
        count(i -> (i > 0), subset(week35, :PostcodePart => x -> x .== "G2").S1_seropositive),
        count(i -> (i > 0), subset(week35, :PostcodePart => x -> x .== "G3").S1_seropositive),
        count(i -> (i > 0), subset(week35, :PostcodePart => x -> x .== "G4").S1_seropositive),
        count(i -> (i > 0), subset(week35, :PostcodePart => x -> x .== "G5").S1_seropositive),
        count(i -> (i > 0), subset(week35, :PostcodePart => x -> x .== "G11").S1_seropositive),
        count(i -> (i > 0), subset(week35, :PostcodePart => x -> x .== "G12").S1_seropositive),
        count(i -> (i > 0), subset(week35, :PostcodePart => x -> x .== "G13").S1_seropositive),
        count(i -> (i > 0), subset(week35, :PostcodePart => x -> x .== "G14").S1_seropositive),
        count(i -> (i > 0), subset(week35, :PostcodePart => x -> x .== "G15").S1_seropositive),
        count(i -> (i > 0), subset(week35, :PostcodePart => x -> x .== "G20").S1_seropositive),
        count(i -> (i > 0), subset(week35, :PostcodePart => x -> x .== "G21").S1_seropositive),
        count(i -> (i > 0), subset(week35, :PostcodePart => x -> x .== "G22").S1_seropositive),
        count(i -> (i > 0), subset(week35, :PostcodePart => x -> x .== "G23").S1_seropositive),
        count(i -> (i > 0), subset(week35, :PostcodePart => x -> x .== "G31").S1_seropositive),
        count(i -> (i > 0), subset(week35, :PostcodePart => x -> x .== "G32").S1_seropositive),
        count(i -> (i > 0), subset(week35, :PostcodePart => x -> x .== "G33").S1_seropositive),
        count(i -> (i > 0), subset(week35, :PostcodePart => x -> x .== "G34").S1_seropositive),
        count(i -> (i > 0), subset(week35, :PostcodePart => x -> x .== "G40").S1_seropositive),
        count(i -> (i > 0), subset(week35, :PostcodePart => x -> x .== "G41").S1_seropositive),
        count(i -> (i > 0), subset(week35, :PostcodePart => x -> x .== "G42").S1_seropositive),
        count(i -> (i > 0), subset(week35, :PostcodePart => x -> x .== "G43").S1_seropositive),
        count(i -> (i > 0), subset(week35, :PostcodePart => x -> x .== "G44").S1_seropositive),
        count(i -> (i > 0), subset(week35, :PostcodePart => x -> x .== "G45").S1_seropositive),
        count(i -> (i > 0), subset(week35, :PostcodePart => x -> x .== "G46").S1_seropositive),
        count(i -> (i > 0), subset(week35, :PostcodePart => x -> x .== "G51").S1_seropositive),
        count(i -> (i > 0), subset(week35, :PostcodePart => x -> x .== "G52").S1_seropositive),
        count(i -> (i > 0), subset(week35, :PostcodePart => x -> x .== "G53").S1_seropositive),
        count(i -> (i > 0), subset(week35, :PostcodePart => x -> x .== "G60").S1_seropositive),
        count(i -> (i > 0), subset(week35, :PostcodePart => x -> x .== "G61").S1_seropositive),
        count(i -> (i > 0), subset(week35, :PostcodePart => x -> x .== "G62").S1_seropositive),
        count(i -> (i > 0), subset(week35, :PostcodePart => x -> x .== "G63").S1_seropositive),
        count(i -> (i > 0), subset(week35, :PostcodePart => x -> x .== "G64").S1_seropositive),
        count(i -> (i > 0), subset(week35, :PostcodePart => x -> x .== "G65").S1_seropositive),
        count(i -> (i > 0), subset(week35, :PostcodePart => x -> x .== "G66").S1_seropositive),
        count(i -> (i > 0), subset(week35, :PostcodePart => x -> x .== "G67").S1_seropositive),
        count(i -> (i > 0), subset(week35, :PostcodePart => x -> x .== "G68").S1_seropositive),
        count(i -> (i > 0), subset(week35, :PostcodePart => x -> x .== "G71").S1_seropositive),
        count(i -> (i > 0), subset(week35, :PostcodePart => x -> x .== "G72").S1_seropositive),
        count(i -> (i > 0), subset(week35, :PostcodePart => x -> x .== "G73").S1_seropositive),
        count(i -> (i > 0), subset(week35, :PostcodePart => x -> x .== "G74").S1_seropositive),
        count(i -> (i > 0), subset(week35, :PostcodePart => x -> x .== "G75").S1_seropositive),
        count(i -> (i > 0), subset(week35, :PostcodePart => x -> x .== "G76").S1_seropositive),
        count(i -> (i > 0), subset(week35, :PostcodePart => x -> x .== "G77").S1_seropositive),
        count(i -> (i > 0), subset(week35, :PostcodePart => x -> x .== "G78").S1_seropositive),
        count(i -> (i > 0), subset(week35, :PostcodePart => x -> x .== "G81").S1_seropositive),
        count(i -> (i > 0), subset(week35, :PostcodePart => x -> x .== "G82").S1_seropositive),
        count(i -> (i > 0), subset(week35, :PostcodePart => x -> x .== "G83").S1_seropositive),
        count(i -> (i > 0), subset(week35, :PostcodePart => x -> x .== "G84").S1_seropositive)]
week36 = data |> @filter(_.DaysSince < (Date("2020-11-16") - firstdate)) |> DataFrame
S1_data._2020_11_16 = [
        count(i -> (i > 0), subset(week36, :PostcodePart => x -> x .== "G1").S1_seropositive),
        count(i -> (i > 0), subset(week36, :PostcodePart => x -> x .== "G2").S1_seropositive),
        count(i -> (i > 0), subset(week36, :PostcodePart => x -> x .== "G3").S1_seropositive),
        count(i -> (i > 0), subset(week36, :PostcodePart => x -> x .== "G4").S1_seropositive),
        count(i -> (i > 0), subset(week36, :PostcodePart => x -> x .== "G5").S1_seropositive),
        count(i -> (i > 0), subset(week36, :PostcodePart => x -> x .== "G11").S1_seropositive),
        count(i -> (i > 0), subset(week36, :PostcodePart => x -> x .== "G12").S1_seropositive),
        count(i -> (i > 0), subset(week36, :PostcodePart => x -> x .== "G13").S1_seropositive),
        count(i -> (i > 0), subset(week36, :PostcodePart => x -> x .== "G14").S1_seropositive),
        count(i -> (i > 0), subset(week36, :PostcodePart => x -> x .== "G15").S1_seropositive),
        count(i -> (i > 0), subset(week36, :PostcodePart => x -> x .== "G20").S1_seropositive),
        count(i -> (i > 0), subset(week36, :PostcodePart => x -> x .== "G21").S1_seropositive),
        count(i -> (i > 0), subset(week36, :PostcodePart => x -> x .== "G22").S1_seropositive),
        count(i -> (i > 0), subset(week36, :PostcodePart => x -> x .== "G23").S1_seropositive),
        count(i -> (i > 0), subset(week36, :PostcodePart => x -> x .== "G31").S1_seropositive),
        count(i -> (i > 0), subset(week36, :PostcodePart => x -> x .== "G32").S1_seropositive),
        count(i -> (i > 0), subset(week36, :PostcodePart => x -> x .== "G33").S1_seropositive),
        count(i -> (i > 0), subset(week36, :PostcodePart => x -> x .== "G34").S1_seropositive),
        count(i -> (i > 0), subset(week36, :PostcodePart => x -> x .== "G40").S1_seropositive),
        count(i -> (i > 0), subset(week36, :PostcodePart => x -> x .== "G41").S1_seropositive),
        count(i -> (i > 0), subset(week36, :PostcodePart => x -> x .== "G42").S1_seropositive),
        count(i -> (i > 0), subset(week36, :PostcodePart => x -> x .== "G43").S1_seropositive),
        count(i -> (i > 0), subset(week36, :PostcodePart => x -> x .== "G44").S1_seropositive),
        count(i -> (i > 0), subset(week36, :PostcodePart => x -> x .== "G45").S1_seropositive),
        count(i -> (i > 0), subset(week36, :PostcodePart => x -> x .== "G46").S1_seropositive),
        count(i -> (i > 0), subset(week36, :PostcodePart => x -> x .== "G51").S1_seropositive),
        count(i -> (i > 0), subset(week36, :PostcodePart => x -> x .== "G52").S1_seropositive),
        count(i -> (i > 0), subset(week36, :PostcodePart => x -> x .== "G53").S1_seropositive),
        count(i -> (i > 0), subset(week36, :PostcodePart => x -> x .== "G60").S1_seropositive),
        count(i -> (i > 0), subset(week36, :PostcodePart => x -> x .== "G61").S1_seropositive),
        count(i -> (i > 0), subset(week36, :PostcodePart => x -> x .== "G62").S1_seropositive),
        count(i -> (i > 0), subset(week36, :PostcodePart => x -> x .== "G63").S1_seropositive),
        count(i -> (i > 0), subset(week36, :PostcodePart => x -> x .== "G64").S1_seropositive),
        count(i -> (i > 0), subset(week36, :PostcodePart => x -> x .== "G65").S1_seropositive),
        count(i -> (i > 0), subset(week36, :PostcodePart => x -> x .== "G66").S1_seropositive),
        count(i -> (i > 0), subset(week36, :PostcodePart => x -> x .== "G67").S1_seropositive),
        count(i -> (i > 0), subset(week36, :PostcodePart => x -> x .== "G68").S1_seropositive),
        count(i -> (i > 0), subset(week36, :PostcodePart => x -> x .== "G71").S1_seropositive),
        count(i -> (i > 0), subset(week36, :PostcodePart => x -> x .== "G72").S1_seropositive),
        count(i -> (i > 0), subset(week36, :PostcodePart => x -> x .== "G73").S1_seropositive),
        count(i -> (i > 0), subset(week36, :PostcodePart => x -> x .== "G74").S1_seropositive),
        count(i -> (i > 0), subset(week36, :PostcodePart => x -> x .== "G75").S1_seropositive),
        count(i -> (i > 0), subset(week36, :PostcodePart => x -> x .== "G76").S1_seropositive),
        count(i -> (i > 0), subset(week36, :PostcodePart => x -> x .== "G77").S1_seropositive),
        count(i -> (i > 0), subset(week36, :PostcodePart => x -> x .== "G78").S1_seropositive),
        count(i -> (i > 0), subset(week36, :PostcodePart => x -> x .== "G81").S1_seropositive),
        count(i -> (i > 0), subset(week36, :PostcodePart => x -> x .== "G82").S1_seropositive),
        count(i -> (i > 0), subset(week36, :PostcodePart => x -> x .== "G83").S1_seropositive),
        count(i -> (i > 0), subset(week36, :PostcodePart => x -> x .== "G84").S1_seropositive)]
week37 = data |> @filter(_.DaysSince < (Date("2020-11-23") - firstdate)) |> DataFrame
S1_data._2020_11_23 = [
        count(i -> (i > 0), subset(week37, :PostcodePart => x -> x .== "G1").S1_seropositive),
        count(i -> (i > 0), subset(week37, :PostcodePart => x -> x .== "G2").S1_seropositive),
        count(i -> (i > 0), subset(week37, :PostcodePart => x -> x .== "G3").S1_seropositive),
        count(i -> (i > 0), subset(week37, :PostcodePart => x -> x .== "G4").S1_seropositive),
        count(i -> (i > 0), subset(week37, :PostcodePart => x -> x .== "G5").S1_seropositive),
        count(i -> (i > 0), subset(week37, :PostcodePart => x -> x .== "G11").S1_seropositive),
        count(i -> (i > 0), subset(week37, :PostcodePart => x -> x .== "G12").S1_seropositive),
        count(i -> (i > 0), subset(week37, :PostcodePart => x -> x .== "G13").S1_seropositive),
        count(i -> (i > 0), subset(week37, :PostcodePart => x -> x .== "G14").S1_seropositive),
        count(i -> (i > 0), subset(week37, :PostcodePart => x -> x .== "G15").S1_seropositive),
        count(i -> (i > 0), subset(week37, :PostcodePart => x -> x .== "G20").S1_seropositive),
        count(i -> (i > 0), subset(week37, :PostcodePart => x -> x .== "G21").S1_seropositive),
        count(i -> (i > 0), subset(week37, :PostcodePart => x -> x .== "G22").S1_seropositive),
        count(i -> (i > 0), subset(week37, :PostcodePart => x -> x .== "G23").S1_seropositive),
        count(i -> (i > 0), subset(week37, :PostcodePart => x -> x .== "G31").S1_seropositive),
        count(i -> (i > 0), subset(week37, :PostcodePart => x -> x .== "G32").S1_seropositive),
        count(i -> (i > 0), subset(week37, :PostcodePart => x -> x .== "G33").S1_seropositive),
        count(i -> (i > 0), subset(week37, :PostcodePart => x -> x .== "G34").S1_seropositive),
        count(i -> (i > 0), subset(week37, :PostcodePart => x -> x .== "G40").S1_seropositive),
        count(i -> (i > 0), subset(week37, :PostcodePart => x -> x .== "G41").S1_seropositive),
        count(i -> (i > 0), subset(week37, :PostcodePart => x -> x .== "G42").S1_seropositive),
        count(i -> (i > 0), subset(week37, :PostcodePart => x -> x .== "G43").S1_seropositive),
        count(i -> (i > 0), subset(week37, :PostcodePart => x -> x .== "G44").S1_seropositive),
        count(i -> (i > 0), subset(week37, :PostcodePart => x -> x .== "G45").S1_seropositive),
        count(i -> (i > 0), subset(week37, :PostcodePart => x -> x .== "G46").S1_seropositive),
        count(i -> (i > 0), subset(week37, :PostcodePart => x -> x .== "G51").S1_seropositive),
        count(i -> (i > 0), subset(week37, :PostcodePart => x -> x .== "G52").S1_seropositive),
        count(i -> (i > 0), subset(week37, :PostcodePart => x -> x .== "G53").S1_seropositive),
        count(i -> (i > 0), subset(week37, :PostcodePart => x -> x .== "G60").S1_seropositive),
        count(i -> (i > 0), subset(week37, :PostcodePart => x -> x .== "G61").S1_seropositive),
        count(i -> (i > 0), subset(week37, :PostcodePart => x -> x .== "G62").S1_seropositive),
        count(i -> (i > 0), subset(week37, :PostcodePart => x -> x .== "G63").S1_seropositive),
        count(i -> (i > 0), subset(week37, :PostcodePart => x -> x .== "G64").S1_seropositive),
        count(i -> (i > 0), subset(week37, :PostcodePart => x -> x .== "G65").S1_seropositive),
        count(i -> (i > 0), subset(week37, :PostcodePart => x -> x .== "G66").S1_seropositive),
        count(i -> (i > 0), subset(week37, :PostcodePart => x -> x .== "G67").S1_seropositive),
        count(i -> (i > 0), subset(week37, :PostcodePart => x -> x .== "G68").S1_seropositive),
        count(i -> (i > 0), subset(week37, :PostcodePart => x -> x .== "G71").S1_seropositive),
        count(i -> (i > 0), subset(week37, :PostcodePart => x -> x .== "G72").S1_seropositive),
        count(i -> (i > 0), subset(week37, :PostcodePart => x -> x .== "G73").S1_seropositive),
        count(i -> (i > 0), subset(week37, :PostcodePart => x -> x .== "G74").S1_seropositive),
        count(i -> (i > 0), subset(week37, :PostcodePart => x -> x .== "G75").S1_seropositive),
        count(i -> (i > 0), subset(week37, :PostcodePart => x -> x .== "G76").S1_seropositive),
        count(i -> (i > 0), subset(week37, :PostcodePart => x -> x .== "G77").S1_seropositive),
        count(i -> (i > 0), subset(week37, :PostcodePart => x -> x .== "G78").S1_seropositive),
        count(i -> (i > 0), subset(week37, :PostcodePart => x -> x .== "G81").S1_seropositive),
        count(i -> (i > 0), subset(week37, :PostcodePart => x -> x .== "G82").S1_seropositive),
        count(i -> (i > 0), subset(week37, :PostcodePart => x -> x .== "G83").S1_seropositive),
        count(i -> (i > 0), subset(week37, :PostcodePart => x -> x .== "G84").S1_seropositive)]
week38 = data |> @filter(_.DaysSince < (Date("2020-11-30") - firstdate)) |> DataFrame
S1_data._2020_11_30 = [
        count(i -> (i > 0), subset(week38, :PostcodePart => x -> x .== "G1").S1_seropositive),
        count(i -> (i > 0), subset(week38, :PostcodePart => x -> x .== "G2").S1_seropositive),
        count(i -> (i > 0), subset(week38, :PostcodePart => x -> x .== "G3").S1_seropositive),
        count(i -> (i > 0), subset(week38, :PostcodePart => x -> x .== "G4").S1_seropositive),
        count(i -> (i > 0), subset(week38, :PostcodePart => x -> x .== "G5").S1_seropositive),
        count(i -> (i > 0), subset(week38, :PostcodePart => x -> x .== "G11").S1_seropositive),
        count(i -> (i > 0), subset(week38, :PostcodePart => x -> x .== "G12").S1_seropositive),
        count(i -> (i > 0), subset(week38, :PostcodePart => x -> x .== "G13").S1_seropositive),
        count(i -> (i > 0), subset(week38, :PostcodePart => x -> x .== "G14").S1_seropositive),
        count(i -> (i > 0), subset(week38, :PostcodePart => x -> x .== "G15").S1_seropositive),
        count(i -> (i > 0), subset(week38, :PostcodePart => x -> x .== "G20").S1_seropositive),
        count(i -> (i > 0), subset(week38, :PostcodePart => x -> x .== "G21").S1_seropositive),
        count(i -> (i > 0), subset(week38, :PostcodePart => x -> x .== "G22").S1_seropositive),
        count(i -> (i > 0), subset(week38, :PostcodePart => x -> x .== "G23").S1_seropositive),
        count(i -> (i > 0), subset(week38, :PostcodePart => x -> x .== "G31").S1_seropositive),
        count(i -> (i > 0), subset(week38, :PostcodePart => x -> x .== "G32").S1_seropositive),
        count(i -> (i > 0), subset(week38, :PostcodePart => x -> x .== "G33").S1_seropositive),
        count(i -> (i > 0), subset(week38, :PostcodePart => x -> x .== "G34").S1_seropositive),
        count(i -> (i > 0), subset(week38, :PostcodePart => x -> x .== "G40").S1_seropositive),
        count(i -> (i > 0), subset(week38, :PostcodePart => x -> x .== "G41").S1_seropositive),
        count(i -> (i > 0), subset(week38, :PostcodePart => x -> x .== "G42").S1_seropositive),
        count(i -> (i > 0), subset(week38, :PostcodePart => x -> x .== "G43").S1_seropositive),
        count(i -> (i > 0), subset(week38, :PostcodePart => x -> x .== "G44").S1_seropositive),
        count(i -> (i > 0), subset(week38, :PostcodePart => x -> x .== "G45").S1_seropositive),
        count(i -> (i > 0), subset(week38, :PostcodePart => x -> x .== "G46").S1_seropositive),
        count(i -> (i > 0), subset(week38, :PostcodePart => x -> x .== "G51").S1_seropositive),
        count(i -> (i > 0), subset(week38, :PostcodePart => x -> x .== "G52").S1_seropositive),
        count(i -> (i > 0), subset(week38, :PostcodePart => x -> x .== "G53").S1_seropositive),
        count(i -> (i > 0), subset(week38, :PostcodePart => x -> x .== "G60").S1_seropositive),
        count(i -> (i > 0), subset(week38, :PostcodePart => x -> x .== "G61").S1_seropositive),
        count(i -> (i > 0), subset(week38, :PostcodePart => x -> x .== "G62").S1_seropositive),
        count(i -> (i > 0), subset(week38, :PostcodePart => x -> x .== "G63").S1_seropositive),
        count(i -> (i > 0), subset(week38, :PostcodePart => x -> x .== "G64").S1_seropositive),
        count(i -> (i > 0), subset(week38, :PostcodePart => x -> x .== "G65").S1_seropositive),
        count(i -> (i > 0), subset(week38, :PostcodePart => x -> x .== "G66").S1_seropositive),
        count(i -> (i > 0), subset(week38, :PostcodePart => x -> x .== "G67").S1_seropositive),
        count(i -> (i > 0), subset(week38, :PostcodePart => x -> x .== "G68").S1_seropositive),
        count(i -> (i > 0), subset(week38, :PostcodePart => x -> x .== "G71").S1_seropositive),
        count(i -> (i > 0), subset(week38, :PostcodePart => x -> x .== "G72").S1_seropositive),
        count(i -> (i > 0), subset(week38, :PostcodePart => x -> x .== "G73").S1_seropositive),
        count(i -> (i > 0), subset(week38, :PostcodePart => x -> x .== "G74").S1_seropositive),
        count(i -> (i > 0), subset(week38, :PostcodePart => x -> x .== "G75").S1_seropositive),
        count(i -> (i > 0), subset(week38, :PostcodePart => x -> x .== "G76").S1_seropositive),
        count(i -> (i > 0), subset(week38, :PostcodePart => x -> x .== "G77").S1_seropositive),
        count(i -> (i > 0), subset(week38, :PostcodePart => x -> x .== "G78").S1_seropositive),
        count(i -> (i > 0), subset(week38, :PostcodePart => x -> x .== "G81").S1_seropositive),
        count(i -> (i > 0), subset(week38, :PostcodePart => x -> x .== "G82").S1_seropositive),
        count(i -> (i > 0), subset(week38, :PostcodePart => x -> x .== "G83").S1_seropositive),
        count(i -> (i > 0), subset(week38, :PostcodePart => x -> x .== "G84").S1_seropositive)]
week39 = data |> @filter(_.DaysSince < (Date("2020-12-07") - firstdate)) |> DataFrame
S1_data._2020_12_07 = [
        count(i -> (i > 0), subset(week39, :PostcodePart => x -> x .== "G1").S1_seropositive),
        count(i -> (i > 0), subset(week39, :PostcodePart => x -> x .== "G2").S1_seropositive),
        count(i -> (i > 0), subset(week39, :PostcodePart => x -> x .== "G3").S1_seropositive),
        count(i -> (i > 0), subset(week39, :PostcodePart => x -> x .== "G4").S1_seropositive),
        count(i -> (i > 0), subset(week39, :PostcodePart => x -> x .== "G5").S1_seropositive),
        count(i -> (i > 0), subset(week39, :PostcodePart => x -> x .== "G11").S1_seropositive),
        count(i -> (i > 0), subset(week39, :PostcodePart => x -> x .== "G12").S1_seropositive),
        count(i -> (i > 0), subset(week39, :PostcodePart => x -> x .== "G13").S1_seropositive),
        count(i -> (i > 0), subset(week39, :PostcodePart => x -> x .== "G14").S1_seropositive),
        count(i -> (i > 0), subset(week39, :PostcodePart => x -> x .== "G15").S1_seropositive),
        count(i -> (i > 0), subset(week39, :PostcodePart => x -> x .== "G20").S1_seropositive),
        count(i -> (i > 0), subset(week39, :PostcodePart => x -> x .== "G21").S1_seropositive),
        count(i -> (i > 0), subset(week39, :PostcodePart => x -> x .== "G22").S1_seropositive),
        count(i -> (i > 0), subset(week39, :PostcodePart => x -> x .== "G23").S1_seropositive),
        count(i -> (i > 0), subset(week39, :PostcodePart => x -> x .== "G31").S1_seropositive),
        count(i -> (i > 0), subset(week39, :PostcodePart => x -> x .== "G32").S1_seropositive),
        count(i -> (i > 0), subset(week39, :PostcodePart => x -> x .== "G33").S1_seropositive),
        count(i -> (i > 0), subset(week39, :PostcodePart => x -> x .== "G34").S1_seropositive),
        count(i -> (i > 0), subset(week39, :PostcodePart => x -> x .== "G40").S1_seropositive),
        count(i -> (i > 0), subset(week39, :PostcodePart => x -> x .== "G41").S1_seropositive),
        count(i -> (i > 0), subset(week39, :PostcodePart => x -> x .== "G42").S1_seropositive),
        count(i -> (i > 0), subset(week39, :PostcodePart => x -> x .== "G43").S1_seropositive),
        count(i -> (i > 0), subset(week39, :PostcodePart => x -> x .== "G44").S1_seropositive),
        count(i -> (i > 0), subset(week39, :PostcodePart => x -> x .== "G45").S1_seropositive),
        count(i -> (i > 0), subset(week39, :PostcodePart => x -> x .== "G46").S1_seropositive),
        count(i -> (i > 0), subset(week39, :PostcodePart => x -> x .== "G51").S1_seropositive),
        count(i -> (i > 0), subset(week39, :PostcodePart => x -> x .== "G52").S1_seropositive),
        count(i -> (i > 0), subset(week39, :PostcodePart => x -> x .== "G53").S1_seropositive),
        count(i -> (i > 0), subset(week39, :PostcodePart => x -> x .== "G60").S1_seropositive),
        count(i -> (i > 0), subset(week39, :PostcodePart => x -> x .== "G61").S1_seropositive),
        count(i -> (i > 0), subset(week39, :PostcodePart => x -> x .== "G62").S1_seropositive),
        count(i -> (i > 0), subset(week39, :PostcodePart => x -> x .== "G63").S1_seropositive),
        count(i -> (i > 0), subset(week39, :PostcodePart => x -> x .== "G64").S1_seropositive),
        count(i -> (i > 0), subset(week39, :PostcodePart => x -> x .== "G65").S1_seropositive),
        count(i -> (i > 0), subset(week39, :PostcodePart => x -> x .== "G66").S1_seropositive),
        count(i -> (i > 0), subset(week39, :PostcodePart => x -> x .== "G67").S1_seropositive),
        count(i -> (i > 0), subset(week39, :PostcodePart => x -> x .== "G68").S1_seropositive),
        count(i -> (i > 0), subset(week39, :PostcodePart => x -> x .== "G71").S1_seropositive),
        count(i -> (i > 0), subset(week39, :PostcodePart => x -> x .== "G72").S1_seropositive),
        count(i -> (i > 0), subset(week39, :PostcodePart => x -> x .== "G73").S1_seropositive),
        count(i -> (i > 0), subset(week39, :PostcodePart => x -> x .== "G74").S1_seropositive),
        count(i -> (i > 0), subset(week39, :PostcodePart => x -> x .== "G75").S1_seropositive),
        count(i -> (i > 0), subset(week39, :PostcodePart => x -> x .== "G76").S1_seropositive),
        count(i -> (i > 0), subset(week39, :PostcodePart => x -> x .== "G77").S1_seropositive),
        count(i -> (i > 0), subset(week39, :PostcodePart => x -> x .== "G78").S1_seropositive),
        count(i -> (i > 0), subset(week39, :PostcodePart => x -> x .== "G81").S1_seropositive),
        count(i -> (i > 0), subset(week39, :PostcodePart => x -> x .== "G82").S1_seropositive),
        count(i -> (i > 0), subset(week39, :PostcodePart => x -> x .== "G83").S1_seropositive),
        count(i -> (i > 0), subset(week39, :PostcodePart => x -> x .== "G84").S1_seropositive)]
week40 = data |> @filter(_.DaysSince < (Date("2020-12-07") - firstdate)) |> DataFrame
S1_data._2020_12_07 = [
        count(i -> (i > 0), subset(week40, :PostcodePart => x -> x .== "G1").S1_seropositive),
        count(i -> (i > 0), subset(week40, :PostcodePart => x -> x .== "G2").S1_seropositive),
        count(i -> (i > 0), subset(week40, :PostcodePart => x -> x .== "G3").S1_seropositive),
        count(i -> (i > 0), subset(week40, :PostcodePart => x -> x .== "G4").S1_seropositive),
        count(i -> (i > 0), subset(week40, :PostcodePart => x -> x .== "G5").S1_seropositive),
        count(i -> (i > 0), subset(week40, :PostcodePart => x -> x .== "G11").S1_seropositive),
        count(i -> (i > 0), subset(week40, :PostcodePart => x -> x .== "G12").S1_seropositive),
        count(i -> (i > 0), subset(week40, :PostcodePart => x -> x .== "G13").S1_seropositive),
        count(i -> (i > 0), subset(week40, :PostcodePart => x -> x .== "G14").S1_seropositive),
        count(i -> (i > 0), subset(week40, :PostcodePart => x -> x .== "G15").S1_seropositive),
        count(i -> (i > 0), subset(week40, :PostcodePart => x -> x .== "G20").S1_seropositive),
        count(i -> (i > 0), subset(week40, :PostcodePart => x -> x .== "G21").S1_seropositive),
        count(i -> (i > 0), subset(week40, :PostcodePart => x -> x .== "G22").S1_seropositive),
        count(i -> (i > 0), subset(week40, :PostcodePart => x -> x .== "G23").S1_seropositive),
        count(i -> (i > 0), subset(week40, :PostcodePart => x -> x .== "G31").S1_seropositive),
        count(i -> (i > 0), subset(week40, :PostcodePart => x -> x .== "G32").S1_seropositive),
        count(i -> (i > 0), subset(week40, :PostcodePart => x -> x .== "G33").S1_seropositive),
        count(i -> (i > 0), subset(week40, :PostcodePart => x -> x .== "G34").S1_seropositive),
        count(i -> (i > 0), subset(week40, :PostcodePart => x -> x .== "G40").S1_seropositive),
        count(i -> (i > 0), subset(week40, :PostcodePart => x -> x .== "G41").S1_seropositive),
        count(i -> (i > 0), subset(week40, :PostcodePart => x -> x .== "G42").S1_seropositive),
        count(i -> (i > 0), subset(week40, :PostcodePart => x -> x .== "G43").S1_seropositive),
        count(i -> (i > 0), subset(week40, :PostcodePart => x -> x .== "G44").S1_seropositive),
        count(i -> (i > 0), subset(week40, :PostcodePart => x -> x .== "G45").S1_seropositive),
        count(i -> (i > 0), subset(week40, :PostcodePart => x -> x .== "G46").S1_seropositive),
        count(i -> (i > 0), subset(week40, :PostcodePart => x -> x .== "G51").S1_seropositive),
        count(i -> (i > 0), subset(week40, :PostcodePart => x -> x .== "G52").S1_seropositive),
        count(i -> (i > 0), subset(week40, :PostcodePart => x -> x .== "G53").S1_seropositive),
        count(i -> (i > 0), subset(week40, :PostcodePart => x -> x .== "G60").S1_seropositive),
        count(i -> (i > 0), subset(week40, :PostcodePart => x -> x .== "G61").S1_seropositive),
        count(i -> (i > 0), subset(week40, :PostcodePart => x -> x .== "G62").S1_seropositive),
        count(i -> (i > 0), subset(week40, :PostcodePart => x -> x .== "G63").S1_seropositive),
        count(i -> (i > 0), subset(week40, :PostcodePart => x -> x .== "G64").S1_seropositive),
        count(i -> (i > 0), subset(week40, :PostcodePart => x -> x .== "G65").S1_seropositive),
        count(i -> (i > 0), subset(week40, :PostcodePart => x -> x .== "G66").S1_seropositive),
        count(i -> (i > 0), subset(week40, :PostcodePart => x -> x .== "G67").S1_seropositive),
        count(i -> (i > 0), subset(week40, :PostcodePart => x -> x .== "G68").S1_seropositive),
        count(i -> (i > 0), subset(week40, :PostcodePart => x -> x .== "G71").S1_seropositive),
        count(i -> (i > 0), subset(week40, :PostcodePart => x -> x .== "G72").S1_seropositive),
        count(i -> (i > 0), subset(week40, :PostcodePart => x -> x .== "G73").S1_seropositive),
        count(i -> (i > 0), subset(week40, :PostcodePart => x -> x .== "G74").S1_seropositive),
        count(i -> (i > 0), subset(week40, :PostcodePart => x -> x .== "G75").S1_seropositive),
        count(i -> (i > 0), subset(week40, :PostcodePart => x -> x .== "G76").S1_seropositive),
        count(i -> (i > 0), subset(week40, :PostcodePart => x -> x .== "G77").S1_seropositive),
        count(i -> (i > 0), subset(week40, :PostcodePart => x -> x .== "G78").S1_seropositive),
        count(i -> (i > 0), subset(week40, :PostcodePart => x -> x .== "G81").S1_seropositive),
        count(i -> (i > 0), subset(week40, :PostcodePart => x -> x .== "G82").S1_seropositive),
        count(i -> (i > 0), subset(week40, :PostcodePart => x -> x .== "G83").S1_seropositive),
        count(i -> (i > 0), subset(week40, :PostcodePart => x -> x .== "G84").S1_seropositive)]
week41 = data |> @filter(_.DaysSince < (Date("2020-12-14") - firstdate)) |> DataFrame
S1_data._2020_12_14 = [
        count(i -> (i > 0), subset(week41, :PostcodePart => x -> x .== "G1").S1_seropositive),
        count(i -> (i > 0), subset(week41, :PostcodePart => x -> x .== "G2").S1_seropositive),
        count(i -> (i > 0), subset(week41, :PostcodePart => x -> x .== "G3").S1_seropositive),
        count(i -> (i > 0), subset(week41, :PostcodePart => x -> x .== "G4").S1_seropositive),
        count(i -> (i > 0), subset(week41, :PostcodePart => x -> x .== "G5").S1_seropositive),
        count(i -> (i > 0), subset(week41, :PostcodePart => x -> x .== "G11").S1_seropositive),
        count(i -> (i > 0), subset(week41, :PostcodePart => x -> x .== "G12").S1_seropositive),
        count(i -> (i > 0), subset(week41, :PostcodePart => x -> x .== "G13").S1_seropositive),
        count(i -> (i > 0), subset(week41, :PostcodePart => x -> x .== "G14").S1_seropositive),
        count(i -> (i > 0), subset(week41, :PostcodePart => x -> x .== "G15").S1_seropositive),
        count(i -> (i > 0), subset(week41, :PostcodePart => x -> x .== "G20").S1_seropositive),
        count(i -> (i > 0), subset(week41, :PostcodePart => x -> x .== "G21").S1_seropositive),
        count(i -> (i > 0), subset(week41, :PostcodePart => x -> x .== "G22").S1_seropositive),
        count(i -> (i > 0), subset(week41, :PostcodePart => x -> x .== "G23").S1_seropositive),
        count(i -> (i > 0), subset(week41, :PostcodePart => x -> x .== "G31").S1_seropositive),
        count(i -> (i > 0), subset(week41, :PostcodePart => x -> x .== "G32").S1_seropositive),
        count(i -> (i > 0), subset(week41, :PostcodePart => x -> x .== "G33").S1_seropositive),
        count(i -> (i > 0), subset(week41, :PostcodePart => x -> x .== "G34").S1_seropositive),
        count(i -> (i > 0), subset(week41, :PostcodePart => x -> x .== "G40").S1_seropositive),
        count(i -> (i > 0), subset(week41, :PostcodePart => x -> x .== "G41").S1_seropositive),
        count(i -> (i > 0), subset(week41, :PostcodePart => x -> x .== "G42").S1_seropositive),
        count(i -> (i > 0), subset(week41, :PostcodePart => x -> x .== "G43").S1_seropositive),
        count(i -> (i > 0), subset(week41, :PostcodePart => x -> x .== "G44").S1_seropositive),
        count(i -> (i > 0), subset(week41, :PostcodePart => x -> x .== "G45").S1_seropositive),
        count(i -> (i > 0), subset(week41, :PostcodePart => x -> x .== "G46").S1_seropositive),
        count(i -> (i > 0), subset(week41, :PostcodePart => x -> x .== "G51").S1_seropositive),
        count(i -> (i > 0), subset(week41, :PostcodePart => x -> x .== "G52").S1_seropositive),
        count(i -> (i > 0), subset(week41, :PostcodePart => x -> x .== "G53").S1_seropositive),
        count(i -> (i > 0), subset(week41, :PostcodePart => x -> x .== "G60").S1_seropositive),
        count(i -> (i > 0), subset(week41, :PostcodePart => x -> x .== "G61").S1_seropositive),
        count(i -> (i > 0), subset(week41, :PostcodePart => x -> x .== "G62").S1_seropositive),
        count(i -> (i > 0), subset(week41, :PostcodePart => x -> x .== "G63").S1_seropositive),
        count(i -> (i > 0), subset(week41, :PostcodePart => x -> x .== "G64").S1_seropositive),
        count(i -> (i > 0), subset(week41, :PostcodePart => x -> x .== "G65").S1_seropositive),
        count(i -> (i > 0), subset(week41, :PostcodePart => x -> x .== "G66").S1_seropositive),
        count(i -> (i > 0), subset(week41, :PostcodePart => x -> x .== "G67").S1_seropositive),
        count(i -> (i > 0), subset(week41, :PostcodePart => x -> x .== "G68").S1_seropositive),
        count(i -> (i > 0), subset(week41, :PostcodePart => x -> x .== "G71").S1_seropositive),
        count(i -> (i > 0), subset(week41, :PostcodePart => x -> x .== "G72").S1_seropositive),
        count(i -> (i > 0), subset(week41, :PostcodePart => x -> x .== "G73").S1_seropositive),
        count(i -> (i > 0), subset(week41, :PostcodePart => x -> x .== "G74").S1_seropositive),
        count(i -> (i > 0), subset(week41, :PostcodePart => x -> x .== "G75").S1_seropositive),
        count(i -> (i > 0), subset(week41, :PostcodePart => x -> x .== "G76").S1_seropositive),
        count(i -> (i > 0), subset(week41, :PostcodePart => x -> x .== "G77").S1_seropositive),
        count(i -> (i > 0), subset(week41, :PostcodePart => x -> x .== "G78").S1_seropositive),
        count(i -> (i > 0), subset(week41, :PostcodePart => x -> x .== "G81").S1_seropositive),
        count(i -> (i > 0), subset(week41, :PostcodePart => x -> x .== "G82").S1_seropositive),
        count(i -> (i > 0), subset(week41, :PostcodePart => x -> x .== "G83").S1_seropositive),
        count(i -> (i > 0), subset(week41, :PostcodePart => x -> x .== "G84").S1_seropositive)]
week42 = data |> @filter(_.DaysSince < (Date("2020-12-21") - firstdate)) |> DataFrame
S1_data._2020_12_21 = [
        count(i -> (i > 0), subset(week42, :PostcodePart => x -> x .== "G1").S1_seropositive),
        count(i -> (i > 0), subset(week42, :PostcodePart => x -> x .== "G2").S1_seropositive),
        count(i -> (i > 0), subset(week42, :PostcodePart => x -> x .== "G3").S1_seropositive),
        count(i -> (i > 0), subset(week42, :PostcodePart => x -> x .== "G4").S1_seropositive),
        count(i -> (i > 0), subset(week42, :PostcodePart => x -> x .== "G5").S1_seropositive),
        count(i -> (i > 0), subset(week42, :PostcodePart => x -> x .== "G11").S1_seropositive),
        count(i -> (i > 0), subset(week42, :PostcodePart => x -> x .== "G12").S1_seropositive),
        count(i -> (i > 0), subset(week42, :PostcodePart => x -> x .== "G13").S1_seropositive),
        count(i -> (i > 0), subset(week42, :PostcodePart => x -> x .== "G14").S1_seropositive),
        count(i -> (i > 0), subset(week42, :PostcodePart => x -> x .== "G15").S1_seropositive),
        count(i -> (i > 0), subset(week42, :PostcodePart => x -> x .== "G20").S1_seropositive),
        count(i -> (i > 0), subset(week42, :PostcodePart => x -> x .== "G21").S1_seropositive),
        count(i -> (i > 0), subset(week42, :PostcodePart => x -> x .== "G22").S1_seropositive),
        count(i -> (i > 0), subset(week42, :PostcodePart => x -> x .== "G23").S1_seropositive),
        count(i -> (i > 0), subset(week42, :PostcodePart => x -> x .== "G31").S1_seropositive),
        count(i -> (i > 0), subset(week42, :PostcodePart => x -> x .== "G32").S1_seropositive),
        count(i -> (i > 0), subset(week42, :PostcodePart => x -> x .== "G33").S1_seropositive),
        count(i -> (i > 0), subset(week42, :PostcodePart => x -> x .== "G34").S1_seropositive),
        count(i -> (i > 0), subset(week42, :PostcodePart => x -> x .== "G40").S1_seropositive),
        count(i -> (i > 0), subset(week42, :PostcodePart => x -> x .== "G41").S1_seropositive),
        count(i -> (i > 0), subset(week42, :PostcodePart => x -> x .== "G42").S1_seropositive),
        count(i -> (i > 0), subset(week42, :PostcodePart => x -> x .== "G43").S1_seropositive),
        count(i -> (i > 0), subset(week42, :PostcodePart => x -> x .== "G44").S1_seropositive),
        count(i -> (i > 0), subset(week42, :PostcodePart => x -> x .== "G45").S1_seropositive),
        count(i -> (i > 0), subset(week42, :PostcodePart => x -> x .== "G46").S1_seropositive),
        count(i -> (i > 0), subset(week42, :PostcodePart => x -> x .== "G51").S1_seropositive),
        count(i -> (i > 0), subset(week42, :PostcodePart => x -> x .== "G52").S1_seropositive),
        count(i -> (i > 0), subset(week42, :PostcodePart => x -> x .== "G53").S1_seropositive),
        count(i -> (i > 0), subset(week42, :PostcodePart => x -> x .== "G60").S1_seropositive),
        count(i -> (i > 0), subset(week42, :PostcodePart => x -> x .== "G61").S1_seropositive),
        count(i -> (i > 0), subset(week42, :PostcodePart => x -> x .== "G62").S1_seropositive),
        count(i -> (i > 0), subset(week42, :PostcodePart => x -> x .== "G63").S1_seropositive),
        count(i -> (i > 0), subset(week42, :PostcodePart => x -> x .== "G64").S1_seropositive),
        count(i -> (i > 0), subset(week42, :PostcodePart => x -> x .== "G65").S1_seropositive),
        count(i -> (i > 0), subset(week42, :PostcodePart => x -> x .== "G66").S1_seropositive),
        count(i -> (i > 0), subset(week42, :PostcodePart => x -> x .== "G67").S1_seropositive),
        count(i -> (i > 0), subset(week42, :PostcodePart => x -> x .== "G68").S1_seropositive),
        count(i -> (i > 0), subset(week42, :PostcodePart => x -> x .== "G71").S1_seropositive),
        count(i -> (i > 0), subset(week42, :PostcodePart => x -> x .== "G72").S1_seropositive),
        count(i -> (i > 0), subset(week42, :PostcodePart => x -> x .== "G73").S1_seropositive),
        count(i -> (i > 0), subset(week42, :PostcodePart => x -> x .== "G74").S1_seropositive),
        count(i -> (i > 0), subset(week42, :PostcodePart => x -> x .== "G75").S1_seropositive),
        count(i -> (i > 0), subset(week42, :PostcodePart => x -> x .== "G76").S1_seropositive),
        count(i -> (i > 0), subset(week42, :PostcodePart => x -> x .== "G77").S1_seropositive),
        count(i -> (i > 0), subset(week42, :PostcodePart => x -> x .== "G78").S1_seropositive),
        count(i -> (i > 0), subset(week42, :PostcodePart => x -> x .== "G81").S1_seropositive),
        count(i -> (i > 0), subset(week42, :PostcodePart => x -> x .== "G82").S1_seropositive),
        count(i -> (i > 0), subset(week42, :PostcodePart => x -> x .== "G83").S1_seropositive),
        count(i -> (i > 0), subset(week42, :PostcodePart => x -> x .== "G84").S1_seropositive)]
week43 = data |> @filter(_.DaysSince < (Date("2020-12-28") - firstdate)) |> DataFrame
S1_data._2020_12_28 = [
        count(i -> (i > 0), subset(week43, :PostcodePart => x -> x .== "G1").S1_seropositive),
        count(i -> (i > 0), subset(week43, :PostcodePart => x -> x .== "G2").S1_seropositive),
        count(i -> (i > 0), subset(week43, :PostcodePart => x -> x .== "G3").S1_seropositive),
        count(i -> (i > 0), subset(week43, :PostcodePart => x -> x .== "G4").S1_seropositive),
        count(i -> (i > 0), subset(week43, :PostcodePart => x -> x .== "G5").S1_seropositive),
        count(i -> (i > 0), subset(week43, :PostcodePart => x -> x .== "G11").S1_seropositive),
        count(i -> (i > 0), subset(week43, :PostcodePart => x -> x .== "G12").S1_seropositive),
        count(i -> (i > 0), subset(week43, :PostcodePart => x -> x .== "G13").S1_seropositive),
        count(i -> (i > 0), subset(week43, :PostcodePart => x -> x .== "G14").S1_seropositive),
        count(i -> (i > 0), subset(week43, :PostcodePart => x -> x .== "G15").S1_seropositive),
        count(i -> (i > 0), subset(week43, :PostcodePart => x -> x .== "G20").S1_seropositive),
        count(i -> (i > 0), subset(week43, :PostcodePart => x -> x .== "G21").S1_seropositive),
        count(i -> (i > 0), subset(week43, :PostcodePart => x -> x .== "G22").S1_seropositive),
        count(i -> (i > 0), subset(week43, :PostcodePart => x -> x .== "G23").S1_seropositive),
        count(i -> (i > 0), subset(week43, :PostcodePart => x -> x .== "G31").S1_seropositive),
        count(i -> (i > 0), subset(week43, :PostcodePart => x -> x .== "G32").S1_seropositive),
        count(i -> (i > 0), subset(week43, :PostcodePart => x -> x .== "G33").S1_seropositive),
        count(i -> (i > 0), subset(week43, :PostcodePart => x -> x .== "G34").S1_seropositive),
        count(i -> (i > 0), subset(week43, :PostcodePart => x -> x .== "G40").S1_seropositive),
        count(i -> (i > 0), subset(week43, :PostcodePart => x -> x .== "G41").S1_seropositive),
        count(i -> (i > 0), subset(week43, :PostcodePart => x -> x .== "G42").S1_seropositive),
        count(i -> (i > 0), subset(week43, :PostcodePart => x -> x .== "G43").S1_seropositive),
        count(i -> (i > 0), subset(week43, :PostcodePart => x -> x .== "G44").S1_seropositive),
        count(i -> (i > 0), subset(week43, :PostcodePart => x -> x .== "G45").S1_seropositive),
        count(i -> (i > 0), subset(week43, :PostcodePart => x -> x .== "G46").S1_seropositive),
        count(i -> (i > 0), subset(week43, :PostcodePart => x -> x .== "G51").S1_seropositive),
        count(i -> (i > 0), subset(week43, :PostcodePart => x -> x .== "G52").S1_seropositive),
        count(i -> (i > 0), subset(week43, :PostcodePart => x -> x .== "G53").S1_seropositive),
        count(i -> (i > 0), subset(week43, :PostcodePart => x -> x .== "G60").S1_seropositive),
        count(i -> (i > 0), subset(week43, :PostcodePart => x -> x .== "G61").S1_seropositive),
        count(i -> (i > 0), subset(week43, :PostcodePart => x -> x .== "G62").S1_seropositive),
        count(i -> (i > 0), subset(week43, :PostcodePart => x -> x .== "G63").S1_seropositive),
        count(i -> (i > 0), subset(week43, :PostcodePart => x -> x .== "G64").S1_seropositive),
        count(i -> (i > 0), subset(week43, :PostcodePart => x -> x .== "G65").S1_seropositive),
        count(i -> (i > 0), subset(week43, :PostcodePart => x -> x .== "G66").S1_seropositive),
        count(i -> (i > 0), subset(week43, :PostcodePart => x -> x .== "G67").S1_seropositive),
        count(i -> (i > 0), subset(week43, :PostcodePart => x -> x .== "G68").S1_seropositive),
        count(i -> (i > 0), subset(week43, :PostcodePart => x -> x .== "G71").S1_seropositive),
        count(i -> (i > 0), subset(week43, :PostcodePart => x -> x .== "G72").S1_seropositive),
        count(i -> (i > 0), subset(week43, :PostcodePart => x -> x .== "G73").S1_seropositive),
        count(i -> (i > 0), subset(week43, :PostcodePart => x -> x .== "G74").S1_seropositive),
        count(i -> (i > 0), subset(week43, :PostcodePart => x -> x .== "G75").S1_seropositive),
        count(i -> (i > 0), subset(week43, :PostcodePart => x -> x .== "G76").S1_seropositive),
        count(i -> (i > 0), subset(week43, :PostcodePart => x -> x .== "G77").S1_seropositive),
        count(i -> (i > 0), subset(week43, :PostcodePart => x -> x .== "G78").S1_seropositive),
        count(i -> (i > 0), subset(week43, :PostcodePart => x -> x .== "G81").S1_seropositive),
        count(i -> (i > 0), subset(week43, :PostcodePart => x -> x .== "G82").S1_seropositive),
        count(i -> (i > 0), subset(week43, :PostcodePart => x -> x .== "G83").S1_seropositive),
        count(i -> (i > 0), subset(week43, :PostcodePart => x -> x .== "G84").S1_seropositive)]
week44 = data |> @filter(_.DaysSince < (Date("2021-01-04") - firstdate)) |> DataFrame
S1_data._2021_01_04 = [
        count(i -> (i > 0), subset(week44, :PostcodePart => x -> x .== "G1").S1_seropositive),
        count(i -> (i > 0), subset(week44, :PostcodePart => x -> x .== "G2").S1_seropositive),
        count(i -> (i > 0), subset(week44, :PostcodePart => x -> x .== "G3").S1_seropositive),
        count(i -> (i > 0), subset(week44, :PostcodePart => x -> x .== "G4").S1_seropositive),
        count(i -> (i > 0), subset(week44, :PostcodePart => x -> x .== "G5").S1_seropositive),
        count(i -> (i > 0), subset(week44, :PostcodePart => x -> x .== "G11").S1_seropositive),
        count(i -> (i > 0), subset(week44, :PostcodePart => x -> x .== "G12").S1_seropositive),
        count(i -> (i > 0), subset(week44, :PostcodePart => x -> x .== "G13").S1_seropositive),
        count(i -> (i > 0), subset(week44, :PostcodePart => x -> x .== "G14").S1_seropositive),
        count(i -> (i > 0), subset(week44, :PostcodePart => x -> x .== "G15").S1_seropositive),
        count(i -> (i > 0), subset(week44, :PostcodePart => x -> x .== "G20").S1_seropositive),
        count(i -> (i > 0), subset(week44, :PostcodePart => x -> x .== "G21").S1_seropositive),
        count(i -> (i > 0), subset(week44, :PostcodePart => x -> x .== "G22").S1_seropositive),
        count(i -> (i > 0), subset(week44, :PostcodePart => x -> x .== "G23").S1_seropositive),
        count(i -> (i > 0), subset(week44, :PostcodePart => x -> x .== "G31").S1_seropositive),
        count(i -> (i > 0), subset(week44, :PostcodePart => x -> x .== "G32").S1_seropositive),
        count(i -> (i > 0), subset(week44, :PostcodePart => x -> x .== "G33").S1_seropositive),
        count(i -> (i > 0), subset(week44, :PostcodePart => x -> x .== "G34").S1_seropositive),
        count(i -> (i > 0), subset(week44, :PostcodePart => x -> x .== "G40").S1_seropositive),
        count(i -> (i > 0), subset(week44, :PostcodePart => x -> x .== "G41").S1_seropositive),
        count(i -> (i > 0), subset(week44, :PostcodePart => x -> x .== "G42").S1_seropositive),
        count(i -> (i > 0), subset(week44, :PostcodePart => x -> x .== "G43").S1_seropositive),
        count(i -> (i > 0), subset(week44, :PostcodePart => x -> x .== "G44").S1_seropositive),
        count(i -> (i > 0), subset(week44, :PostcodePart => x -> x .== "G45").S1_seropositive),
        count(i -> (i > 0), subset(week44, :PostcodePart => x -> x .== "G46").S1_seropositive),
        count(i -> (i > 0), subset(week44, :PostcodePart => x -> x .== "G51").S1_seropositive),
        count(i -> (i > 0), subset(week44, :PostcodePart => x -> x .== "G52").S1_seropositive),
        count(i -> (i > 0), subset(week44, :PostcodePart => x -> x .== "G53").S1_seropositive),
        count(i -> (i > 0), subset(week44, :PostcodePart => x -> x .== "G60").S1_seropositive),
        count(i -> (i > 0), subset(week44, :PostcodePart => x -> x .== "G61").S1_seropositive),
        count(i -> (i > 0), subset(week44, :PostcodePart => x -> x .== "G62").S1_seropositive),
        count(i -> (i > 0), subset(week44, :PostcodePart => x -> x .== "G63").S1_seropositive),
        count(i -> (i > 0), subset(week44, :PostcodePart => x -> x .== "G64").S1_seropositive),
        count(i -> (i > 0), subset(week44, :PostcodePart => x -> x .== "G65").S1_seropositive),
        count(i -> (i > 0), subset(week44, :PostcodePart => x -> x .== "G66").S1_seropositive),
        count(i -> (i > 0), subset(week44, :PostcodePart => x -> x .== "G67").S1_seropositive),
        count(i -> (i > 0), subset(week44, :PostcodePart => x -> x .== "G68").S1_seropositive),
        count(i -> (i > 0), subset(week44, :PostcodePart => x -> x .== "G71").S1_seropositive),
        count(i -> (i > 0), subset(week44, :PostcodePart => x -> x .== "G72").S1_seropositive),
        count(i -> (i > 0), subset(week44, :PostcodePart => x -> x .== "G73").S1_seropositive),
        count(i -> (i > 0), subset(week44, :PostcodePart => x -> x .== "G74").S1_seropositive),
        count(i -> (i > 0), subset(week44, :PostcodePart => x -> x .== "G75").S1_seropositive),
        count(i -> (i > 0), subset(week44, :PostcodePart => x -> x .== "G76").S1_seropositive),
        count(i -> (i > 0), subset(week44, :PostcodePart => x -> x .== "G77").S1_seropositive),
        count(i -> (i > 0), subset(week44, :PostcodePart => x -> x .== "G78").S1_seropositive),
        count(i -> (i > 0), subset(week44, :PostcodePart => x -> x .== "G81").S1_seropositive),
        count(i -> (i > 0), subset(week44, :PostcodePart => x -> x .== "G82").S1_seropositive),
        count(i -> (i > 0), subset(week44, :PostcodePart => x -> x .== "G83").S1_seropositive),
        count(i -> (i > 0), subset(week44, :PostcodePart => x -> x .== "G84").S1_seropositive)]
week45 = data |> @filter(_.DaysSince < (Date("2020-01-11") - firstdate)) |> DataFrame
S1_data._2021_01_11 = [
        count(i -> (i > 0), subset(week45, :PostcodePart => x -> x .== "G1").S1_seropositive),
        count(i -> (i > 0), subset(week45, :PostcodePart => x -> x .== "G2").S1_seropositive),
        count(i -> (i > 0), subset(week45, :PostcodePart => x -> x .== "G3").S1_seropositive),
        count(i -> (i > 0), subset(week45, :PostcodePart => x -> x .== "G4").S1_seropositive),
        count(i -> (i > 0), subset(week45, :PostcodePart => x -> x .== "G5").S1_seropositive),
        count(i -> (i > 0), subset(week45, :PostcodePart => x -> x .== "G11").S1_seropositive),
        count(i -> (i > 0), subset(week45, :PostcodePart => x -> x .== "G12").S1_seropositive),
        count(i -> (i > 0), subset(week45, :PostcodePart => x -> x .== "G13").S1_seropositive),
        count(i -> (i > 0), subset(week45, :PostcodePart => x -> x .== "G14").S1_seropositive),
        count(i -> (i > 0), subset(week45, :PostcodePart => x -> x .== "G15").S1_seropositive),
        count(i -> (i > 0), subset(week45, :PostcodePart => x -> x .== "G20").S1_seropositive),
        count(i -> (i > 0), subset(week45, :PostcodePart => x -> x .== "G21").S1_seropositive),
        count(i -> (i > 0), subset(week45, :PostcodePart => x -> x .== "G22").S1_seropositive),
        count(i -> (i > 0), subset(week45, :PostcodePart => x -> x .== "G23").S1_seropositive),
        count(i -> (i > 0), subset(week45, :PostcodePart => x -> x .== "G31").S1_seropositive),
        count(i -> (i > 0), subset(week45, :PostcodePart => x -> x .== "G32").S1_seropositive),
        count(i -> (i > 0), subset(week45, :PostcodePart => x -> x .== "G33").S1_seropositive),
        count(i -> (i > 0), subset(week45, :PostcodePart => x -> x .== "G34").S1_seropositive),
        count(i -> (i > 0), subset(week45, :PostcodePart => x -> x .== "G40").S1_seropositive),
        count(i -> (i > 0), subset(week45, :PostcodePart => x -> x .== "G41").S1_seropositive),
        count(i -> (i > 0), subset(week45, :PostcodePart => x -> x .== "G42").S1_seropositive),
        count(i -> (i > 0), subset(week45, :PostcodePart => x -> x .== "G43").S1_seropositive),
        count(i -> (i > 0), subset(week45, :PostcodePart => x -> x .== "G44").S1_seropositive),
        count(i -> (i > 0), subset(week45, :PostcodePart => x -> x .== "G45").S1_seropositive),
        count(i -> (i > 0), subset(week45, :PostcodePart => x -> x .== "G46").S1_seropositive),
        count(i -> (i > 0), subset(week45, :PostcodePart => x -> x .== "G51").S1_seropositive),
        count(i -> (i > 0), subset(week45, :PostcodePart => x -> x .== "G52").S1_seropositive),
        count(i -> (i > 0), subset(week45, :PostcodePart => x -> x .== "G53").S1_seropositive),
        count(i -> (i > 0), subset(week45, :PostcodePart => x -> x .== "G60").S1_seropositive),
        count(i -> (i > 0), subset(week45, :PostcodePart => x -> x .== "G61").S1_seropositive),
        count(i -> (i > 0), subset(week45, :PostcodePart => x -> x .== "G62").S1_seropositive),
        count(i -> (i > 0), subset(week45, :PostcodePart => x -> x .== "G63").S1_seropositive),
        count(i -> (i > 0), subset(week45, :PostcodePart => x -> x .== "G64").S1_seropositive),
        count(i -> (i > 0), subset(week45, :PostcodePart => x -> x .== "G65").S1_seropositive),
        count(i -> (i > 0), subset(week45, :PostcodePart => x -> x .== "G66").S1_seropositive),
        count(i -> (i > 0), subset(week45, :PostcodePart => x -> x .== "G67").S1_seropositive),
        count(i -> (i > 0), subset(week45, :PostcodePart => x -> x .== "G68").S1_seropositive),
        count(i -> (i > 0), subset(week45, :PostcodePart => x -> x .== "G71").S1_seropositive),
        count(i -> (i > 0), subset(week45, :PostcodePart => x -> x .== "G72").S1_seropositive),
        count(i -> (i > 0), subset(week45, :PostcodePart => x -> x .== "G73").S1_seropositive),
        count(i -> (i > 0), subset(week45, :PostcodePart => x -> x .== "G74").S1_seropositive),
        count(i -> (i > 0), subset(week45, :PostcodePart => x -> x .== "G75").S1_seropositive),
        count(i -> (i > 0), subset(week45, :PostcodePart => x -> x .== "G76").S1_seropositive),
        count(i -> (i > 0), subset(week45, :PostcodePart => x -> x .== "G77").S1_seropositive),
        count(i -> (i > 0), subset(week45, :PostcodePart => x -> x .== "G78").S1_seropositive),
        count(i -> (i > 0), subset(week45, :PostcodePart => x -> x .== "G81").S1_seropositive),
        count(i -> (i > 0), subset(week45, :PostcodePart => x -> x .== "G82").S1_seropositive),
        count(i -> (i > 0), subset(week45, :PostcodePart => x -> x .== "G83").S1_seropositive),
        count(i -> (i > 0), subset(week45, :PostcodePart => x -> x .== "G84").S1_seropositive)]
week46 = data |> @filter(_.DaysSince < (Date("2021-01-18") - firstdate)) |> DataFrame
S1_data._2021_01_18 = [
        count(i -> (i > 0), subset(week46, :PostcodePart => x -> x .== "G1").S1_seropositive),
        count(i -> (i > 0), subset(week46, :PostcodePart => x -> x .== "G2").S1_seropositive),
        count(i -> (i > 0), subset(week46, :PostcodePart => x -> x .== "G3").S1_seropositive),
        count(i -> (i > 0), subset(week46, :PostcodePart => x -> x .== "G4").S1_seropositive),
        count(i -> (i > 0), subset(week46, :PostcodePart => x -> x .== "G5").S1_seropositive),
        count(i -> (i > 0), subset(week46, :PostcodePart => x -> x .== "G11").S1_seropositive),
        count(i -> (i > 0), subset(week46, :PostcodePart => x -> x .== "G12").S1_seropositive),
        count(i -> (i > 0), subset(week46, :PostcodePart => x -> x .== "G13").S1_seropositive),
        count(i -> (i > 0), subset(week46, :PostcodePart => x -> x .== "G14").S1_seropositive),
        count(i -> (i > 0), subset(week46, :PostcodePart => x -> x .== "G15").S1_seropositive),
        count(i -> (i > 0), subset(week46, :PostcodePart => x -> x .== "G20").S1_seropositive),
        count(i -> (i > 0), subset(week46, :PostcodePart => x -> x .== "G21").S1_seropositive),
        count(i -> (i > 0), subset(week46, :PostcodePart => x -> x .== "G22").S1_seropositive),
        count(i -> (i > 0), subset(week46, :PostcodePart => x -> x .== "G23").S1_seropositive),
        count(i -> (i > 0), subset(week46, :PostcodePart => x -> x .== "G31").S1_seropositive),
        count(i -> (i > 0), subset(week46, :PostcodePart => x -> x .== "G32").S1_seropositive),
        count(i -> (i > 0), subset(week46, :PostcodePart => x -> x .== "G33").S1_seropositive),
        count(i -> (i > 0), subset(week46, :PostcodePart => x -> x .== "G34").S1_seropositive),
        count(i -> (i > 0), subset(week46, :PostcodePart => x -> x .== "G40").S1_seropositive),
        count(i -> (i > 0), subset(week46, :PostcodePart => x -> x .== "G41").S1_seropositive),
        count(i -> (i > 0), subset(week46, :PostcodePart => x -> x .== "G42").S1_seropositive),
        count(i -> (i > 0), subset(week46, :PostcodePart => x -> x .== "G43").S1_seropositive),
        count(i -> (i > 0), subset(week46, :PostcodePart => x -> x .== "G44").S1_seropositive),
        count(i -> (i > 0), subset(week46, :PostcodePart => x -> x .== "G45").S1_seropositive),
        count(i -> (i > 0), subset(week46, :PostcodePart => x -> x .== "G46").S1_seropositive),
        count(i -> (i > 0), subset(week46, :PostcodePart => x -> x .== "G51").S1_seropositive),
        count(i -> (i > 0), subset(week46, :PostcodePart => x -> x .== "G52").S1_seropositive),
        count(i -> (i > 0), subset(week46, :PostcodePart => x -> x .== "G53").S1_seropositive),
        count(i -> (i > 0), subset(week46, :PostcodePart => x -> x .== "G60").S1_seropositive),
        count(i -> (i > 0), subset(week46, :PostcodePart => x -> x .== "G61").S1_seropositive),
        count(i -> (i > 0), subset(week46, :PostcodePart => x -> x .== "G62").S1_seropositive),
        count(i -> (i > 0), subset(week46, :PostcodePart => x -> x .== "G63").S1_seropositive),
        count(i -> (i > 0), subset(week46, :PostcodePart => x -> x .== "G64").S1_seropositive),
        count(i -> (i > 0), subset(week46, :PostcodePart => x -> x .== "G65").S1_seropositive),
        count(i -> (i > 0), subset(week46, :PostcodePart => x -> x .== "G66").S1_seropositive),
        count(i -> (i > 0), subset(week46, :PostcodePart => x -> x .== "G67").S1_seropositive),
        count(i -> (i > 0), subset(week46, :PostcodePart => x -> x .== "G68").S1_seropositive),
        count(i -> (i > 0), subset(week46, :PostcodePart => x -> x .== "G71").S1_seropositive),
        count(i -> (i > 0), subset(week46, :PostcodePart => x -> x .== "G72").S1_seropositive),
        count(i -> (i > 0), subset(week46, :PostcodePart => x -> x .== "G73").S1_seropositive),
        count(i -> (i > 0), subset(week46, :PostcodePart => x -> x .== "G74").S1_seropositive),
        count(i -> (i > 0), subset(week46, :PostcodePart => x -> x .== "G75").S1_seropositive),
        count(i -> (i > 0), subset(week46, :PostcodePart => x -> x .== "G76").S1_seropositive),
        count(i -> (i > 0), subset(week46, :PostcodePart => x -> x .== "G77").S1_seropositive),
        count(i -> (i > 0), subset(week46, :PostcodePart => x -> x .== "G78").S1_seropositive),
        count(i -> (i > 0), subset(week46, :PostcodePart => x -> x .== "G81").S1_seropositive),
        count(i -> (i > 0), subset(week46, :PostcodePart => x -> x .== "G82").S1_seropositive),
        count(i -> (i > 0), subset(week46, :PostcodePart => x -> x .== "G83").S1_seropositive),
        count(i -> (i > 0), subset(week46, :PostcodePart => x -> x .== "G84").S1_seropositive)]

S1_data |> CSV.write("./honoursproject/data/by_postcode/S1_data.csv")